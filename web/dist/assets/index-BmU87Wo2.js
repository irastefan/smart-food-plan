(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ju={exports:{}},Aa={},Su={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),Bp=Symbol.for("react.portal"),Kp=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),Yp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Zp=Symbol.for("react.memo"),em=Symbol.for("react.lazy"),Zo=Symbol.iterator;function tm(e){return e===null||typeof e!="object"?null:(e=Zo&&e[Zo]||e["@@iterator"],typeof e=="function"?e:null)}var ku={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bu=Object.assign,Nu={};function hr(e,t,n){this.props=e,this.context=t,this.refs=Nu,this.updater=n||ku}hr.prototype.isReactComponent={};hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pu(){}Pu.prototype=hr.prototype;function Wl(e,t,n){this.props=e,this.context=t,this.refs=Nu,this.updater=n||ku}var ql=Wl.prototype=new Pu;ql.constructor=Wl;bu(ql,hr.prototype);ql.isPureReactComponent=!0;var ec=Array.isArray,Cu=Object.prototype.hasOwnProperty,Yl={current:null},Eu={key:!0,ref:!0,__self:!0,__source:!0};function Lu(e,t,n){var r,s={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Cu.call(t,r)&&!Eu.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:hs,type:e,key:a,ref:l,props:s,_owner:Yl.current}}function nm(e,t){return{$$typeof:hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ql(e){return typeof e=="object"&&e!==null&&e.$$typeof===hs}function rm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tc=/\/+/g;function di(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rm(""+e.key):t.toString(36)}function Ys(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case hs:case Bp:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+di(l,0):r,ec(s)?(n="",e!=null&&(n=e.replace(tc,"$&/")+"/"),Ys(s,t,n,"",function(u){return u})):s!=null&&(Ql(s)&&(s=nm(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(tc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",ec(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+di(a,o);l+=Ys(a,t,n,c,s)}else if(c=tm(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+di(a,o++),l+=Ys(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Es(e,t,n){if(e==null)return e;var r=[],s=0;return Ys(e,r,"","",function(a){return t.call(n,a,s++)}),r}function sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Qs={transition:null},am={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Qs,ReactCurrentOwner:Yl};function Fu(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Es,forEach:function(e,t,n){Es(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Es(e,function(){t++}),t},toArray:function(e){return Es(e,function(t){return t})||[]},only:function(e){if(!Ql(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=hr;X.Fragment=Kp;X.Profiler=qp;X.PureComponent=Wl;X.StrictMode=Wp;X.Suspense=Xp;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=am;X.act=Fu;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bu({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Yl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Cu.call(t,c)&&!Eu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:hs,type:e.type,key:s,ref:a,props:r,_owner:l}};X.createContext=function(e){return e={$$typeof:Qp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yp,_context:e},e.Consumer=e};X.createElement=Lu;X.createFactory=function(e){var t=Lu.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Jp,render:e}};X.isValidElement=Ql;X.lazy=function(e){return{$$typeof:em,_payload:{_status:-1,_result:e},_init:sm}};X.memo=function(e,t){return{$$typeof:Zp,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Qs.transition;Qs.transition={};try{e()}finally{Qs.transition=t}};X.unstable_act=Fu;X.useCallback=function(e,t){return et.current.useCallback(e,t)};X.useContext=function(e){return et.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return et.current.useDeferredValue(e)};X.useEffect=function(e,t){return et.current.useEffect(e,t)};X.useId=function(){return et.current.useId()};X.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return et.current.useMemo(e,t)};X.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};X.useRef=function(e){return et.current.useRef(e)};X.useState=function(e){return et.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return et.current.useTransition()};X.version="18.3.1";Su.exports=X;var h=Su.exports;const im=zp(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=h,om=Symbol.for("react.element"),cm=Symbol.for("react.fragment"),um=Object.prototype.hasOwnProperty,dm=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fm={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var r,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)um.call(t,r)&&!fm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:om,type:e,key:a,ref:l,props:s,_owner:dm.current}}Aa.Fragment=cm;Aa.jsx=Tu;Aa.jsxs=Tu;ju.exports=Aa;var i=ju.exports,qi={},Du={exports:{}},dt={},Iu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var G=P.length;P.push(I);e:for(;0<G;){var q=G-1>>>1,ae=P[q];if(0<s(ae,I))P[q]=I,P[G]=ae,G=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var I=P[0],G=P.pop();if(G!==I){P[0]=G;e:for(var q=0,ae=P.length,R=ae>>>1;q<R;){var W=2*(q+1)-1,O=P[W],T=W+1,Y=P[T];if(0>s(O,G))T<ae&&0>s(Y,O)?(P[q]=Y,P[T]=G,q=T):(P[q]=O,P[W]=G,q=W);else if(T<ae&&0>s(Y,G))P[q]=Y,P[T]=G,q=T;else break e}}return I}function s(P,I){var G=P.sortIndex-I.sortIndex;return G!==0?G:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,y=null,f=3,_=!1,x=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=P)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function w(P){if(k=!1,p(P),!x)if(n(c)!==null)x=!0,Ue(S);else{var I=n(u);I!==null&&C(w,I.startTime-P)}}function S(P,I){x=!1,k&&(k=!1,g(L),L=-1),_=!0;var G=f;try{for(p(I),y=n(c);y!==null&&(!(y.expirationTime>I)||P&&!M());){var q=y.callback;if(typeof q=="function"){y.callback=null,f=y.priorityLevel;var ae=q(y.expirationTime<=I);I=e.unstable_now(),typeof ae=="function"?y.callback=ae:y===n(c)&&r(c),p(I)}else r(c);y=n(c)}if(y!==null)var R=!0;else{var W=n(u);W!==null&&C(w,W.startTime-I),R=!1}return R}finally{y=null,f=G,_=!1}}var E=!1,F=null,L=-1,$=5,U=-1;function M(){return!(e.unstable_now()-U<$)}function K(){if(F!==null){var P=e.unstable_now();U=P;var I=!0;try{I=F(!0,P)}finally{I?re():(E=!1,F=null)}}else E=!1}var re;if(typeof m=="function")re=function(){m(K)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Re=ue.port2;ue.port1.onmessage=K,re=function(){Re.postMessage(null)}}else re=function(){D(K,0)};function Ue(P){F=P,E||(E=!0,re())}function C(P,I){L=D(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||_||(x=!0,Ue(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var G=f;f=I;try{return P()}finally{f=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var G=f;f=P;try{return I()}finally{f=G}},e.unstable_scheduleCallback=function(P,I,G){var q=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?q+G:q):G=q,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=G+ae,P={id:d++,callback:I,priorityLevel:P,startTime:G,expirationTime:ae,sortIndex:-1},G>q?(P.sortIndex=G,t(u,P),n(c)===null&&P===n(u)&&(k?(g(L),L=-1):k=!0,C(w,G-q))):(P.sortIndex=ae,t(c,P),x||_||(x=!0,Ue(S))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var I=f;return function(){var G=f;f=I;try{return P.apply(this,arguments)}finally{f=G}}}})(Ru);Iu.exports=Ru;var pm=Iu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=h,ut=pm;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Au=new Set,Xr={};function Gn(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(Xr[e]=t,e=0;e<t.length;e++)Au.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yi=Object.prototype.hasOwnProperty,gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nc={},rc={};function hm(e){return Yi.call(rc,e)?!0:Yi.call(nc,e)?!1:gm.test(e)?rc[e]=!0:(nc[e]=!0,!1)}function ym(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vm(e,t,n,r){if(t===null||typeof t>"u"||ym(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jl=/[\-:]([a-z])/g;function Xl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jl,Xl);Ve[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jl,Xl);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jl,Xl);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zl(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vm(t,n,s,r)&&(n=null),r||s===null?hm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),eo=Symbol.for("react.strict_mode"),Qi=Symbol.for("react.profiler"),Gu=Symbol.for("react.provider"),Mu=Symbol.for("react.context"),to=Symbol.for("react.forward_ref"),Ji=Symbol.for("react.suspense"),Xi=Symbol.for("react.suspense_list"),no=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),$u=Symbol.for("react.offscreen"),sc=Symbol.iterator;function jr(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,fi;function Ar(e){if(fi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fi=t&&t[1]||""}return`
`+fi+e}var pi=!1;function mi(e,t){if(!e||pi)return"";pi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),l=s.length-1,o=a.length-1;1<=l&&0<=o&&s[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==a[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{pi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ar(e):""}function wm(e){switch(e.tag){case 5:return Ar(e.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 2:case 15:return e=mi(e.type,!1),e;case 11:return e=mi(e.type.render,!1),e;case 1:return e=mi(e.type,!0),e;default:return""}}function Zi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hn:return"Fragment";case Un:return"Portal";case Qi:return"Profiler";case eo:return"StrictMode";case Ji:return"Suspense";case Xi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mu:return(e.displayName||"Context")+".Consumer";case Gu:return(e._context.displayName||"Context")+".Provider";case to:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case no:return t=e.displayName||null,t!==null?t:Zi(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Zi(e(t))}catch{}}return null}function _m(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zi(t);case 8:return t===eo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xm(e){var t=Ou(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=xm(e))}function Vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ou(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function el(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ac(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uu(e,t){t=t.checked,t!=null&&Zl(e,"checked",t,!1)}function tl(e,t){Uu(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nl(e,t.type,n):t.hasOwnProperty("defaultValue")&&nl(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ic(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nl(e,t,n){(t!=="number"||ca(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function nr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(Gr(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function Hu(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function oc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,Bu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jm=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){jm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function Ku(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function Wu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ku(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Sm=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(e,t){if(t){if(Sm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function il(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=null;function ro(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,rr=null,sr=null;function cc(e){if(e=ws(e)){if(typeof ol!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Va(t),ol(e.stateNode,e.type,t))}}function qu(e){rr?sr?sr.push(e):sr=[e]:rr=e}function Yu(){if(rr){var e=rr,t=sr;if(sr=rr=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function Qu(e,t){return e(t)}function Ju(){}var gi=!1;function Xu(e,t,n){if(gi)return e(t,n);gi=!0;try{return Qu(e,t,n)}finally{gi=!1,(rr!==null||sr!==null)&&(Ju(),Yu())}}function es(e,t){var n=e.stateNode;if(n===null)return null;var r=Va(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var cl=!1;if(Bt)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{cl=!1}function km(e,t,n,r,s,a,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Vr=!1,ua=null,da=!1,ul=null,bm={onError:function(e){Vr=!0,ua=e}};function Nm(e,t,n,r,s,a,l,o,c){Vr=!1,ua=null,km.apply(bm,arguments)}function Pm(e,t,n,r,s,a,l,o,c){if(Nm.apply(this,arguments),Vr){if(Vr){var u=ua;Vr=!1,ua=null}else throw Error(A(198));da||(da=!0,ul=u)}}function Mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uc(e){if(Mn(e)!==e)throw Error(A(188))}function Cm(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return uc(s),e;if(a===r)return uc(s),t;a=a.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=a;break}if(o===r){l=!0,r=s,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,r=s;break}if(o===r){l=!0,r=a,n=s;break}o=o.sibling}if(!l)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function ed(e){return e=Cm(e),e!==null?td(e):null}function td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=td(e);if(t!==null)return t;e=e.sibling}return null}var nd=ut.unstable_scheduleCallback,dc=ut.unstable_cancelCallback,Em=ut.unstable_shouldYield,Lm=ut.unstable_requestPaint,ke=ut.unstable_now,Fm=ut.unstable_getCurrentPriorityLevel,so=ut.unstable_ImmediatePriority,rd=ut.unstable_UserBlockingPriority,fa=ut.unstable_NormalPriority,Tm=ut.unstable_LowPriority,sd=ut.unstable_IdlePriority,Ga=null,At=null;function Dm(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Am,Im=Math.log,Rm=Math.LN2;function Am(e){return e>>>=0,e===0?32:31-(Im(e)/Rm|0)|0}var Ds=64,Is=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Mr(o):(a&=l,a!==0&&(r=Mr(a)))}else l=n&~s,l!==0?r=Mr(l):a!==0&&(r=Mr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ct(a),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=Gm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ad(){var e=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),e}function hi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ys(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function $m(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ct(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function ao(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ie=0;function id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ld,io,od,cd,ud,fl=!1,Rs=[],ln=null,on=null,cn=null,ts=new Map,ns=new Map,tn=[],Om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function kr(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ws(t),t!==null&&io(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vm(e,t,n,r,s){switch(t){case"focusin":return ln=kr(ln,e,t,n,r,s),!0;case"dragenter":return on=kr(on,e,t,n,r,s),!0;case"mouseover":return cn=kr(cn,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ts.set(a,kr(ts.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ns.set(a,kr(ns.get(a)||null,e,t,n,r,s)),!0}return!1}function dd(e){var t=bn(e.target);if(t!==null){var n=Mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Zu(n),t!==null){e.blockedOn=t,ud(e.priority,function(){od(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ll=r,n.target.dispatchEvent(r),ll=null}else return t=ws(n),t!==null&&io(t),e.blockedOn=n,!1;t.shift()}return!0}function pc(e,t,n){Js(e)&&n.delete(t)}function Um(){fl=!1,ln!==null&&Js(ln)&&(ln=null),on!==null&&Js(on)&&(on=null),cn!==null&&Js(cn)&&(cn=null),ts.forEach(pc),ns.forEach(pc)}function br(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,Um)))}function rs(e){function t(s){return br(s,e)}if(0<Rs.length){br(Rs[0],e);for(var n=1;n<Rs.length;n++){var r=Rs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&br(ln,e),on!==null&&br(on,e),cn!==null&&br(cn,e),ts.forEach(t),ns.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)dd(n),n.blockedOn===null&&tn.shift()}var ar=Yt.ReactCurrentBatchConfig,ma=!0;function Hm(e,t,n,r){var s=ie,a=ar.transition;ar.transition=null;try{ie=1,lo(e,t,n,r)}finally{ie=s,ar.transition=a}}function zm(e,t,n,r){var s=ie,a=ar.transition;ar.transition=null;try{ie=4,lo(e,t,n,r)}finally{ie=s,ar.transition=a}}function lo(e,t,n,r){if(ma){var s=pl(e,t,n,r);if(s===null)Ni(e,t,r,ga,n),fc(e,r);else if(Vm(s,e,t,n,r))r.stopPropagation();else if(fc(e,r),t&4&&-1<Om.indexOf(e)){for(;s!==null;){var a=ws(s);if(a!==null&&ld(a),a=pl(e,t,n,r),a===null&&Ni(e,t,r,ga,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Ni(e,t,r,null,n)}}var ga=null;function pl(e,t,n,r){if(ga=null,e=ro(r),e=bn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ga=e,null}function fd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fm()){case so:return 1;case rd:return 4;case fa:case Tm:return 16;case sd:return 536870912;default:return 16}default:return 16}}var sn=null,oo=null,Xs=null;function pd(){if(Xs)return Xs;var e,t=oo,n=t.length,r,s="value"in sn?sn.value:sn.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[a-r];r++);return Xs=s.slice(e,1<r?1-r:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function mc(){return!1}function ft(e){function t(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?As:mc,this.isPropagationStopped=mc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=ft(yr),vs=ve({},yr,{view:0,detail:0}),Bm=ft(vs),yi,vi,Nr,Ma=ve({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(yi=e.screenX-Nr.screenX,vi=e.screenY-Nr.screenY):vi=yi=0,Nr=e),yi)},movementY:function(e){return"movementY"in e?e.movementY:vi}}),gc=ft(Ma),Km=ve({},Ma,{dataTransfer:0}),Wm=ft(Km),qm=ve({},vs,{relatedTarget:0}),wi=ft(qm),Ym=ve({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=ft(Ym),Jm=ve({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xm=ft(Jm),Zm=ve({},yr,{data:0}),hc=ft(Zm),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function uo(){return rg}var sg=ve({},vs,{key:function(e){if(e.key){var t=eg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ag=ft(sg),ig=ve({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=ft(ig),lg=ve({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),og=ft(lg),cg=ve({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ug=ft(cg),dg=ve({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fg=ft(dg),pg=[9,13,27,32],fo=Bt&&"CompositionEvent"in window,Ur=null;Bt&&"documentMode"in document&&(Ur=document.documentMode);var mg=Bt&&"TextEvent"in window&&!Ur,md=Bt&&(!fo||Ur&&8<Ur&&11>=Ur),vc=" ",wc=!1;function gd(e,t){switch(e){case"keyup":return pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function gg(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(wc=!0,vc);case"textInput":return e=t.data,e===vc&&wc?null:e;default:return null}}function hg(e,t){if(zn)return e==="compositionend"||!fo&&gd(e,t)?(e=pd(),Xs=oo=sn=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return md&&t.locale!=="ko"?null:t.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yg[e.type]:t==="textarea"}function yd(e,t,n,r){qu(r),t=ha(t,"onChange"),0<t.length&&(n=new co("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hr=null,ss=null;function vg(e){Cd(e,0)}function $a(e){var t=Wn(e);if(Vu(t))return e}function wg(e,t){if(e==="change")return t}var vd=!1;if(Bt){var _i;if(Bt){var xi="oninput"in document;if(!xi){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),xi=typeof xc.oninput=="function"}_i=xi}else _i=!1;vd=_i&&(!document.documentMode||9<document.documentMode)}function jc(){Hr&&(Hr.detachEvent("onpropertychange",wd),ss=Hr=null)}function wd(e){if(e.propertyName==="value"&&$a(ss)){var t=[];yd(t,ss,e,ro(e)),Xu(vg,t)}}function _g(e,t,n){e==="focusin"?(jc(),Hr=t,ss=n,Hr.attachEvent("onpropertychange",wd)):e==="focusout"&&jc()}function xg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $a(ss)}function jg(e,t){if(e==="click")return $a(t)}function Sg(e,t){if(e==="input"||e==="change")return $a(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:kg;function as(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yi.call(t,s)||!Lt(e[s],t[s]))return!1}return!0}function Sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var n=Sc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sc(n)}}function _d(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_d(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xd(){for(var e=window,t=ca();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ca(e.document)}return t}function po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=xd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_d(n.ownerDocument.documentElement,n)){if(r!==null&&po(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=kc(n,a);var l=kc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ng=Bt&&"documentMode"in document&&11>=document.documentMode,Bn=null,ml=null,zr=null,gl=!1;function bc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gl||Bn==null||Bn!==ca(r)||(r=Bn,"selectionStart"in r&&po(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zr&&as(zr,r)||(zr=r,r=ha(ml,"onSelect"),0<r.length&&(t=new co("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bn)))}function Gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kn={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},ji={},jd={};Bt&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Oa(e){if(ji[e])return ji[e];if(!Kn[e])return e;var t=Kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jd)return ji[e]=t[n];return e}var Sd=Oa("animationend"),kd=Oa("animationiteration"),bd=Oa("animationstart"),Nd=Oa("transitionend"),Pd=new Map,Nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){Pd.set(e,t),Gn(t,[e])}for(var Si=0;Si<Nc.length;Si++){var ki=Nc[Si],Pg=ki.toLowerCase(),Cg=ki[0].toUpperCase()+ki.slice(1);yn(Pg,"on"+Cg)}yn(Sd,"onAnimationEnd");yn(kd,"onAnimationIteration");yn(bd,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(Nd,"onTransitionEnd");or("onMouseEnter",["mouseout","mouseover"]);or("onMouseLeave",["mouseout","mouseover"]);or("onPointerEnter",["pointerout","pointerover"]);or("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eg=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function Pc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pm(r,t,void 0,e),e.currentTarget=null}function Cd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;Pc(s,o,u),a=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;Pc(s,o,u),a=c}}}if(da)throw e=ul,da=!1,ul=null,e}function fe(e,t){var n=t[_l];n===void 0&&(n=t[_l]=new Set);var r=e+"__bubble";n.has(r)||(Ed(t,e,2,!1),n.add(r))}function bi(e,t,n){var r=0;t&&(r|=4),Ed(n,e,r,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[Ms]){e[Ms]=!0,Au.forEach(function(n){n!=="selectionchange"&&(Eg.has(n)||bi(n,!1,e),bi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,bi("selectionchange",!1,t))}}function Ed(e,t,n,r){switch(fd(t)){case 1:var s=Hm;break;case 4:s=zm;break;default:s=lo}n=s.bind(null,t,n,e),s=void 0,!cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ni(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=bn(o),l===null)return;if(c=l.tag,c===5||c===6){r=a=l;continue e}o=o.parentNode}}r=r.return}Xu(function(){var u=a,d=ro(n),y=[];e:{var f=Pd.get(e);if(f!==void 0){var _=co,x=e;switch(e){case"keypress":if(Zs(n)===0)break e;case"keydown":case"keyup":_=ag;break;case"focusin":x="focus",_=wi;break;case"focusout":x="blur",_=wi;break;case"beforeblur":case"afterblur":_=wi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=og;break;case Sd:case kd:case bd:_=Qm;break;case Nd:_=ug;break;case"scroll":_=Bm;break;case"wheel":_=fg;break;case"copy":case"cut":case"paste":_=Xm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=yc}var k=(t&4)!==0,D=!k&&e==="scroll",g=k?f!==null?f+"Capture":null:f;k=[];for(var m=u,p;m!==null;){p=m;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=es(m,g),w!=null&&k.push(ls(m,w,p)))),D)break;m=m.return}0<k.length&&(f=new _(f,x,null,n,d),y.push({event:f,listeners:k}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",f&&n!==ll&&(x=n.relatedTarget||n.fromElement)&&(bn(x)||x[Kt]))break e;if((_||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=u,x=x?bn(x):null,x!==null&&(D=Mn(x),x!==D||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=u),_!==x)){if(k=gc,w="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(k=yc,w="onPointerLeave",g="onPointerEnter",m="pointer"),D=_==null?f:Wn(_),p=x==null?f:Wn(x),f=new k(w,m+"leave",_,n,d),f.target=D,f.relatedTarget=p,w=null,bn(d)===u&&(k=new k(g,m+"enter",x,n,d),k.target=p,k.relatedTarget=D,w=k),D=w,_&&x)t:{for(k=_,g=x,m=0,p=k;p;p=$n(p))m++;for(p=0,w=g;w;w=$n(w))p++;for(;0<m-p;)k=$n(k),m--;for(;0<p-m;)g=$n(g),p--;for(;m--;){if(k===g||g!==null&&k===g.alternate)break t;k=$n(k),g=$n(g)}k=null}else k=null;_!==null&&Cc(y,f,_,k,!1),x!==null&&D!==null&&Cc(y,D,x,k,!0)}}e:{if(f=u?Wn(u):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var S=wg;else if(_c(f))if(vd)S=Sg;else{S=xg;var E=_g}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=jg);if(S&&(S=S(e,u))){yd(y,S,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&nl(f,"number",f.value)}switch(E=u?Wn(u):window,e){case"focusin":(_c(E)||E.contentEditable==="true")&&(Bn=E,ml=u,zr=null);break;case"focusout":zr=ml=Bn=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,bc(y,n,d);break;case"selectionchange":if(Ng)break;case"keydown":case"keyup":bc(y,n,d)}var F;if(fo)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else zn?gd(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(md&&n.locale!=="ko"&&(zn||L!=="onCompositionStart"?L==="onCompositionEnd"&&zn&&(F=pd()):(sn=d,oo="value"in sn?sn.value:sn.textContent,zn=!0)),E=ha(u,L),0<E.length&&(L=new hc(L,e,null,n,d),y.push({event:L,listeners:E}),F?L.data=F:(F=hd(n),F!==null&&(L.data=F)))),(F=mg?gg(e,n):hg(e,n))&&(u=ha(u,"onBeforeInput"),0<u.length&&(d=new hc("onBeforeInput","beforeinput",null,n,d),y.push({event:d,listeners:u}),d.data=F))}Cd(y,t)})}function ls(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ha(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=es(e,n),a!=null&&r.unshift(ls(e,a,s)),a=es(e,t),a!=null&&r.push(ls(e,a,s))),e=e.return}return r}function $n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cc(e,t,n,r,s){for(var a=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=es(n,a),c!=null&&l.unshift(ls(n,c,o))):s||(c=es(n,a),c!=null&&l.push(ls(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Lg=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function Ec(e){return(typeof e=="string"?e:""+e).replace(Lg,`
`).replace(Fg,"")}function $s(e,t,n){if(t=Ec(t),Ec(e)!==t&&n)throw Error(A(425))}function ya(){}var hl=null,yl=null;function vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wl=typeof setTimeout=="function"?setTimeout:void 0,Tg=typeof clearTimeout=="function"?clearTimeout:void 0,Lc=typeof Promise=="function"?Promise:void 0,Dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Lc<"u"?function(e){return Lc.resolve(null).then(e).catch(Ig)}:wl;function Ig(e){setTimeout(function(){throw e})}function Pi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),rs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);rs(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+vr,os="__reactProps$"+vr,Kt="__reactContainer$"+vr,_l="__reactEvents$"+vr,Rg="__reactListeners$"+vr,Ag="__reactHandles$"+vr;function bn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fc(e);e!==null;){if(n=e[Rt])return n;e=Fc(e)}return t}e=n,n=e.parentNode}return null}function ws(e){return e=e[Rt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Va(e){return e[os]||null}var xl=[],qn=-1;function vn(e){return{current:e}}function pe(e){0>qn||(e.current=xl[qn],xl[qn]=null,qn--)}function ce(e,t){qn++,xl[qn]=e.current,e.current=t}var hn={},qe=vn(hn),st=vn(!1),Ln=hn;function cr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function va(){pe(st),pe(qe)}function Tc(e,t,n){if(qe.current!==hn)throw Error(A(168));ce(qe,t),ce(st,n)}function Ld(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,_m(e)||"Unknown",s));return ve({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Ln=qe.current,ce(qe,e),ce(st,st.current),!0}function Dc(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Ld(e,t,Ln),r.__reactInternalMemoizedMergedChildContext=e,pe(st),pe(qe),ce(qe,e)):pe(st),ce(st,n)}var Vt=null,Ua=!1,Ci=!1;function Fd(e){Vt===null?Vt=[e]:Vt.push(e)}function Gg(e){Ua=!0,Fd(e)}function wn(){if(!Ci&&Vt!==null){Ci=!0;var e=0,t=ie;try{var n=Vt;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Ua=!1}catch(s){throw Vt!==null&&(Vt=Vt.slice(e+1)),nd(so,wn),s}finally{ie=t,Ci=!1}}return null}var Yn=[],Qn=0,_a=null,xa=0,gt=[],ht=0,Fn=null,Ut=1,Ht="";function xn(e,t){Yn[Qn++]=xa,Yn[Qn++]=_a,_a=e,xa=t}function Td(e,t,n){gt[ht++]=Ut,gt[ht++]=Ht,gt[ht++]=Fn,Fn=e;var r=Ut;e=Ht;var s=32-Ct(r)-1;r&=~(1<<s),n+=1;var a=32-Ct(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Ut=1<<32-Ct(t)+s|n<<s|r,Ht=a+e}else Ut=1<<a|n<<s|r,Ht=e}function mo(e){e.return!==null&&(xn(e,1),Td(e,1,0))}function go(e){for(;e===_a;)_a=Yn[--Qn],Yn[Qn]=null,xa=Yn[--Qn],Yn[Qn]=null;for(;e===Fn;)Fn=gt[--ht],gt[ht]=null,Ht=gt[--ht],gt[ht]=null,Ut=gt[--ht],gt[ht]=null}var ct=null,ot=null,me=!1,bt=null;function Dd(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ic(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ot=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fn!==null?{id:Ut,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,ot=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sl(e){if(me){var t=ot;if(t){var n=t;if(!Ic(e,t)){if(jl(e))throw Error(A(418));t=un(n.nextSibling);var r=ct;t&&Ic(e,t)?Dd(r,n):(e.flags=e.flags&-4097|2,me=!1,ct=e)}}else{if(jl(e))throw Error(A(418));e.flags=e.flags&-4097|2,me=!1,ct=e}}}function Rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Os(e){if(e!==ct)return!1;if(!me)return Rc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vl(e.type,e.memoizedProps)),t&&(t=ot)){if(jl(e))throw Id(),Error(A(418));for(;t;)Dd(e,t),t=un(t.nextSibling)}if(Rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=ct?un(e.stateNode.nextSibling):null;return!0}function Id(){for(var e=ot;e;)e=un(e.nextSibling)}function ur(){ot=ct=null,me=!1}function ho(e){bt===null?bt=[e]:bt.push(e)}var Mg=Yt.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=s.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ac(e){var t=e._init;return t(e._payload)}function Rd(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=mn(g,m),g.index=0,g.sibling=null,g}function a(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,p,w){return m===null||m.tag!==6?(m=Ri(p,g.mode,w),m.return=g,m):(m=s(m,p),m.return=g,m)}function c(g,m,p,w){var S=p.type;return S===Hn?d(g,m,p.props.children,w,p.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zt&&Ac(S)===m.type)?(w=s(m,p.props),w.ref=Pr(g,m,p),w.return=g,w):(w=ia(p.type,p.key,p.props,null,g.mode,w),w.ref=Pr(g,m,p),w.return=g,w)}function u(g,m,p,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Ai(p,g.mode,w),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,w,S){return m===null||m.tag!==7?(m=En(p,g.mode,w,S),m.return=g,m):(m=s(m,p),m.return=g,m)}function y(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ri(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ls:return p=ia(m.type,m.key,m.props,null,g.mode,p),p.ref=Pr(g,null,m),p.return=g,p;case Un:return m=Ai(m,g.mode,p),m.return=g,m;case Zt:var w=m._init;return y(g,w(m._payload),p)}if(Gr(m)||jr(m))return m=En(m,g.mode,p,null),m.return=g,m;Vs(g,m)}return null}function f(g,m,p,w){var S=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:o(g,m,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ls:return p.key===S?c(g,m,p,w):null;case Un:return p.key===S?u(g,m,p,w):null;case Zt:return S=p._init,f(g,m,S(p._payload),w)}if(Gr(p)||jr(p))return S!==null?null:d(g,m,p,w,null);Vs(g,p)}return null}function _(g,m,p,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,o(m,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ls:return g=g.get(w.key===null?p:w.key)||null,c(m,g,w,S);case Un:return g=g.get(w.key===null?p:w.key)||null,u(m,g,w,S);case Zt:var E=w._init;return _(g,m,p,E(w._payload),S)}if(Gr(w)||jr(w))return g=g.get(p)||null,d(m,g,w,S,null);Vs(m,w)}return null}function x(g,m,p,w){for(var S=null,E=null,F=m,L=m=0,$=null;F!==null&&L<p.length;L++){F.index>L?($=F,F=null):$=F.sibling;var U=f(g,F,p[L],w);if(U===null){F===null&&(F=$);break}e&&F&&U.alternate===null&&t(g,F),m=a(U,m,L),E===null?S=U:E.sibling=U,E=U,F=$}if(L===p.length)return n(g,F),me&&xn(g,L),S;if(F===null){for(;L<p.length;L++)F=y(g,p[L],w),F!==null&&(m=a(F,m,L),E===null?S=F:E.sibling=F,E=F);return me&&xn(g,L),S}for(F=r(g,F);L<p.length;L++)$=_(F,g,L,p[L],w),$!==null&&(e&&$.alternate!==null&&F.delete($.key===null?L:$.key),m=a($,m,L),E===null?S=$:E.sibling=$,E=$);return e&&F.forEach(function(M){return t(g,M)}),me&&xn(g,L),S}function k(g,m,p,w){var S=jr(p);if(typeof S!="function")throw Error(A(150));if(p=S.call(p),p==null)throw Error(A(151));for(var E=S=null,F=m,L=m=0,$=null,U=p.next();F!==null&&!U.done;L++,U=p.next()){F.index>L?($=F,F=null):$=F.sibling;var M=f(g,F,U.value,w);if(M===null){F===null&&(F=$);break}e&&F&&M.alternate===null&&t(g,F),m=a(M,m,L),E===null?S=M:E.sibling=M,E=M,F=$}if(U.done)return n(g,F),me&&xn(g,L),S;if(F===null){for(;!U.done;L++,U=p.next())U=y(g,U.value,w),U!==null&&(m=a(U,m,L),E===null?S=U:E.sibling=U,E=U);return me&&xn(g,L),S}for(F=r(g,F);!U.done;L++,U=p.next())U=_(F,g,L,U.value,w),U!==null&&(e&&U.alternate!==null&&F.delete(U.key===null?L:U.key),m=a(U,m,L),E===null?S=U:E.sibling=U,E=U);return e&&F.forEach(function(K){return t(g,K)}),me&&xn(g,L),S}function D(g,m,p,w){if(typeof p=="object"&&p!==null&&p.type===Hn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ls:e:{for(var S=p.key,E=m;E!==null;){if(E.key===S){if(S=p.type,S===Hn){if(E.tag===7){n(g,E.sibling),m=s(E,p.props.children),m.return=g,g=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zt&&Ac(S)===E.type){n(g,E.sibling),m=s(E,p.props),m.ref=Pr(g,E,p),m.return=g,g=m;break e}n(g,E);break}else t(g,E);E=E.sibling}p.type===Hn?(m=En(p.props.children,g.mode,w,p.key),m.return=g,g=m):(w=ia(p.type,p.key,p.props,null,g.mode,w),w.ref=Pr(g,m,p),w.return=g,g=w)}return l(g);case Un:e:{for(E=p.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Ai(p,g.mode,w),m.return=g,g=m}return l(g);case Zt:return E=p._init,D(g,m,E(p._payload),w)}if(Gr(p))return x(g,m,p,w);if(jr(p))return k(g,m,p,w);Vs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,p),m.return=g,g=m):(n(g,m),m=Ri(p,g.mode,w),m.return=g,g=m),l(g)):n(g,m)}return D}var dr=Rd(!0),Ad=Rd(!1),ja=vn(null),Sa=null,Jn=null,yo=null;function vo(){yo=Jn=Sa=null}function wo(e){var t=ja.current;pe(ja),e._currentValue=t}function kl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ir(e,t){Sa=e,yo=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(yo!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(Sa===null)throw Error(A(308));Jn=e,Sa.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var Nn=null;function _o(e){Nn===null?Nn=[e]:Nn.push(e)}function Gd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,_o(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wt(e,n)}return s=r.interleaved,s===null?(t.next=t,_o(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wt(e,n)}function ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ao(e,n)}}function Gc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ka(e,t,n,r){var s=e.updateQueue;en=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?a=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var y=s.baseState;l=0,d=u=c=null,o=a;do{var f=o.lane,_=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:_,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,k=o;switch(f=t,_=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){y=x.call(_,y,f);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,f=typeof x=="function"?x.call(_,y,f):x,f==null)break e;y=ve({},y,f);break e;case 2:en=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else _={eventTime:_,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=_,c=y):d=d.next=_,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=y),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Dn|=l,e.lanes=l,e.memoizedState=y}}function Mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var _s={},Gt=vn(_s),cs=vn(_s),us=vn(_s);function Pn(e){if(e===_s)throw Error(A(174));return e}function jo(e,t){switch(ce(us,t),ce(cs,e),ce(Gt,_s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sl(t,e)}pe(Gt),ce(Gt,t)}function fr(){pe(Gt),pe(cs),pe(us)}function $d(e){Pn(us.current);var t=Pn(Gt.current),n=sl(t,e.type);t!==n&&(ce(cs,e),ce(Gt,n))}function So(e){cs.current===e&&(pe(Gt),pe(cs))}var he=vn(0);function ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ei=[];function ko(){for(var e=0;e<Ei.length;e++)Ei[e]._workInProgressVersionPrimary=null;Ei.length=0}var ta=Yt.ReactCurrentDispatcher,Li=Yt.ReactCurrentBatchConfig,Tn=0,ye=null,Le=null,De=null,Na=!1,Br=!1,ds=0,$g=0;function He(){throw Error(A(321))}function bo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function No(e,t,n,r,s,a){if(Tn=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=e===null||e.memoizedState===null?Hg:zg,e=n(r,s),Br){a=0;do{if(Br=!1,ds=0,25<=a)throw Error(A(301));a+=1,De=Le=null,t.updateQueue=null,ta.current=Bg,e=n(r,s)}while(Br)}if(ta.current=Pa,t=Le!==null&&Le.next!==null,Tn=0,De=Le=ye=null,Na=!1,t)throw Error(A(300));return e}function Po(){var e=ds!==0;return ds=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ye.memoizedState=De=e:De=De.next=e,De}function xt(){if(Le===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=De===null?ye.memoizedState:De.next;if(t!==null)De=t,Le=e;else{if(e===null)throw Error(A(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},De===null?ye.memoizedState=De=e:De=De.next=e}return De}function fs(e,t){return typeof t=="function"?t(e):t}function Fi(e){var t=xt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=Le,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=l=null,c=null,u=a;do{var d=u.lane;if((Tn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var y={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=y,l=r):c=c.next=y,ye.lanes|=d,Dn|=d}u=u.next}while(u!==null&&u!==a);c===null?l=r:c.next=o,Lt(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ye.lanes|=a,Dn|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=xt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);Lt(a,t.memoizedState)||(rt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Od(){}function Vd(e,t){var n=ye,r=xt(),s=t(),a=!Lt(r.memoizedState,s);if(a&&(r.memoizedState=s,rt=!0),r=r.queue,Co(zd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,ps(9,Hd.bind(null,n,r,s,t),void 0,null),Ie===null)throw Error(A(349));Tn&30||Ud(n,t,s)}return s}function Ud(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hd(e,t,n,r){t.value=n,t.getSnapshot=r,Bd(t)&&Kd(e)}function zd(e,t,n){return n(function(){Bd(t)&&Kd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function Kd(e){var t=Wt(e,1);t!==null&&Et(t,e,1,-1)}function $c(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ug.bind(null,ye,e),[t.memoizedState,e]}function ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wd(){return xt().memoizedState}function na(e,t,n,r){var s=It();ye.flags|=e,s.memoizedState=ps(1|t,n,void 0,r===void 0?null:r)}function Ha(e,t,n,r){var s=xt();r=r===void 0?null:r;var a=void 0;if(Le!==null){var l=Le.memoizedState;if(a=l.destroy,r!==null&&bo(r,l.deps)){s.memoizedState=ps(t,n,a,r);return}}ye.flags|=e,s.memoizedState=ps(1|t,n,a,r)}function Oc(e,t){return na(8390656,8,e,t)}function Co(e,t){return Ha(2048,8,e,t)}function qd(e,t){return Ha(4,2,e,t)}function Yd(e,t){return Ha(4,4,e,t)}function Qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jd(e,t,n){return n=n!=null?n.concat([e]):null,Ha(4,4,Qd.bind(null,t,e),n)}function Eo(){}function Xd(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zd(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ef(e,t,n){return Tn&21?(Lt(n,t)||(n=ad(),ye.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function Og(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Li.transition;Li.transition={};try{e(!1),t()}finally{ie=n,Li.transition=r}}function tf(){return xt().memoizedState}function Vg(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nf(e))rf(t,n);else if(n=Gd(e,t,n,r),n!==null){var s=Xe();Et(n,e,r,s),sf(n,t,r)}}function Ug(e,t,n){var r=pn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nf(e))rf(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,n);if(s.hasEagerState=!0,s.eagerState=o,Lt(o,l)){var c=t.interleaved;c===null?(s.next=s,_o(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Gd(e,t,s,r),n!==null&&(s=Xe(),Et(n,e,r,s),sf(n,t,r))}}function nf(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function rf(e,t){Br=Na=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ao(e,n)}}var Pa={readContext:_t,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Hg={readContext:_t,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,na(4194308,4,Qd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return na(4194308,4,e,t)},useInsertionEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vg.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:$c,useDebugValue:Eo,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=$c(!1),t=e[0];return e=Og.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,s=It();if(me){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Ie===null)throw Error(A(349));Tn&30||Ud(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Oc(zd.bind(null,r,a,e),[e]),r.flags|=2048,ps(9,Hd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=It(),t=Ie.identifierPrefix;if(me){var n=Ht,r=Ut;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ds++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$g++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zg={readContext:_t,useCallback:Xd,useContext:_t,useEffect:Co,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Yd,useMemo:Zd,useReducer:Fi,useRef:Wd,useState:function(){return Fi(fs)},useDebugValue:Eo,useDeferredValue:function(e){var t=xt();return ef(t,Le.memoizedState,e)},useTransition:function(){var e=Fi(fs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Vd,useId:tf,unstable_isNewReconciler:!1},Bg={readContext:_t,useCallback:Xd,useContext:_t,useEffect:Co,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Yd,useMemo:Zd,useReducer:Ti,useRef:Wd,useState:function(){return Ti(fs)},useDebugValue:Eo,useDeferredValue:function(e){var t=xt();return Le===null?t.memoizedState=e:ef(t,Le.memoizedState,e)},useTransition:function(){var e=Ti(fs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Od,useSyncExternalStore:Vd,useId:tf,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),s=pn(e),a=zt(r,s);a.payload=t,n!=null&&(a.callback=n),t=dn(e,a,s),t!==null&&(Et(t,e,s,r),ea(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),s=pn(e),a=zt(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=dn(e,a,s),t!==null&&(Et(t,e,s,r),ea(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=pn(e),s=zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=dn(e,s,r),t!==null&&(Et(t,e,r,n),ea(t,e,r))}};function Vc(e,t,n,r,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!as(n,r)||!as(s,a):!0}function af(e,t,n){var r=!1,s=hn,a=t.contextType;return typeof a=="object"&&a!==null?a=_t(a):(s=at(t)?Ln:qe.current,r=t.contextTypes,a=(r=r!=null)?cr(e,s):hn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Uc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Nl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},xo(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=_t(a):(a=at(t)?Ln:qe.current,s.context=cr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(bl(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&za.enqueueReplaceState(s,s.state,null),ka(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var n="",r=t;do n+=wm(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Di(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kg=typeof WeakMap=="function"?WeakMap:Map;function lf(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ea||(Ea=!0,Gl=r),Pl(e,t)},n}function of(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Pl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Pl(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Hc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ih.bind(null,e,t,n),t.then(e,e))}function zc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var Wg=Yt.ReactCurrentOwner,rt=!1;function Je(e,t,n,r){t.child=e===null?Ad(t,null,n,r):dr(t,e.child,n,r)}function Kc(e,t,n,r,s){n=n.render;var a=t.ref;return ir(t,s),r=No(e,t,n,r,a,s),n=Po(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(me&&n&&mo(t),t.flags|=1,Je(e,t,r,s),t.child)}function Wc(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Go(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,cf(e,t,a,r,s)):(e=ia(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:as,n(l,r)&&e.ref===t.ref)return qt(e,t,s)}return t.flags|=1,e=mn(a,r),e.ref=t.ref,e.return=t,t.child=e}function cf(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(as(a,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,qt(e,t,s)}return Cl(e,t,n,r,s)}function uf(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Zn,lt),lt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Zn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ce(Zn,lt),lt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ce(Zn,lt),lt|=r;return Je(e,t,s,n),t.child}function df(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,r,s){var a=at(n)?Ln:qe.current;return a=cr(t,a),ir(t,s),n=No(e,t,n,r,a,s),r=Po(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(me&&r&&mo(t),t.flags|=1,Je(e,t,n,s),t.child)}function qc(e,t,n,r,s){if(at(n)){var a=!0;wa(t)}else a=!1;if(ir(t,s),t.stateNode===null)ra(e,t),af(t,n,r),Nl(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=at(n)?Ln:qe.current,u=cr(t,u));var d=n.getDerivedStateFromProps,y=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Uc(t,l,r,u),en=!1;var f=t.memoizedState;l.state=f,ka(t,r,l,s),c=t.memoizedState,o!==r||f!==c||st.current||en?(typeof d=="function"&&(bl(t,n,d,r),c=t.memoizedState),(o=en||Vc(t,n,o,r,f,c,u))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Md(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:St(t.type,o),l.props=u,y=t.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=at(n)?Ln:qe.current,c=cr(t,c));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==y||f!==c)&&Uc(t,l,r,c),en=!1,f=t.memoizedState,l.state=f,ka(t,r,l,s);var x=t.memoizedState;o!==y||f!==x||st.current||en?(typeof _=="function"&&(bl(t,n,_,r),x=t.memoizedState),(u=en||Vc(t,n,u,r,f,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return El(e,t,n,r,a,s)}function El(e,t,n,r,s,a){df(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Dc(t,n,!1),qt(e,t,a);r=t.stateNode,Wg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=dr(t,e.child,null,a),t.child=dr(t,null,o,a)):Je(e,t,o,a),t.memoizedState=r.state,s&&Dc(t,n,!0),t.child}function ff(e){var t=e.stateNode;t.pendingContext?Tc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tc(e,t.context,!1),jo(e,t.containerInfo)}function Yc(e,t,n,r,s){return ur(),ho(s),t.flags|=256,Je(e,t,n,r),t.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function pf(e,t,n){var r=t.pendingProps,s=he.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(he,s&1),e===null)return Sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Wa(l,r,0,null),e=En(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fl(n),t.memoizedState=Ll,e):Lo(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return qg(e,t,l,r,o,s,n);if(a){a=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=mn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=mn(o,a):(a=En(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?Fl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ll,r}return a=e.child,e=a.sibling,r=mn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Lo(e,t){return t=Wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,n,r){return r!==null&&ho(r),dr(t,e.child,null,n),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qg(e,t,n,r,s,a,l){if(n)return t.flags&256?(t.flags&=-257,r=Di(Error(A(422))),Us(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Wa({mode:"visible",children:r.children},s,0,null),a=En(a,s,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&dr(t,e.child,null,l),t.child.memoizedState=Fl(l),t.memoizedState=Ll,a);if(!(t.mode&1))return Us(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(A(419)),r=Di(a,r,void 0),Us(e,t,l,r)}if(o=(l&e.childLanes)!==0,rt||o){if(r=Ie,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Wt(e,s),Et(r,e,s,-1))}return Ao(),r=Di(Error(A(421))),Us(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lh.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ot=un(s.nextSibling),ct=t,me=!0,bt=null,e!==null&&(gt[ht++]=Ut,gt[ht++]=Ht,gt[ht++]=Fn,Ut=e.id,Ht=e.overflow,Fn=t),t=Lo(t,r.children),t.flags|=4096,t)}function Qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kl(e.return,t,n)}function Ii(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function mf(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Je(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,n,t);else if(e.tag===19)Qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(he,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ba(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ii(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ba(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ii(t,!0,n,null,a);break;case"together":Ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ra(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yg(e,t,n){switch(t.tag){case 3:ff(t),ur();break;case 5:$d(t);break;case 1:at(t.type)&&wa(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(ja,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?pf(e,t,n):(ce(he,he.current&1),e=qt(e,t,n),e!==null?e.sibling:null);ce(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,uf(e,t,n)}return qt(e,t,n)}var gf,Tl,hf,yf;gf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tl=function(){};hf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Pn(Gt.current);var a=null;switch(n){case"input":s=el(e,s),r=el(e,r),a=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),a=[];break;case"textarea":s=rl(e,s),r=rl(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ya)}al(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};yf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qg(e,t,n){var r=t.pendingProps;switch(go(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return at(t.type)&&va(),ze(t),null;case 3:return r=t.stateNode,fr(),pe(st),pe(qe),ko(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(Ol(bt),bt=null))),Tl(e,t),ze(t),null;case 5:So(t);var s=Pn(us.current);if(n=t.type,e!==null&&t.stateNode!=null)hf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return ze(t),null}if(e=Pn(Gt.current),Os(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Rt]=t,r[os]=a,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<$r.length;s++)fe($r[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":ac(r,a),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fe("invalid",r);break;case"textarea":lc(r,a),fe("invalid",r)}al(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&$s(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&$s(r.textContent,o,e),s=["children",""+o]):Xr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&fe("scroll",r)}switch(n){case"input":Fs(r),ic(r,a,!0);break;case"textarea":Fs(r),oc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ya)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Rt]=t,e[os]=r,gf(e,t,!1,!1),t.stateNode=e;e:{switch(l=il(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<$r.length;s++)fe($r[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":ac(e,r),s=el(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":lc(e,r),s=rl(e,r),fe("invalid",e);break;default:s=r}al(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Wu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bu(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zr(e,c):typeof c=="number"&&Zr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&fe("scroll",e):c!=null&&Zl(e,a,c,l))}switch(n){case"input":Fs(e),ic(e,r,!1);break;case"textarea":Fs(e),oc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?nr(e,!!r.multiple,a,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)yf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Pn(us.current),Pn(Gt.current),Os(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(a=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:$s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return ze(t),null;case 13:if(pe(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ot!==null&&t.mode&1&&!(t.flags&128))Id(),ur(),t.flags|=98560,a=!1;else if(a=Os(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[Rt]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else bt!==null&&(Ol(bt),bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Fe===0&&(Fe=3):Ao())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return fr(),Tl(e,t),e===null&&is(t.stateNode.containerInfo),ze(t),null;case 10:return wo(t.type._context),ze(t),null;case 17:return at(t.type)&&va(),ze(t),null;case 19:if(pe(he),a=t.memoizedState,a===null)return ze(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)Cr(a,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ba(e),l!==null){for(t.flags|=128,Cr(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(he,he.current&1|2),t.child}e=e.sibling}a.tail!==null&&ke()>mr&&(t.flags|=128,r=!0,Cr(a,!1),t.lanes=4194304)}else{if(!r)if(e=ba(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!me)return ze(t),null}else 2*ke()-a.renderingStartTime>mr&&n!==1073741824&&(t.flags|=128,r=!0,Cr(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ke(),t.sibling=null,n=he.current,ce(he,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Ro(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Jg(e,t){switch(go(t),t.tag){case 1:return at(t.type)&&va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),pe(st),pe(qe),ko(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return So(t),null;case 13:if(pe(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(he),null;case 4:return fr(),null;case 10:return wo(t.type._context),null;case 22:case 23:return Ro(),null;case 24:return null;default:return null}}var Hs=!1,We=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,H=null;function Xn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function Dl(e,t,n){try{n()}catch(r){je(e,t,r)}}var Jc=!1;function Zg(e,t){if(hl=ma,e=xd(),po(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,y=e,f=null;t:for(;;){for(var _;y!==n||s!==0&&y.nodeType!==3||(o=l+s),y!==a||r!==0&&y.nodeType!==3||(c=l+r),y.nodeType===3&&(l+=y.nodeValue.length),(_=y.firstChild)!==null;)f=y,y=_;for(;;){if(y===e)break t;if(f===n&&++u===s&&(o=l),f===a&&++d===r&&(c=l),(_=y.nextSibling)!==null)break;y=f,f=y.parentNode}y=_}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yl={focusedElem:e,selectionRange:n},ma=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,D=x.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:St(t.type,k),D);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){je(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return x=Jc,Jc=!1,x}function Kr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Dl(t,n,a)}s=s.next}while(s!==r)}}function Ba(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Il(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vf(e){var t=e.alternate;t!==null&&(e.alternate=null,vf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[os],delete t[_l],delete t[Rg],delete t[Ag])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wf(e){return e.tag===5||e.tag===3||e.tag===4}function Xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ya));else if(r!==4&&(e=e.child,e!==null))for(Rl(e,t,n),e=e.sibling;e!==null;)Rl(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Al(e,t,n),e=e.sibling;e!==null;)Al(e,t,n),e=e.sibling}var Me=null,kt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)_f(e,t,n),n=n.sibling}function _f(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:We||Xn(n,t);case 6:var r=Me,s=kt;Me=null,Qt(e,t,n),Me=r,kt=s,Me!==null&&(kt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(kt?(e=Me,n=n.stateNode,e.nodeType===8?Pi(e.parentNode,n):e.nodeType===1&&Pi(e,n),rs(e)):Pi(Me,n.stateNode));break;case 4:r=Me,s=kt,Me=n.stateNode.containerInfo,kt=!0,Qt(e,t,n),Me=r,kt=s;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Dl(n,t,l),s=s.next}while(s!==r)}Qt(e,t,n);break;case 1:if(!We&&(Xn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){je(n,t,o)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Qt(e,t,n),We=r):Qt(e,t,n);break;default:Qt(e,t,n)}}function Zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xg),t.forEach(function(r){var s=oh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,kt=!1;break e;case 3:Me=o.stateNode.containerInfo,kt=!0;break e;case 4:Me=o.stateNode.containerInfo,kt=!0;break e}o=o.return}if(Me===null)throw Error(A(160));_f(a,l,s),Me=null,kt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}function xf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Tt(e),r&4){try{Kr(3,e,e.return),Ba(3,e)}catch(k){je(e,e.return,k)}try{Kr(5,e,e.return)}catch(k){je(e,e.return,k)}}break;case 1:jt(t,e),Tt(e),r&512&&n!==null&&Xn(n,n.return);break;case 5:if(jt(t,e),Tt(e),r&512&&n!==null&&Xn(n,n.return),e.flags&32){var s=e.stateNode;try{Zr(s,"")}catch(k){je(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Uu(s,a),il(o,l);var u=il(o,a);for(l=0;l<c.length;l+=2){var d=c[l],y=c[l+1];d==="style"?Wu(s,y):d==="dangerouslySetInnerHTML"?Bu(s,y):d==="children"?Zr(s,y):Zl(s,d,y,u)}switch(o){case"input":tl(s,a);break;case"textarea":Hu(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?nr(s,!!a.multiple,_,!1):f!==!!a.multiple&&(a.defaultValue!=null?nr(s,!!a.multiple,a.defaultValue,!0):nr(s,!!a.multiple,a.multiple?[]:"",!1))}s[os]=a}catch(k){je(e,e.return,k)}}break;case 6:if(jt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(k){je(e,e.return,k)}}break;case 3:if(jt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(k){je(e,e.return,k)}break;case 4:jt(t,e),Tt(e);break;case 13:jt(t,e),Tt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Do=ke())),r&4&&Zc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(We=(u=We)||d,jt(t,e),We=u):jt(t,e),Tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(y=H=d;H!==null;){switch(f=H,_=f.child,f.tag){case 0:case 11:case 14:case 15:Kr(4,f,f.return);break;case 1:Xn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(k){je(r,n,k)}}break;case 5:Xn(f,f.return);break;case 22:if(f.memoizedState!==null){tu(y);continue}}_!==null?(_.return=f,H=_):tu(y)}d=d.sibling}e:for(d=null,y=e;;){if(y.tag===5){if(d===null){d=y;try{s=y.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=y.stateNode,c=y.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ku("display",l))}catch(k){je(e,e.return,k)}}}else if(y.tag===6){if(d===null)try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(k){je(e,e.return,k)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;d===y&&(d=null),y=y.return}d===y&&(d=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:jt(t,e),Tt(e),r&4&&Zc(e);break;case 21:break;default:jt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wf(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zr(s,""),r.flags&=-33);var a=Xc(e);Al(e,a,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Xc(e);Rl(e,o,l);break;default:throw Error(A(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eh(e,t,n){H=e,jf(e)}function jf(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var s=H,a=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Hs;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||We;o=Hs;var u=We;if(Hs=l,(We=c)&&!u)for(H=s;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?nu(s):c!==null?(c.return=l,H=c):nu(s);for(;a!==null;)H=a,jf(a),a=a.sibling;H=s,Hs=o,We=u}eu(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,H=a):eu(e)}}function eu(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Ba(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Mc(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var y=d.dehydrated;y!==null&&rs(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}We||t.flags&512&&Il(t)}catch(f){je(t,t.return,f)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function tu(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function nu(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ba(4,t)}catch(c){je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){je(t,s,c)}}var a=t.return;try{Il(t)}catch(c){je(t,a,c)}break;case 5:var l=t.return;try{Il(t)}catch(c){je(t,l,c)}}}catch(c){je(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var th=Math.ceil,Ca=Yt.ReactCurrentDispatcher,Fo=Yt.ReactCurrentOwner,wt=Yt.ReactCurrentBatchConfig,ne=0,Ie=null,Ee=null,Oe=0,lt=0,Zn=vn(0),Fe=0,ms=null,Dn=0,Ka=0,To=0,Wr=null,nt=null,Do=0,mr=1/0,Ot=null,Ea=!1,Gl=null,fn=null,zs=!1,an=null,La=0,qr=0,Ml=null,sa=-1,aa=0;function Xe(){return ne&6?ke():sa!==-1?sa:sa=ke()}function pn(e){return e.mode&1?ne&2&&Oe!==0?Oe&-Oe:Mg.transition!==null?(aa===0&&(aa=ad()),aa):(e=ie,e!==0||(e=window.event,e=e===void 0?16:fd(e.type)),e):1}function Et(e,t,n,r){if(50<qr)throw qr=0,Ml=null,Error(A(185));ys(e,n,r),(!(ne&2)||e!==Ie)&&(e===Ie&&(!(ne&2)&&(Ka|=n),Fe===4&&nn(e,Oe)),it(e,r),n===1&&ne===0&&!(t.mode&1)&&(mr=ke()+500,Ua&&wn()))}function it(e,t){var n=e.callbackNode;Mm(e,t);var r=pa(e,e===Ie?Oe:0);if(r===0)n!==null&&dc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dc(n),t===1)e.tag===0?Gg(ru.bind(null,e)):Fd(ru.bind(null,e)),Dg(function(){!(ne&6)&&wn()}),n=null;else{switch(id(r)){case 1:n=so;break;case 4:n=rd;break;case 16:n=fa;break;case 536870912:n=sd;break;default:n=fa}n=Lf(n,Sf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sf(e,t){if(sa=-1,aa=0,ne&6)throw Error(A(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var r=pa(e,e===Ie?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fa(e,r);else{t=r;var s=ne;ne|=2;var a=bf();(Ie!==e||Oe!==t)&&(Ot=null,mr=ke()+500,Cn(e,t));do try{sh();break}catch(o){kf(e,o)}while(!0);vo(),Ca.current=a,ne=s,Ee!==null?t=0:(Ie=null,Oe=0,t=Fe)}if(t!==0){if(t===2&&(s=dl(e),s!==0&&(r=s,t=$l(e,s))),t===1)throw n=ms,Cn(e,0),nn(e,r),it(e,ke()),n;if(t===6)nn(e,r);else{if(s=e.current.alternate,!(r&30)&&!nh(s)&&(t=Fa(e,r),t===2&&(a=dl(e),a!==0&&(r=a,t=$l(e,a))),t===1))throw n=ms,Cn(e,0),nn(e,r),it(e,ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:jn(e,nt,Ot);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=Do+500-ke(),10<t)){if(pa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wl(jn.bind(null,e,nt,Ot),t);break}jn(e,nt,Ot);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Ct(r);a=1<<l,l=t[l],l>s&&(s=l),r&=~a}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*th(r/1960))-r,10<r){e.timeoutHandle=wl(jn.bind(null,e,nt,Ot),r);break}jn(e,nt,Ot);break;case 5:jn(e,nt,Ot);break;default:throw Error(A(329))}}}return it(e,ke()),e.callbackNode===n?Sf.bind(null,e):null}function $l(e,t){var n=Wr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Fa(e,t),e!==2&&(t=nt,nt=n,t!==null&&Ol(t)),e}function Ol(e){nt===null?nt=e:nt.push.apply(nt,e)}function nh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Lt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~To,t&=~Ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function ru(e){if(ne&6)throw Error(A(327));lr();var t=pa(e,0);if(!(t&1))return it(e,ke()),null;var n=Fa(e,t);if(e.tag!==0&&n===2){var r=dl(e);r!==0&&(t=r,n=$l(e,r))}if(n===1)throw n=ms,Cn(e,0),nn(e,t),it(e,ke()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,nt,Ot),it(e,ke()),null}function Io(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(mr=ke()+500,Ua&&wn())}}function In(e){an!==null&&an.tag===0&&!(ne&6)&&lr();var t=ne;ne|=1;var n=wt.transition,r=ie;try{if(wt.transition=null,ie=1,e)return e()}finally{ie=r,wt.transition=n,ne=t,!(ne&6)&&wn()}}function Ro(){lt=Zn.current,pe(Zn)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tg(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(go(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&va();break;case 3:fr(),pe(st),pe(qe),ko();break;case 5:So(r);break;case 4:fr();break;case 13:pe(he);break;case 19:pe(he);break;case 10:wo(r.type._context);break;case 22:case 23:Ro()}n=n.return}if(Ie=e,Ee=e=mn(e.current,null),Oe=lt=t,Fe=0,ms=null,To=Ka=Dn=0,nt=Wr=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,r.next=l}n.pending=r}Nn=null}return e}function kf(e,t){do{var n=Ee;try{if(vo(),ta.current=Pa,Na){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Na=!1}if(Tn=0,De=Le=ye=null,Br=!1,ds=0,Fo.current=null,n===null||n.return===null){Fe=1,ms=t,Ee=null;break}e:{var a=e,l=n.return,o=n,c=t;if(t=Oe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,y=d.tag;if(!(d.mode&1)&&(y===0||y===11||y===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=zc(l);if(_!==null){_.flags&=-257,Bc(_,l,o,a,t),_.mode&1&&Hc(a,u,t),t=_,c=u;var x=t.updateQueue;if(x===null){var k=new Set;k.add(c),t.updateQueue=k}else x.add(c);break e}else{if(!(t&1)){Hc(a,u,t),Ao();break e}c=Error(A(426))}}else if(me&&o.mode&1){var D=zc(l);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Bc(D,l,o,a,t),ho(pr(c,o));break e}}a=c=pr(c,o),Fe!==4&&(Fe=2),Wr===null?Wr=[a]:Wr.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=lf(a,c,t);Gc(a,g);break e;case 1:o=c;var m=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fn===null||!fn.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=of(a,o,t);Gc(a,w);break e}}a=a.return}while(a!==null)}Pf(n)}catch(S){t=S,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function bf(){var e=Ca.current;return Ca.current=Pa,e===null?Pa:e}function Ao(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ie===null||!(Dn&268435455)&&!(Ka&268435455)||nn(Ie,Oe)}function Fa(e,t){var n=ne;ne|=2;var r=bf();(Ie!==e||Oe!==t)&&(Ot=null,Cn(e,t));do try{rh();break}catch(s){kf(e,s)}while(!0);if(vo(),ne=n,Ca.current=r,Ee!==null)throw Error(A(261));return Ie=null,Oe=0,Fe}function rh(){for(;Ee!==null;)Nf(Ee)}function sh(){for(;Ee!==null&&!Em();)Nf(Ee)}function Nf(e){var t=Ef(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Pf(e):Ee=t,Fo.current=null}function Pf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jg(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Ee=null;return}}else if(n=Qg(n,t,lt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Fe===0&&(Fe=5)}function jn(e,t,n){var r=ie,s=wt.transition;try{wt.transition=null,ie=1,ah(e,t,n,r)}finally{wt.transition=s,ie=r}return null}function ah(e,t,n,r){do lr();while(an!==null);if(ne&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if($m(e,a),e===Ie&&(Ee=Ie=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zs||(zs=!0,Lf(fa,function(){return lr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=wt.transition,wt.transition=null;var l=ie;ie=1;var o=ne;ne|=4,Fo.current=null,Zg(e,n),xf(n,e),bg(yl),ma=!!hl,yl=hl=null,e.current=n,eh(n),Lm(),ne=o,ie=l,wt.transition=a}else e.current=n;if(zs&&(zs=!1,an=e,La=s),a=e.pendingLanes,a===0&&(fn=null),Dm(n.stateNode),it(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ea)throw Ea=!1,e=Gl,Gl=null,e;return La&1&&e.tag!==0&&lr(),a=e.pendingLanes,a&1?e===Ml?qr++:(qr=0,Ml=e):qr=0,wn(),null}function lr(){if(an!==null){var e=id(La),t=wt.transition,n=ie;try{if(wt.transition=null,ie=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,La=0,ne&6)throw Error(A(331));var s=ne;for(ne|=4,H=e.current;H!==null;){var a=H,l=a.child;if(H.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Kr(8,d,a)}var y=d.child;if(y!==null)y.return=d,H=y;else for(;H!==null;){d=H;var f=d.sibling,_=d.return;if(vf(d),d===u){H=null;break}if(f!==null){f.return=_,H=f;break}H=_}}}var x=a.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var D=k.sibling;k.sibling=null,k=D}while(k!==null)}}H=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,H=l;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Kr(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,H=g;break e}H=a.return}}var m=e.current;for(H=m;H!==null;){l=H;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,H=p;else e:for(l=m;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ba(9,o)}}catch(S){je(o,o.return,S)}if(o===l){H=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,H=w;break e}H=o.return}}if(ne=s,wn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ga,e)}catch{}r=!0}return r}finally{ie=n,wt.transition=t}}return!1}function su(e,t,n){t=pr(n,t),t=lf(e,t,1),e=dn(e,t,1),t=Xe(),e!==null&&(ys(e,1,t),it(e,t))}function je(e,t,n){if(e.tag===3)su(e,e,n);else for(;t!==null;){if(t.tag===3){su(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=pr(n,e),e=of(t,e,1),t=dn(t,e,1),e=Xe(),t!==null&&(ys(t,1,e),it(t,e));break}}t=t.return}}function ih(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Oe&n)===n&&(Fe===4||Fe===3&&(Oe&130023424)===Oe&&500>ke()-Do?Cn(e,0):To|=n),it(e,t)}function Cf(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var n=Xe();e=Wt(e,t),e!==null&&(ys(e,t,n),it(e,n))}function lh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cf(e,n)}function oh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Cf(e,n)}var Ef;Ef=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,Yg(e,t,n);rt=!!(e.flags&131072)}else rt=!1,me&&t.flags&1048576&&Td(t,xa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ra(e,t),e=t.pendingProps;var s=cr(t,qe.current);ir(t,n),s=No(null,t,r,e,s,n);var a=Po();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(a=!0,wa(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xo(t),s.updater=za,t.stateNode=s,s._reactInternals=t,Nl(t,r,e,n),t=El(null,t,r,!0,a,n)):(t.tag=0,me&&a&&mo(t),Je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ra(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=uh(r),e=St(r,e),s){case 0:t=Cl(null,t,r,e,n);break e;case 1:t=qc(null,t,r,e,n);break e;case 11:t=Kc(null,t,r,e,n);break e;case 14:t=Wc(null,t,r,St(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Cl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),qc(e,t,r,s,n);case 3:e:{if(ff(t),e===null)throw Error(A(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Md(e,t),ka(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=pr(Error(A(423)),t),t=Yc(e,t,r,n,s);break e}else if(r!==s){s=pr(Error(A(424)),t),t=Yc(e,t,r,n,s);break e}else for(ot=un(t.stateNode.containerInfo.firstChild),ct=t,me=!0,bt=null,n=Ad(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),r===s){t=qt(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return $d(t),e===null&&Sl(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,vl(r,s)?l=null:a!==null&&vl(r,a)&&(t.flags|=32),df(e,t),Je(e,t,l,n),t.child;case 6:return e===null&&Sl(t),null;case 13:return pf(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dr(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Kc(e,t,r,s,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,ce(ja,r._currentValue),r._currentValue=l,a!==null)if(Lt(a.value,l)){if(a.children===s.children&&!st.current){t=qt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=zt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),kl(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(A(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),kl(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ir(t,n),s=_t(s),r=r(s),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,s=St(r,t.pendingProps),s=St(r.type,s),Wc(e,t,r,s,n);case 15:return cf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),ra(e,t),t.tag=1,at(r)?(e=!0,wa(t)):e=!1,ir(t,n),af(t,r,s),Nl(t,r,s,n),El(null,t,r,!0,e,n);case 19:return mf(e,t,n);case 22:return uf(e,t,n)}throw Error(A(156,t.tag))};function Lf(e,t){return nd(e,t)}function ch(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,r){return new ch(e,t,n,r)}function Go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uh(e){if(typeof e=="function")return Go(e)?1:0;if(e!=null){if(e=e.$$typeof,e===to)return 11;if(e===no)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ia(e,t,n,r,s,a){var l=2;if(r=e,typeof e=="function")Go(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Hn:return En(n.children,s,a,t);case eo:l=8,s|=8;break;case Qi:return e=vt(12,n,t,s|2),e.elementType=Qi,e.lanes=a,e;case Ji:return e=vt(13,n,t,s),e.elementType=Ji,e.lanes=a,e;case Xi:return e=vt(19,n,t,s),e.elementType=Xi,e.lanes=a,e;case $u:return Wa(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gu:l=10;break e;case Mu:l=9;break e;case to:l=11;break e;case no:l=14;break e;case Zt:l=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=vt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function En(e,t,n,r){return e=vt(7,e,r,t),e.lanes=n,e}function Wa(e,t,n,r){return e=vt(22,e,r,t),e.elementType=$u,e.lanes=n,e.stateNode={isHidden:!1},e}function Ri(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Ai(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mo(e,t,n,r,s,a,l,o,c){return e=new dh(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=vt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xo(a),e}function fh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ff(e){if(!e)return hn;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(at(n))return Ld(e,n,t)}return t}function Tf(e,t,n,r,s,a,l,o,c){return e=Mo(n,r,!0,e,s,a,l,o,c),e.context=Ff(null),n=e.current,r=Xe(),s=pn(n),a=zt(r,s),a.callback=t??null,dn(n,a,s),e.current.lanes=s,ys(e,s,r),it(e,r),e}function qa(e,t,n,r){var s=t.current,a=Xe(),l=pn(s);return n=Ff(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(s,t,l),e!==null&&(Et(e,s,l,a),ea(e,s,l)),l}function Ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function au(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $o(e,t){au(e,t),(e=e.alternate)&&au(e,t)}function ph(){return null}var Df=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oo(e){this._internalRoot=e}Ya.prototype.render=Oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));qa(e,t,null,null)};Ya.prototype.unmount=Oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){qa(null,e,null,null)}),t[Kt]=null}};function Ya(e){this._internalRoot=e}Ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=cd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&dd(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iu(){}function mh(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Ta(l);a.call(u)}}var l=Tf(t,r,e,0,null,!1,!1,"",iu);return e._reactRootContainer=l,e[Kt]=l.current,is(e.nodeType===8?e.parentNode:e),In(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Ta(c);o.call(u)}}var c=Mo(e,0,!1,null,null,!1,!1,"",iu);return e._reactRootContainer=c,e[Kt]=c.current,is(e.nodeType===8?e.parentNode:e),In(function(){qa(t,c,n,r)}),c}function Ja(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var o=s;s=function(){var c=Ta(l);o.call(c)}}qa(t,l,e,s)}else l=mh(n,t,e,s,r);return Ta(l)}ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(ao(t,n|1),it(t,ke()),!(ne&6)&&(mr=ke()+500,wn()))}break;case 13:In(function(){var r=Wt(e,1);if(r!==null){var s=Xe();Et(r,e,1,s)}}),$o(e,1)}};io=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=Xe();Et(t,e,134217728,n)}$o(e,134217728)}};od=function(e){if(e.tag===13){var t=pn(e),n=Wt(e,t);if(n!==null){var r=Xe();Et(n,e,t,r)}$o(e,t)}};cd=function(){return ie};ud=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};ol=function(e,t,n){switch(t){case"input":if(tl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Va(r);if(!s)throw Error(A(90));Vu(r),tl(r,s)}}}break;case"textarea":Hu(e,n);break;case"select":t=n.value,t!=null&&nr(e,!!n.multiple,t,!1)}};Qu=Io;Ju=In;var gh={usingClientEntryPoint:!1,Events:[ws,Wn,Va,qu,Yu,Io]},Er={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hh={bundleType:Er.bundleType,version:Er.version,rendererPackageName:Er.rendererPackageName,rendererConfig:Er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ed(e),e===null?null:e.stateNode},findFiberByHostInstance:Er.findFiberByHostInstance||ph,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Ga=Bs.inject(hh),At=Bs}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gh;dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(A(200));return fh(e,t,null,n)};dt.createRoot=function(e,t){if(!Vo(e))throw Error(A(299));var n=!1,r="",s=Df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mo(e,1,!1,null,null,n,!1,r,s),e[Kt]=t.current,is(e.nodeType===8?e.parentNode:e),new Oo(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=ed(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return In(e)};dt.hydrate=function(e,t,n){if(!Qa(t))throw Error(A(200));return Ja(null,e,t,!0,n)};dt.hydrateRoot=function(e,t,n){if(!Vo(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",l=Df;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Tf(t,null,e,1,n??null,s,!1,a,l),e[Kt]=t.current,is(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ya(t)};dt.render=function(e,t,n){if(!Qa(t))throw Error(A(200));return Ja(null,e,t,!1,n)};dt.unmountComponentAtNode=function(e){if(!Qa(e))throw Error(A(40));return e._reactRootContainer?(In(function(){Ja(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};dt.unstable_batchedUpdates=Io;dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qa(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Ja(e,t,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function If(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(If)}catch(e){console.error(e)}}If(),Du.exports=dt;var yh=Du.exports,lu=yh;qi.createRoot=lu.createRoot,qi.hydrateRoot=lu.hydrateRoot;function Rf(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Rf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Rf(e))&&(r&&(r+=" "),r+=t);return r}const vh={"language.option.english":"English","language.option.russian":"Russian","language.switcherLabel":"Change language","language.short.english":"EN","language.short.russian":"RU","theme.modeLight":"Light mode","theme.modeDark":"Dark mode","theme.switchToLight":"Switch to light theme","theme.switchToDark":"Switch to dark theme","theme.light":"Light","theme.dark":"Dark","onboarding.title":"Welcome","onboarding.subtitle":"Select your Vault folder","onboarding.currentFolder":"Current folder","onboarding.noFolder":"No folder selected","onboarding.folderHint":"Your recipes, products, days and shopping list will be stored as Markdown/YAML files inside this folder. You can sync it later via GitHub or Drive.","onboarding.chooseExisting":"Choose existing folder","onboarding.createVault":"Create new Vault","onboarding.remember":"Remember this folder on this device","onboarding.howVaultWorks":"How Vault works","onboarding.status.restorePermission":"We need permission to access the remembered folder. Please select it again.","onboarding.status.reconnected":"Reconnected to {{folder}}. Vault files will sync here.","onboarding.status.restoreError":"We couldn't restore the previously selected folder. Please choose it again.","onboarding.status.unsupported":"Your browser does not support selecting folders yet.","onboarding.status.permissionDenied":"We were not granted permission to use that folder.","onboarding.status.connected":"Connected to {{folder}}. Vault files will sync here.","onboarding.status.connectedPending":"Folder connected. We will finalize setup after confirming permissions.","onboarding.status.rememberFailed":"We connected but could not remember that folder. Try enabling storage access.","onboarding.status.accessError":"We could not access that folder. Please try again or choose another.","onboarding.status.createInfo":"A fresh /vault structure will be generated once you confirm the destination folder.","onboarding.status.vaultInfo":"Vault is a folder that contains recipes, products, days, shopping, and user settings in Markdown/YAML files.","dietModel.balanced":"Balanced classics","dietModel.vegan":"Plant-based","dietModel.fitness":"High-protein fitness","dietModel.keto":"Keto focus","mealTime.breakfast":"Breakfast","mealTime.lunch":"Lunch","mealTime.snack":"Snack","mealTime.dinner":"Dinner","mealTime.flex":"Flexible","addProduct.badge":"New product","addProduct.title":"Add a product using the template","addProduct.subtitle":"Pick a nutrition model, portion size, and macro split. We store the entry so the team can plan cooking and purchasing with ease.","addProduct.vault.label":"Vault folder: {{folder}}","addProduct.vault.label.unselected":"Vault folder is not selected","addProduct.vault.hint.selected":"We will generate a Markdown file inside the products subfolder of this Vault.","addProduct.vault.hint.missing":"Choose a Vault folder to save products in Markdown format.","addProduct.vault.button.choose":"Choose folder","addProduct.vault.button.change":"Change folder","addProduct.status.saving":"Saving product as Markdown","addProduct.status.saved":"File {{file}} saved to /products.","addProduct.status.noVault":"Select a Vault folder first to save the product.","addProduct.status.connected":"Connected to {{folder}}. Files will be written to /products.","addProduct.status.permissionRevoked":"Access to the Vault folder was revoked. Pick the folder again and retry.","addProduct.status.permissionError":"We could not access the selected folder. Allow access and try again.","addProduct.status.restoreError":"We could not restore access to the remembered folder.","addProduct.status.browserUnsupported":"Your browser does not support picking folders via the File System Access API.","addProduct.status.genericError":"We could not create a Markdown file for this product.","addProduct.form.modelLabel":"Diet model","addProduct.form.productNameLabel":"Product name","addProduct.form.productNamePlaceholder":"E.g. grilled chicken breast","addProduct.form.portionLabel":"Portion","addProduct.form.portionPlaceholder":"150","addProduct.form.portionUnit":"grams","addProduct.form.mealTimeLabel":"Meal","addProduct.form.notesLabel":"Notes for the chef","addProduct.form.notesPlaceholder":"For example: grill without oil and add fresh herbs before serving.","addProduct.form.submit":"Add product","addProduct.form.submitSaving":"Saving","addProduct.form.submitEdit":"Save changes","addProduct.form.aiFill":"AI autofill","addProduct.form.nutrients.calories":"Calories","addProduct.form.nutrients.protein":"Protein","addProduct.form.nutrients.fat":"Fat","addProduct.form.nutrients.carbs":"Carbs","addProduct.form.nutrients.caloriesUnit":"kcal","addProduct.form.nutrients.macrosUnit":"g","addProduct.preview.title":"Card preview","addProduct.preview.description":"Updates automatically as you fill the form. A serving recommendation will appear once you save the dish.","addProduct.preview.model":"Model","addProduct.preview.portion":"Portion","addProduct.preview.nutrition":"Macros","addProduct.tip.title":"Tip","addProduct.tip.body":"Tap AI autofill to get macro suggestions from the description and your base models. The feature arrives in the next release.","addProduct.status.created":"Product saved.","addProduct.status.updated":"Product updated.","addProduct.status.loaded":"Product ready for editing.","addProduct.status.editing":"Editing {{title}}.","addProduct.cancelEdit":"Cancel editing","addProduct.goToList":"Back to products","productList.title":"Products","productList.refresh":"Refresh list","productList.loading":"Loading products","productList.empty":"No products found yet. Create the first one to populate the Vault.","productList.error":"We couldn't load the products from the Vault folder.","productList.portion":"Portion","productList.meal":"Meal","productList.macros":"Per portion","productList.notes":"Notes","productList.addToMealPlan":"Add to meal plan","productList.view":"View","productList.edit":"Edit","productList.delete":"Delete","productList.deleteConfirm":"Delete {{title}}?","productList.status.deleted":"Product deleted.","productList.status.deleteError":"We couldn't delete this product.","productList.planMode":"Select a product to add to the plan for {{date}}.","nav.brand":"SmartFoodPlan","nav.products":"Products","nav.addProduct":"Add product","nav.recipes":"Recipes","nav.mealPlan":"Meal plan","nav.settings":"Settings","nav.shopping":"Shopping list","nav.setup":"Vault setup","common.cancel":"Cancel","common.close":"Close","units.grams":"g","units.portion":"portion","mealPlan.description":"Review daily intake, adjust portions, and track macros for each meal section.","mealPlan.title":"Meal plan","mealPlan.selectDate":"Select date","mealPlan.totals.calories":"Calories","mealPlan.totals.protein":"Protein","mealPlan.totals.fat":"Fat","mealPlan.totals.carbs":"Carbs","mealPlan.units.kcal":"kcal","mealPlan.units.grams":"g","mealPlan.state.loading":"Loading day plan","mealPlan.state.updating":"Updating meal plan","mealPlan.state.error":"Failed to load this day.","mealPlan.state.noVault":"Select a Vault folder first.","mealPlan.empty":"No meals yet. Add products to build the plan.","mealPlan.dailyTitle":"Daily plan","mealPlan.addFood":"Add food","mealPlan.emptySection":"No dishes here yet","mealPlan.openItem":"Open","mealPlan.item.edit":"Edit","mealPlan.item.delete":"Remove","mealPlan.item.save":"Save","mealPlan.item.servingsLabel":"Servings","mealPlan.item.quantityLabel":"Quantity","mealPlan.item.updateError":"Couldn't update this item.","mealPlan.item.deleteError":"Couldn't remove this item.","mealPlan.item.invalidValue":"Enter a value greater than zero.","mealPlan.viewRecipes":"Browse recipes","mealPlan.viewProducts":"Browse products","mealPlan.totalEnergy":"Total energy","mealPlan.totalMacros":"Macros total","mealPlan.wellness.mood":"Mood","mealPlan.wellness.sleep":"Sleep","mealPlan.wellness.stress":"Stress","mealPlan.servingsLabel":"{{count}} servings","mealPlan.metrics.target":"Target","mealPlan.metrics.ofTarget":"{{value}}% of target","mealPlan.metrics.noTarget":"Set target in Settings","mealPlan.addProductTitle":"Add {{title}} to the day","mealPlan.chooseMeal":"Meal section","mealPlan.quantityLabel":"Quantity","mealPlan.unitLabel":"Unit","mealPlan.addToDay":"Add to day","mealPlan.sectionTotal":"Total: {{value}} {{unit}}","mealPlan.totalSummary":"Total: {{kcal}} kcal  Protein {{protein}} g  Fat {{fat}} g  Carbs {{carbs}} g","mealPlan.status.added":"Added {{title}} to {{section}}.","mealPlan.status.error":"Unable to update the meal plan.","mealPlan.locale":"en-US","recipes.title":"Recipes","recipes.subtitle":"Organize dishes, macros, and ingredients.","recipes.changeVault":"Change folder","recipes.chooseVault":"Select folder","recipes.add":"Add recipe","recipes.searchPlaceholder":"Search recipes","recipes.status.loadError":"Failed to load recipes.","recipes.status.restoreError":"Couldn't restore the Vault folder.","recipes.status.browserUnsupported":"Folder selection is not supported by this browser.","recipes.status.permissionError":"We couldn't access the folder.","recipes.status.connected":"Connected to {{folder}}.","recipes.status.genericError":"Something went wrong while accessing the Vault.","recipes.status.noVault":"Connect a Vault folder first.","recipes.status.deleted":"Recipe deleted.","recipes.status.deleteError":"We couldn't delete that recipe.","recipes.deleteConfirm":"Delete recipe {{title}}?","recipes.status.loading":"Loading recipes","recipes.empty":"No recipes yet. Start by creating the first one.","recipes.perServing":"{{kcal}} kcal  P {{protein}} g  F {{fat}} g  C {{carbs}} g","recipes.totalKcal":"Total {{value}} kcal","recipes.servings":"Serves {{count}}","recipes.view":"View","recipes.edit":"Edit","recipes.delete":"Delete","recipes.perServingLabel":"Per serving","recipes.totalNutrition":"Total nutrition","recipes.totalServings":"Servings","recipe.title":"Recipe","recipe.addToDay":"Add to day","recipe.addToShopping":"Add to shopping list","recipe.quickAdd":"Quick add","recipe.edit":"Edit","recipe.loading":"Loading recipe","recipe.status.loadError":"Unable to load this recipe.","recipe.status.restoreError":"We couldn't access the Vault folder.","recipe.status.noVault":"Connect a Vault folder first.","recipe.status.added":"Recipe added to {{date}}.","recipe.status.addError":"Failed to add recipe to the plan.","recipe.status.shoppingAdded":"Ingredients added to the shopping list.","recipe.status.shoppingError":"Failed to add ingredients to the shopping list.","recipe.status.noIngredients":"Add ingredients to the recipe before sending to the shopping list.","recipe.status.ingredientAdded":"{{title}} added to the shopping list.","recipe.ingredients":"Ingredients","recipe.ingredient.addToShopping":"Add to shopping list","recipe.steps":"Steps","recipe.add.servings":"Servings","recipe.add.date":"Date","recipe.add.section":"Meal","addRecipe.title":"Create recipe","addRecipe.selectVault":"Select folder","addRecipe.loading":"Loading recipe","addRecipe.fields.title":"Recipe title","addRecipe.fields.description":"Short description","addRecipe.fields.servings":"Servings","addRecipe.fields.steps":"Steps (markdown supported)","addRecipe.fields.ingredientName":"Ingredient name","addRecipe.fields.quantity":"Quantity","addRecipe.fields.unit":"Unit","addRecipe.fields.referenceAmount":"Per amount","addRecipe.fields.referenceUnit":"Per unit","addRecipe.addIngredient":"Ingredient","addRecipe.switchToCustom":"Manual","addRecipe.switchToProduct":"From products","addRecipe.chooseProduct":"Select product","addRecipe.productPlaceholder":"Choose product","addRecipe.saveAsProduct":"Save to products","addRecipe.removeIngredient":"Remove","addRecipe.perServing":"Per serving","addRecipe.generateAI":"Generate with AI ","addRecipe.save":"Save recipe","addRecipe.status.editing":"Editing {{title}}.","addRecipe.status.loadError":"Failed to load the recipe from Vault.","addRecipe.status.restoreError":"We couldn't access the remembered folder.","addRecipe.status.browserUnsupported":"Folder selection is not supported by this browser.","addRecipe.status.permissionError":"We could not access the selected folder.","addRecipe.status.connected":"Connected to {{folder}}.","addRecipe.status.genericError":"Something went wrong while selecting the folder.","addRecipe.status.noVault":"Select a Vault folder first.","addRecipe.status.validation":"Enter the recipe title before saving.","addRecipe.status.updated":"Recipe updated.","addRecipe.status.saved":"Recipe saved.","addRecipe.status.error":"We couldn't save this recipe.","addRecipe.ai.placeholder":"AI generation will appear in the next release.","addRecipe.ingredient.untitled":"Ingredient","addRecipe.generatedProductNote":"Generated from recipe {{recipe}}","addToDay.title":"Add to day","addToDay.subtitle":"Select dishes and products for {{date}}","addToDay.changeVault":"Change folder","addToDay.tabRecipes":"Recipes","addToDay.tabProducts":"Products","addToDay.searchPlaceholder":"Search recipes or products","addToDay.addRecipe":"Add recipe","addToDay.viewRecipe":"View recipe","addToDay.addProduct":"Add product","addToDay.remove":"Remove","addToDay.confirm":"Add to plan","addToDay.status.loadError":"Failed to load recipes and products.","addToDay.status.restoreError":"We couldn't access the Vault folder.","addToDay.status.browserUnsupported":"Folder selection is not supported by this browser.","addToDay.status.permissionError":"We could not access that folder.","addToDay.status.connected":"Connected to {{folder}}.","addToDay.status.genericError":"We couldn't access the folder.","addToDay.status.noVault":"Select a Vault folder first.","addToDay.status.emptySelection":"Select at least one recipe or product.","addToDay.status.success":"Added {{count}} items to the plan.","addToDay.status.error":"Failed to add items to the plan.","productDetail.title":"Product","productDetail.addToDay":"Add to day","productDetail.edit":"Edit","productDetail.changeVault":"Change folder","productDetail.loading":"Loading product","productDetail.portion":"Portion: {{value}} {{unit}}","productDetail.status.loadError":"Failed to load product details.","productDetail.status.restoreError":"We couldn't access the Vault folder.","productDetail.status.noVault":"Select a Vault folder first.","productDetail.status.added":"Product added for {{date}}.","productDetail.status.addError":"Failed to add product to the plan.","productDetail.status.browserUnsupported":"Folder selection is not supported by this browser.","productDetail.status.permissionError":"We couldn't access that folder.","productDetail.status.genericError":"Something went wrong while selecting the folder.","shopping.title":"Shopping list","shopping.subtitle":"Collect ingredients for cooking sessions and mark purchased items.","shopping.changeVault":"Change folder","shopping.addCustom":"Add item","shopping.clearAll":"Clear list","shopping.vault.empty":"Vault folder not selected","shopping.vault.selected":"Shopping list stored in {{folder}}","shopping.vault.hint":"Choose a folder to sync the list across devices.","shopping.status.loading":"Loading shopping list","shopping.status.loadError":"Failed to load shopping list.","shopping.status.browserUnsupported":"Folder selection is not supported by this browser.","shopping.status.permissionError":"We couldn't access that folder.","shopping.status.connected":"Connected to {{folder}}.","shopping.status.genericError":"Something went wrong while accessing the folder.","shopping.status.noVault":"Select a Vault folder first.","shopping.status.updateError":"Couldn't update the shopping list.","shopping.status.removed":"Item removed from the shopping list.","shopping.status.cleared":"Shopping list cleared.","shopping.status.added":"Item added to the shopping list.","shopping.remove":"Remove","shopping.empty.title":"Your shopping list is empty","shopping.empty.hint":"Add ingredients from recipes or create custom entries to start planning.","shopping.item.fromRecipe":"From recipe {{title}}","shopping.prompt.title":"Enter item name","shopping.prompt.quantity":"Enter quantity (optional)","shopping.prompt.unit":"Enter unit (optional)","settings.title":"Settings","settings.subtitle":"Adjust your profile, calorie targets, meal layout, shopping categories, interface preferences, and AI connection.","settings.saveNow":"Save now","settings.loading":"Loading settings","settings.tabs.profile":"Profile","settings.tabs.macros":"Calories & macros","settings.tabs.meals":"Meals","settings.tabs.shopping":"Shopping","settings.tabs.interface":"Interface","settings.tabs.ai":"AI","settings.tabs.vault":"Vault","settings.autosave.saving":"Saving","settings.autosave.saved":"Saved","settings.autosave.error":"Failed to save","settings.autosave.pending":"Unsaved changes","settings.autosave.idle":"All changes synced","settings.status.saved":"Settings saved.","settings.status.saveError":"We couldn't save your settings.","settings.status.validationError":"Fix validation errors before saving.","settings.status.noVault":"Select a Vault folder first.","settings.status.loadError":"Failed to load profile and settings.","settings.status.browserUnsupported":"Folder selection is not supported by this browser.","settings.status.permissionError":"We couldn't access the selected folder.","settings.status.connected":"Connected to {{folder}}.","settings.status.genericError":"Something went wrong while accessing the folder.","settings.common.kcal":"kcal","settings.common.grams":"g","settings.profile.title":"Personal info","settings.profile.name":"Name","settings.profile.sex":"Sex","settings.profile.sex.female":"Female","settings.profile.sex.male":"Male","settings.profile.sex.unspecified":"Prefer not to say","settings.profile.birthdate":"Birthdate","settings.profile.activity":"Activity level","settings.profile.activity.sedentary":"Sedentary","settings.profile.activity.light":"Light","settings.profile.activity.moderate":"Moderate","settings.profile.activity.active":"Active","settings.profile.activity.very_active":"Very active","settings.profile.height":"Height (cm)","settings.profile.weight":"Weight (kg)","settings.profile.goal.mode":"Goal","settings.profile.goal.cut":"Lose weight","settings.profile.goal.maintain":"Maintain","settings.profile.goal.bulk":"Gain muscle","settings.profile.goal.delta":"Goal offset (%)","settings.profile.notes":"Medical notes / remarks","settings.profile.preview.title":"Daily target preview","settings.profile.preview.bmr":"Basal metabolic rate","settings.profile.preview.tdee":"Estimated TDEE","settings.profile.preview.adjusted":"With goal adjustment","settings.profile.preview.protein":"Protein","settings.profile.preview.fat":"Fat","settings.profile.preview.carbs":"Carbs","settings.profile.error.height":"Enter height between 120 and 230 cm.","settings.profile.error.weight":"Enter weight between 30 and 220 kg.","settings.profile.error.birthdate":"Age must be between 14 and 90 years.","settings.profile.error.goalDelta":"Goal offset must stay within 25%+25%.","settings.profile.error.goalMaintain":"Maintenance goal should stay around 0%.","settings.profile.error.goalCut":"Cutting goal should be negative.","settings.profile.error.goalBulk":"Bulking goal should be positive.","settings.macros.title":"Energy & macros","settings.macros.formula":"BMR formula","settings.macros.formula.mifflin":"MifflinSt Jeor (recommended)","settings.macros.formula.katch":"KatchMcArdle","settings.macros.formula.harris":"Revised HarrisBenedict","settings.macros.bodyFat":"Body fat %","settings.macros.pal":"Activity multiplier","settings.macros.mode":"Macro strategy","settings.macros.mode.auto_percent":"Auto  percentages","settings.macros.mode.auto_per_kg":"Auto  grams per kg","settings.macros.mode.manual":"Manual targets","settings.macros.goalDelta":"Goal delta (%)","settings.macros.kcal":"Daily calories","settings.macros.autoPercent.title":"Preset distribution","settings.macros.autoPercent.protein":"Protein %","settings.macros.autoPercent.fat":"Fat %","settings.macros.autoPercent.carbs":"Carbs %","settings.macros.preset.balanced":"Balanced","settings.macros.preset.high_protein":"High-protein","settings.macros.preset.low_fat":"Low-fat","settings.macros.autoKg.title":"Per kg targets","settings.macros.autoKg.protein":"Protein g/kg","settings.macros.autoKg.fat":"Fat g/kg","settings.macros.manual.title":"Manual targets","settings.macros.manual.units.grams":"Use grams","settings.macros.manual.units.percent":"Use %","settings.macros.manual.protein":"Protein","settings.macros.manual.fat":"Fat","settings.macros.manual.carbs":"Carbs","settings.macros.manual.sugar":"Sugar","settings.macros.manual.fiber":"Fiber","settings.macros.preview.title":"Macro preview","settings.macros.error.kcal":"Calories must be between 900 and 4500 kcal.","settings.macros.error.percentSum":"Macro percentages should add up to 100% (now {{value}}).","settings.macros.error.perKgProtein":"Protein should stay within 0.83.0 g/kg.","settings.macros.error.perKgFat":"Fat should stay within 0.51.5 g/kg.","settings.macros.error.weightMissing":"Enter weight to use per-kg targets.","settings.macros.warning.lowProtein":"Protein target looks low.","settings.macros.warning.lowFat":"Fat target is below the recommended minimum.","settings.macros.warning.percent_sum":"Percentages do not add up to 100%.","settings.macros.warning.perkg_weight_missing":"Provide your current weight to calculate per-kg macros.","settings.meals.title":"Meal sections","settings.meals.showTotals":"Show section totals","settings.meals.addSection":"Add section","settings.meals.addPlaceholder":"Section name","settings.meals.error.empty":"Add at least one section.","settings.meals.error.tooMany":"Use eight sections or fewer.","settings.meals.error.invalidId":"Section identifiers must use lowercase Latin characters or digits.","settings.meals.error.duplicate":"Section identifiers must be unique.","settings.shopping.title":"Shopping categories","settings.shopping.sort":"Sort unpurchased items first","settings.shopping.addCategory":"Add category","settings.shopping.addPlaceholder":"Category name","settings.shopping.remove":"Remove","settings.shopping.error.empty":"Add at least one category.","settings.shopping.error.invalidId":"Category identifiers must use lowercase Latin letters or digits.","settings.shopping.error.duplicate":"Category identifiers must be unique.","settings.interface.title":"Interface","settings.interface.language":"Language","settings.interface.language.en":"English","settings.interface.language.ru":"Russian","settings.interface.mass":"Mass units","settings.interface.mass.g":"Grams","settings.interface.mass.kg":"Kilograms","settings.interface.volume":"Volume units","settings.interface.volume.ml":"Milliliters","settings.interface.volume.l":"Liters","settings.interface.decimals":"Decimal places","settings.interface.dateFormat":"Date format","settings.ai.title":"AI settings","settings.ai.mode":"Mode","settings.ai.mode.local":"Local model","settings.ai.mode.http":"HTTP endpoint","settings.ai.mode.manual":"Manual (use ChatGPT manually)","settings.ai.baseUrl":"Base URL","settings.ai.apiKey":"API key","settings.ai.modelName":"Model name","settings.ai.timeout":"Timeout (ms)","settings.ai.template":"Response template","settings.ai.test":"Test connection","settings.ai.testing":"Testing connection","settings.ai.success":"Connection looks good.","settings.ai.error.missingFields":"Enter base URL and model name first.","settings.vault.title":"Vault folder","settings.vault.description":"SmartFoodPlan stores profile, settings, and data inside the selected Vault directory.","settings.vault.current":"Current folder: {{folder}}","settings.vault.empty":"Vault folder not selected.","settings.vault.select":"Choose folder","settings.vault.clear":"Forget folder"},wh={"language.option.english":"","language.option.russian":"","language.switcherLabel":" ","language.short.english":"EN","language.short.russian":"RU","theme.modeLight":" ","theme.modeDark":" ","theme.switchToLight":"   ","theme.switchToDark":"   ","theme.light":"","theme.dark":"","onboarding.title":" ","onboarding.subtitle":"  Vault","onboarding.currentFolder":" ","onboarding.noFolder":"  ","onboarding.folderHint":" , ,          Markdown/YAML   .       GitHub  Drive.","onboarding.chooseExisting":"  ","onboarding.createVault":"  Vault","onboarding.remember":"     ","onboarding.howVaultWorks":"  Vault","onboarding.status.restorePermission":"      . ,   .","onboarding.status.reconnected":"   {{folder}}.  Vault   .","onboarding.status.restoreError":"     . ,   .","onboarding.status.unsupported":"      .","onboarding.status.permissionDenied":"       .","onboarding.status.connected":"  {{folder}}.  Vault   .","onboarding.status.connectedPending":" .      .","onboarding.status.rememberFailed":" ,      .     .","onboarding.status.accessError":"      .      .","onboarding.status.createInfo":" /vault      .","onboarding.status.vaultInfo":"Vault     , , ,       Markdown/YAML.","dietModel.balanced":" ","dietModel.vegan":" ","dietModel.fitness":"   ","dietModel.keto":" ","mealTime.breakfast":"","mealTime.lunch":"","mealTime.snack":"","mealTime.dinner":"","mealTime.flex":"","addProduct.badge":" ","addProduct.title":"   ","addProduct.subtitle":"  ,     .    ,        .","addProduct.vault.label":" Vault: {{folder}}","addProduct.vault.label.unselected":" Vault  ","addProduct.vault.hint.selected":"  Markdown-   products  Vault.","addProduct.vault.hint.missing":"  Vault,      Markdown.","addProduct.vault.button.choose":" ","addProduct.vault.button.change":" ","addProduct.status.saving":"    Markdown","addProduct.status.saved":" {{file}}   /products.","addProduct.status.noVault":"   Vault,   .","addProduct.status.connected":"  {{folder}}.     /products.","addProduct.status.permissionRevoked":"   Vault  .      .","addProduct.status.permissionError":"      .     .","addProduct.status.restoreError":"       Vault.","addProduct.status.browserUnsupported":"      File System Access API.","addProduct.status.genericError":"   Markdown-  .","addProduct.form.modelLabel":" ","addProduct.form.productNameLabel":" ","addProduct.form.productNamePlaceholder":",  ","addProduct.form.portionLabel":"","addProduct.form.portionPlaceholder":"150","addProduct.form.portionUnit":"","addProduct.form.mealTimeLabel":" ","addProduct.form.notesLabel":"  ","addProduct.form.notesPlaceholder":":         .","addProduct.form.submit":" ","addProduct.form.submitSaving":"","addProduct.form.submitEdit":" ","addProduct.form.aiFill":" ","addProduct.form.nutrients.calories":"","addProduct.form.nutrients.protein":"","addProduct.form.nutrients.fat":"","addProduct.form.nutrients.carbs":"","addProduct.form.nutrients.caloriesUnit":"","addProduct.form.nutrients.macrosUnit":"","addProduct.preview.title":" ","addProduct.preview.description":"    .       .","addProduct.preview.model":"","addProduct.preview.portion":"","addProduct.preview.nutrition":"","addProduct.tip.title":"","addProduct.tip.body":"  ,          .     .","addProduct.status.created":" .","addProduct.status.updated":" .","addProduct.status.loaded":"   .","addProduct.status.editing":" {{title}}.","addProduct.cancelEdit":" ","addProduct.goToList":"   ","productList.title":" ","productList.refresh":"","productList.loading":" ","productList.empty":"  .  ,   Vault.","productList.error":"      Vault.","productList.portion":"","productList.meal":" ","productList.macros":" ","productList.notes":"","productList.addToMealPlan":"   ","productList.view":"","productList.edit":"","productList.delete":"","productList.deleteConfirm":" {{title}}?","productList.status.deleted":" .","productList.status.deleteError":"   .","productList.planMode":" ,       {{date}}.","nav.brand":"SmartFoodPlan","nav.products":" ","nav.addProduct":" ","nav.recipes":"","nav.mealPlan":" ","nav.settings":"","nav.shopping":" ","nav.setup":" Vault","common.cancel":"","common.close":"","units.grams":"","units.portion":"","mealPlan.description":"  ,          .","mealPlan.title":" ","mealPlan.selectDate":" ","mealPlan.totals.calories":"","mealPlan.totals.protein":"","mealPlan.totals.fat":"","mealPlan.totals.carbs":"","mealPlan.units.kcal":"","mealPlan.units.grams":"","mealPlan.state.loading":"  ","mealPlan.state.updating":"  ","mealPlan.state.error":"    .","mealPlan.state.noVault":"   Vault.","mealPlan.empty":"  .  ,   .","mealPlan.dailyTitle":"  ","mealPlan.addFood":" ","mealPlan.emptySection":"   ","mealPlan.openItem":"","mealPlan.item.edit":"","mealPlan.item.delete":"","mealPlan.item.save":"","mealPlan.item.servingsLabel":"","mealPlan.item.quantityLabel":"","mealPlan.item.updateError":"   .","mealPlan.item.deleteError":"   .","mealPlan.item.invalidValue":"   .","mealPlan.viewRecipes":" ","mealPlan.viewProducts":"  ","mealPlan.totalEnergy":" ","mealPlan.totalMacros":"// ","mealPlan.wellness.mood":"","mealPlan.wellness.sleep":"","mealPlan.wellness.stress":"","mealPlan.servingsLabel":"{{count}} ","mealPlan.metrics.target":"","mealPlan.metrics.ofTarget":"{{value}}%  ","mealPlan.metrics.noTarget":"   ","mealPlan.addProductTitle":" {{title}}  ","mealPlan.chooseMeal":"","mealPlan.quantityLabel":"","mealPlan.unitLabel":"","mealPlan.addToDay":"  ","mealPlan.sectionTotal":": {{value}} {{unit}}","mealPlan.totalSummary":": {{kcal}}    {{protein}}    {{fat}}    {{carbs}} ","mealPlan.status.added":" {{title}}   {{section}}.","mealPlan.status.error":"    .","mealPlan.locale":"ru-RU","recipes.title":"","recipes.subtitle":" ,   .","recipes.changeVault":" ","recipes.chooseVault":" ","recipes.add":" ","recipes.searchPlaceholder":"  ","recipes.status.loadError":"   .","recipes.status.restoreError":"     .","recipes.status.browserUnsupported":"    .","recipes.status.permissionError":"    .","recipes.status.connected":"  {{folder}}.","recipes.status.genericError":"     Vault.","recipes.status.noVault":"   Vault.","recipes.status.deleted":" .","recipes.status.deleteError":"   .","recipes.deleteConfirm":"  {{title}}?","recipes.status.loading":" ","recipes.empty":"  .  .","recipes.perServing":"{{kcal}}    {{protein}}    {{fat}}    {{carbs}} ","recipes.totalKcal":" {{value}} ","recipes.servings":": {{count}}","recipes.view":"","recipes.edit":"","recipes.delete":"","recipes.perServingLabel":" ","recipes.totalNutrition":"","recipes.totalServings":" ","recipe.title":"","recipe.addToDay":"  ","recipe.addToShopping":"  ","recipe.quickAdd":" ","recipe.edit":"","recipe.loading":" ","recipe.status.loadError":"   .","recipe.status.restoreError":"    Vault.","recipe.status.noVault":"  Vault.","recipe.status.added":"   {{date}}.","recipe.status.addError":"     .","recipe.status.shoppingAdded":"    .","recipe.status.shoppingError":"      .","recipe.status.noIngredients":"   ,      .","recipe.status.ingredientAdded":"{{title}} ()   .","recipe.ingredients":"","recipe.ingredient.addToShopping":"  ","recipe.steps":" ","recipe.add.servings":"","recipe.add.date":"","recipe.add.section":" ","addRecipe.title":" ","addRecipe.selectVault":" ","addRecipe.loading":" ","addRecipe.fields.title":" ","addRecipe.fields.description":" ","addRecipe.fields.servings":" ","addRecipe.fields.steps":" ( Markdown)","addRecipe.fields.ingredientName":" ","addRecipe.fields.quantity":"","addRecipe.fields.unit":" ","addRecipe.fields.referenceAmount":" ","addRecipe.fields.referenceUnit":" ","addRecipe.addIngredient":"","addRecipe.switchToCustom":"","addRecipe.switchToProduct":"  ","addRecipe.chooseProduct":" ","addRecipe.productPlaceholder":" ","addRecipe.saveAsProduct":"  ","addRecipe.removeIngredient":"","addRecipe.perServing":" ","addRecipe.generateAI":"   ","addRecipe.save":" ","addRecipe.status.editing":" {{title}}.","addRecipe.status.loadError":"     Vault.","addRecipe.status.restoreError":"       .","addRecipe.status.browserUnsupported":"    .","addRecipe.status.permissionError":"    .","addRecipe.status.connected":"  {{folder}}.","addRecipe.status.genericError":"   .","addRecipe.status.noVault":"   Vault.","addRecipe.status.validation":"    .","addRecipe.status.updated":" .","addRecipe.status.saved":" .","addRecipe.status.error":"   .","addRecipe.ai.placeholder":"     .","addRecipe.ingredient.untitled":"","addRecipe.generatedProductNote":"   {{recipe}}","addToDay.title":"  ","addToDay.subtitle":"     {{date}}","addToDay.changeVault":" ","addToDay.tabRecipes":"","addToDay.tabProducts":"","addToDay.searchPlaceholder":"    ","addToDay.addRecipe":" ","addToDay.viewRecipe":" ","addToDay.addProduct":" ","addToDay.remove":"","addToDay.confirm":"  ","addToDay.status.loadError":"     .","addToDay.status.restoreError":"    Vault.","addToDay.status.browserUnsupported":"    .","addToDay.status.permissionError":"    .","addToDay.status.connected":"  {{folder}}.","addToDay.status.genericError":"     .","addToDay.status.noVault":"   Vault.","addToDay.status.emptySelection":"      .","addToDay.status.success":" : {{count}}.","addToDay.status.error":"    .","productDetail.title":"","productDetail.addToDay":"  ","productDetail.edit":"","productDetail.changeVault":" ","productDetail.loading":" ","productDetail.portion":": {{value}} {{unit}}","productDetail.status.loadError":"    .","productDetail.status.restoreError":"    Vault.","productDetail.status.noVault":"  Vault.","productDetail.status.added":"   {{date}}.","productDetail.status.addError":"     .","productDetail.status.browserUnsupported":"    .","productDetail.status.permissionError":"    .","productDetail.status.genericError":"    .","shopping.title":" ","shopping.subtitle":"       .","shopping.changeVault":" ","shopping.addCustom":" ","shopping.clearAll":" ","shopping.vault.empty":" Vault  ","shopping.vault.selected":"   {{folder}}","shopping.vault.hint":" ,     .","shopping.status.loading":"  ","shopping.status.loadError":"    .","shopping.status.browserUnsupported":"    .","shopping.status.permissionError":"    .","shopping.status.connected":"  {{folder}}.","shopping.status.genericError":"     .","shopping.status.noVault":"   Vault.","shopping.status.updateError":"    .","shopping.status.removed":"   .","shopping.status.cleared":"  .","shopping.status.added":"    .","shopping.remove":"","shopping.empty.title":"  ","shopping.empty.hint":"       ,   .","shopping.item.fromRecipe":"  {{title}}","shopping.prompt.title":"  ","shopping.prompt.quantity":"  ()","shopping.prompt.unit":"   ()","settings.title":"","settings.subtitle":" ,  ,  ,  ,    .","settings.saveNow":" ","settings.loading":" ","settings.tabs.profile":"","settings.tabs.macros":"  ","settings.tabs.meals":" ","settings.tabs.shopping":"","settings.tabs.interface":"","settings.tabs.ai":"","settings.tabs.vault":"","settings.autosave.saving":"","settings.autosave.saved":"","settings.autosave.error":"  ","settings.autosave.pending":"  ","settings.autosave.idle":"  ","settings.status.saved":" .","settings.status.saveError":"   .","settings.status.validationError":"   .","settings.status.noVault":"   Vault.","settings.status.loadError":"     .","settings.status.browserUnsupported":"    .","settings.status.permissionError":"    .","settings.status.connected":"  {{folder}}.","settings.status.genericError":"     .","settings.common.kcal":"","settings.common.grams":"","settings.profile.title":" ","settings.profile.name":"","settings.profile.sex":"","settings.profile.sex.female":"","settings.profile.sex.male":"","settings.profile.sex.unspecified":" ","settings.profile.birthdate":" ","settings.profile.activity":" ","settings.profile.activity.sedentary":"","settings.profile.activity.light":"","settings.profile.activity.moderate":"","settings.profile.activity.active":"","settings.profile.activity.very_active":" ","settings.profile.height":" ()","settings.profile.weight":" ()","settings.profile.goal.mode":"","settings.profile.goal.cut":" ","settings.profile.goal.maintain":"","settings.profile.goal.bulk":" ","settings.profile.goal.delta":"  (%)","settings.profile.notes":"  / ","settings.profile.preview.title":" ","settings.profile.preview.bmr":"BMR ( )","settings.profile.preview.tdee":"TDEE  ","settings.profile.preview.adjusted":"TDEE   ","settings.profile.preview.protein":"","settings.profile.preview.fat":"","settings.profile.preview.carbs":"","settings.profile.error.height":"   120  230 .","settings.profile.error.weight":"   30  220 .","settings.profile.error.birthdate":"     1490 .","settings.profile.error.goalDelta":"      25+25%.","settings.profile.error.goalMaintain":"       0%.","settings.profile.error.goalCut":"      .","settings.profile.error.goalBulk":"      .","settings.macros.title":"  ","settings.macros.formula":" BMR","settings.macros.formula.mifflin":"  ()","settings.macros.formula.katch":"","settings.macros.formula.harris":" (.)","settings.macros.bodyFat":"% ","settings.macros.pal":" ","settings.macros.mode":" ","settings.macros.mode.auto_percent":"  ","settings.macros.mode.auto_per_kg":"    ","settings.macros.mode.manual":"","settings.macros.goalDelta":"  (%)","settings.macros.kcal":"  ","settings.macros.autoPercent.title":"  ","settings.macros.autoPercent.protein":", %","settings.macros.autoPercent.fat":", %","settings.macros.autoPercent.carbs":", %","settings.macros.preset.balanced":"","settings.macros.preset.high_protein":" ","settings.macros.preset.low_fat":" ","settings.macros.autoKg.title":"  ","settings.macros.autoKg.protein":", /","settings.macros.autoKg.fat":", /","settings.macros.manual.title":"  ","settings.macros.manual.units.grams":" ","settings.macros.manual.units.percent":" %","settings.macros.manual.protein":"","settings.macros.manual.fat":"","settings.macros.manual.carbs":"","settings.macros.manual.sugar":"","settings.macros.manual.fiber":"","settings.macros.preview.title":" ","settings.macros.error.kcal":"     9004500 .","settings.macros.error.percentSum":"    100% ( {{value}}).","settings.macros.error.perKgProtein":"     0.83.0 /.","settings.macros.error.perKgFat":"     0.51.5 /.","settings.macros.error.weightMissing":" ,     .","settings.macros.warning.lowProtein":"    .","settings.macros.warning.lowFat":"     .","settings.macros.warning.percent_sum":"    100%.","settings.macros.warning.perkg_weight_missing":"       .","settings.meals.title":" ","settings.meals.showTotals":"   ","settings.meals.addSection":" ","settings.meals.addPlaceholder":" ","settings.meals.error.empty":"    .","settings.meals.error.tooMany":"    .","settings.meals.error.invalidId":"       .","settings.meals.error.duplicate":"    .","settings.shopping.title":" ","settings.shopping.sort":"  ","settings.shopping.addCategory":" ","settings.shopping.addPlaceholder":" ","settings.shopping.remove":"","settings.shopping.error.empty":"    .","settings.shopping.error.invalidId":"        .","settings.shopping.error.duplicate":"    .","settings.interface.title":"","settings.interface.language":"","settings.interface.language.en":"","settings.interface.language.ru":"","settings.interface.mass":" ","settings.interface.mass.g":"","settings.interface.mass.kg":"","settings.interface.volume":" ","settings.interface.volume.ml":"","settings.interface.volume.l":"","settings.interface.decimals":"  ","settings.interface.dateFormat":" ","settings.ai.title":" ","settings.ai.mode":"","settings.ai.mode.local":" ","settings.ai.mode.http":"HTTP-","settings.ai.mode.manual":" ( ChatGPT)","settings.ai.baseUrl":" URL","settings.ai.apiKey":"API-","settings.ai.modelName":" ","settings.ai.timeout":" ()","settings.ai.template":" ","settings.ai.test":" ","settings.ai.testing":" ","settings.ai.success":"  .","settings.ai.error.missingFields":"   URL  .","settings.vault.title":" Vault","settings.vault.description":"SmartFoodPlan  ,       Vault.","settings.vault.current":" : {{folder}}","settings.vault.empty":" Vault  .","settings.vault.select":" ","settings.vault.clear":" "},ou={en:vh,ru:wh},Af=[{code:"en",labelKey:"language.option.english",shortLabelKey:"language.short.english"},{code:"ru",labelKey:"language.option.russian",shortLabelKey:"language.short.russian"}],cu="smartFoodPlan.language",Gi="en",Gf=h.createContext(void 0);function _h(e){return Af.some(t=>t.code===e)}function xh(e,t){return t?Object.keys(t).reduce((n,r)=>{const s=new RegExp(`{{${r}}}`,"g");return n.replace(s,t[r])},e):e}function jh({children:e}){const[t,n]=h.useState(()=>{if(typeof window>"u")return Gi;const a=window.localStorage.getItem(cu);return _h(a)?a:Gi}),r=h.useCallback(a=>{n(a),typeof window<"u"&&window.localStorage.setItem(cu,a)},[]),s=h.useMemo(()=>{const a=(o,c)=>{const u=ou[t],d=ou[Gi],y=u[o]??d[o]??o;return xh(y,c)},l=Af.map(o=>({code:o.code,label:a(o.labelKey),shortLabel:a(o.shortLabelKey)}));return{language:t,setLanguage:r,t:a,availableLanguages:l}},[t,r]);return i.jsx(Gf.Provider,{value:s,children:e})}function Uo(){const e=h.useContext(Gf);if(!e)throw new Error("useI18n must be used within an I18nProvider");return e}function Ye(){const{t:e}=Uo();return{t:e}}const Sh="_toggle_jcepd_1",kh="_icon_jcepd_19",bh="_select_jcepd_28",Nh="_caret_jcepd_43",Ph="_visuallyHidden_jcepd_52",Lr={toggle:Sh,icon:kh,select:bh,caret:Nh,visuallyHidden:Ph};function Mf({className:e}){const{language:t,setLanguage:n,availableLanguages:r,t:s}=Uo(),a=o=>{const c=o.target.value;c!==t&&n(c)},l=s("language.switcherLabel");return i.jsxs("label",{className:Pt(Lr.toggle,e),children:[i.jsx("span",{className:Lr.visuallyHidden,children:l}),i.jsx("span",{className:Lr.icon,"aria-hidden":"true",children:i.jsx(Ch,{})}),i.jsx("select",{className:Lr.select,value:t,onChange:a,"aria-label":l,children:r.map(o=>i.jsx("option",{value:o.code,children:o.label},o.code))}),i.jsx("span",{className:Lr.caret,"aria-hidden":"true",children:i.jsx(Eh,{})})]})}function Ch(){return i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M9 16.5C12.866 16.5 16 13.366 16 9.5C16 5.63401 12.866 2.5 9 2.5C5.13401 2.5 2 5.63401 2 9.5C2 13.366 5.13401 16.5 9 16.5Z",stroke:"currentColor",strokeWidth:"1.3"}),i.jsx("path",{d:"M2.5 9.5H15.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),i.jsx("path",{d:"M9 2.5C11 5.5 11 13.5 9 16.5C7 13.5 7 5.5 9 2.5Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),i.jsx("path",{d:"M4.5 4.5C6.5 5.5 11.5 5.5 13.5 4.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"}),i.jsx("path",{d:"M4.5 14.5C6.5 13.5 11.5 13.5 13.5 14.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round"})]})}function Eh(){return i.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M2 2.5L6 5.5L10 2.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})})}const de={light:{colors:{background:"#FAFBFA",surface:"#FFFFFF",border:"#A8BCB3",textPrimary:"#1A2522",textSecondary:"rgba(26,37,34,0.72)",accent:"#35C2A1",disabled:"rgba(26,37,34,0.35)",buttonHover:"#2EA78F",error:"#D25555",success:"#55B578",warning:"#E3C079"}},dark:{colors:{background:"#041C1C",surface:"#0A2A2B",border:"rgba(46, 209, 191, 0.32)",textPrimary:"#E7F4F0",textSecondary:"#9BBDB6",accent:"#1FA293",disabled:"rgba(255,255,255,0.25)",buttonHover:"linear-gradient(135deg, rgba(31,162,147,0.95), rgba(46,209,191,0.95))",error:"#D47171",success:"#6DD8A2",warning:"#E7B96F"}}},Lh={light:{"--color-background":de.light.colors.background,"--color-surface":de.light.colors.surface,"--color-surface-elevated":"#F0F6F3","--color-surface-translucent":"rgba(255, 255, 255, 0.95)","--color-border":de.light.colors.border,"--color-divider":"rgba(26,37,34,0.22)","--color-text-primary":de.light.colors.textPrimary,"--color-text-secondary":de.light.colors.textSecondary,"--color-accent":de.light.colors.accent,"--color-accent-soft":"rgba(53, 194, 161, 0.28)","--color-disabled":de.light.colors.disabled,"--color-error":de.light.colors.error,"--color-success":de.light.colors.success,"--color-warning":de.light.colors.warning,"--color-button-contained-text":"#0F2A24","--color-button-contained-bg":de.light.colors.accent,"--color-button-contained-hover":de.light.colors.buttonHover,"--button-shadow":"0 12px 30px rgba(53, 194, 161, 0.2)","--color-icon-container":"rgba(53, 194, 161, 0.24)","--color-icon-container-strong":"rgba(31, 137, 115, 0.6)","--color-checkbox-border":"#8FB2A7","--color-checkbox-background":"#FFFFFF","--card-background":"rgba(255, 255, 255, 0.97)","--card-border":"rgba(164, 189, 179, 0.85)","--card-shadow":"0 16px 38px rgba(46, 99, 85, 0.16)","--info-chip-background":"rgba(53, 194, 161, 0.12)","--background-glow":"radial-gradient(circle at 20% 10%, rgba(107, 216, 190, 0.42), transparent 62%), radial-gradient(circle at 92% -8%, rgba(164, 222, 204, 0.4), transparent 55%)","--body-background":"radial-gradient(circle at top, rgba(107, 216, 190, 0.22), transparent 58%), #FAFBFA","--body-text-color":de.light.colors.textPrimary,"--shadow-elevated":"0 18px 45px rgba(28, 76, 66, 0.1)"},dark:{"--color-background":de.dark.colors.background,"--color-surface":de.dark.colors.surface,"--color-surface-elevated":"#103637","--color-surface-translucent":"rgba(10, 42, 43, 0.92)","--color-border":de.dark.colors.border,"--color-divider":"rgba(255,255,255,0.08)","--color-text-primary":de.dark.colors.textPrimary,"--color-text-secondary":de.dark.colors.textSecondary,"--color-accent":de.dark.colors.accent,"--color-accent-soft":"#2ED1BF","--color-disabled":de.dark.colors.disabled,"--color-error":de.dark.colors.error,"--color-success":de.dark.colors.success,"--color-warning":de.dark.colors.warning,"--color-button-contained-text":"#041C1C","--color-button-contained-bg":"linear-gradient(135deg, rgba(31,162,147,0.8), rgba(46,209,191,0.85))","--color-button-contained-hover":de.dark.colors.buttonHover,"--button-shadow":"0 12px 30px rgba(31, 162, 147, 0.25)","--color-icon-container":"rgba(255, 255, 255, 0.06)","--color-icon-container-strong":"rgba(46, 209, 191, 0.22)","--color-checkbox-border":"rgba(255, 255, 255, 0.25)","--color-checkbox-background":"rgba(255,255,255,0.03)","--card-background":"rgba(10, 42, 43, 0.92)","--card-border":"rgba(255, 255, 255, 0.06)","--card-shadow":"0 18px 45px rgba(3, 20, 21, 0.45)","--info-chip-background":"rgba(31, 162, 147, 0.18)","--background-glow":"radial-gradient(circle at 20% 10%, rgba(46, 209, 191, 0.12), transparent 55%), radial-gradient(circle at 80% -10%, rgba(3, 85, 79, 0.35), transparent 50%)","--body-background":"radial-gradient(circle at top, rgba(47, 109, 102, 0.2), transparent 60%), #041C1C","--body-text-color":de.dark.colors.textPrimary,"--shadow-elevated":"0 18px 45px rgba(3, 20, 21, 0.45)"}},$f=h.createContext(void 0),Of="smartFoodPlan.theme";function Fh(e){if(typeof document>"u")return;const t=document.documentElement;t.dataset.theme=e,Object.entries(Lh[e]).forEach(([r,s])=>{t.style.setProperty(r,String(s))})}function Th(){var n;const e=window.localStorage.getItem(Of);return e==="light"||e==="dark"?e:((n=window.matchMedia)==null?void 0:n.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light"}function Dh({children:e}){const[t,n]=h.useState(()=>typeof window>"u"?"dark":Th());h.useEffect(()=>{Fh(t),window.localStorage.setItem(Of,t)},[t]);const r=h.useCallback(()=>{n(a=>a==="light"?"dark":"light")},[]),s=h.useMemo(()=>({themeName:t,setThemeName:n,toggleTheme:r}),[t,r]);return i.jsx($f.Provider,{value:s,children:e})}function Ih(){const e=h.useContext($f);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const Rh="_toggle_hh3ok_1",Ah="_indicator_hh3ok_26",Gh="_label_hh3ok_37",Mi={toggle:Rh,indicator:Ah,label:Gh};function Vf({className:e}){const{themeName:t,toggleTheme:n}=Ih(),{t:r}=Ye(),s=c=>{c.preventDefault(),n()},a=c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),n())},l=r(t==="dark"?"theme.modeDark":"theme.modeLight"),o=r(t==="dark"?"theme.switchToLight":"theme.switchToDark");return i.jsxs("button",{type:"button",className:Pt(Mi.toggle,e),onClick:s,onKeyDown:a,"aria-label":o,children:[i.jsx("span",{className:Mi.indicator,children:t==="dark"?i.jsx($h,{}):i.jsx(Mh,{})}),i.jsx("span",{className:Mi.label,children:l})]})}function Mh(){return i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("circle",{cx:"8",cy:"8",r:"3.5",stroke:"currentColor",strokeWidth:"1.5"}),i.jsx("path",{d:"M8 1.5V3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("path",{d:"M8 13V14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("path",{d:"M3 8H1.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("path",{d:"M14.5 8H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("path",{d:"M3.75736 3.75736L2.6967 2.6967",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("path",{d:"M13.3033 13.3033L12.2426 12.2426",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("path",{d:"M12.2426 3.75736L13.3033 2.6967",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i.jsx("path",{d:"M2.6967 13.3033L3.75736 12.2426",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function $h(){return i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M13.5 10.5C12.7419 10.7831 11.9198 10.9359 11.0667 10.9359C7.18948 10.9359 4.06674 7.81313 4.06674 3.93591C4.06674 3.08286 4.21952 2.26075 4.50266 1.50266C2.33224 2.32172 0.833374 4.44005 0.833374 6.93331C0.833374 10.5312 3.86878 13.5666 7.46671 13.5666C9.95997 13.5666 12.0783 12.0678 12.8974 9.89735C12.8273 10.1052 12.7461 10.307 12.6534 10.5H13.5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const Oh="_layout_1igo2_1",Vh="_topBar_1igo2_8",Uh="_brand_1igo2_22",Hh="_nav_1igo2_29",zh="_navLink_1igo2_36",Bh="_navLinkActive_1igo2_52",Kh="_actions_1igo2_57",Wh="_content_1igo2_63",Jt={layout:Oh,topBar:Vh,brand:Uh,nav:Hh,navLink:zh,navLinkActive:Bh,actions:Kh,content:Wh},qh=[{route:"meal-plan",translationKey:"nav.mealPlan"},{route:"recipes",translationKey:"nav.recipes"},{route:"products",translationKey:"nav.products"},{route:"shopping",translationKey:"nav.shopping"},{route:"settings",translationKey:"nav.settings"},{route:"onboarding",translationKey:"nav.setup"}],Yh={"meal-plan":"meal-plan","add-recipe-to-day":"meal-plan",recipes:"recipes","add-recipe":"recipes",recipe:"recipes",products:"products","add-product":"products",product:"products",shopping:"shopping",settings:"settings",onboarding:"onboarding"};function Qh({currentRoute:e,onNavigate:t,children:n}){const{t:r}=Ye();return i.jsxs("div",{className:Jt.layout,children:[i.jsxs("header",{className:Jt.topBar,children:[i.jsx("div",{className:Jt.brand,role:"banner",children:r("nav.brand")}),i.jsx("nav",{className:Jt.nav,"aria-label":"Main navigation",children:qh.map(s=>i.jsx("button",{type:"button",className:Pt(Jt.navLink,Yh[e]===s.route&&Jt.navLinkActive),onClick:()=>t(s.route),children:r(s.translationKey)},s.route))}),i.jsxs("div",{className:Jt.actions,children:[i.jsx(Mf,{}),i.jsx(Vf,{})]})]}),i.jsx("main",{className:Jt.content,children:n})]})}const Jh="meal-plan";function uu(e){return`#/${e}`}function du(e){switch(e.startsWith("#/")?e.slice(2):e.replace(/^#/,"")){case"products":return"products";case"meal-plan":return"meal-plan";case"recipes":return"recipes";case"add-recipe":return"add-recipe";case"recipe":return"recipe";case"add-recipe-to-day":return"add-recipe-to-day";case"product":return"product";case"shopping":return"shopping";case"settings":return"settings";case"onboarding":return"onboarding";case"add-product":default:return"add-product"}}function Xh(){const[e,t]=h.useState(()=>{if(typeof window>"u")return Jh;const r=du(window.location.hash||"");return window.location.hash||(window.location.hash=uu(r)),r});h.useEffect(()=>{if(typeof window>"u")return;const r=()=>{t(du(window.location.hash))};return window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[]);const n=h.useCallback(r=>{if(typeof window>"u")return;const s=uu(r);window.location.hash!==s?window.location.hash=s:t(r)},[]);return h.useMemo(()=>({route:e,navigate:n}),[e,n])}const Zh="_button_1ah3u_1",ey="_contained_1ah3u_23",ty="_outlined_1ah3u_42",ny="_ghost_1ah3u_53",ry="_leadingIcon_1ah3u_65",sy="_trailingIcon_1ah3u_75",Ks={button:Zh,contained:ey,outlined:ty,ghost:ny,leadingIcon:ry,trailingIcon:sy};function z({variant:e="contained",leadingIcon:t,trailingIcon:n,className:r,children:s,...a}){return i.jsxs("button",{className:Pt(Ks.button,Ks[e],r),type:a.type??"button",...a,children:[t&&i.jsx("span",{className:Ks.leadingIcon,children:t}),i.jsx("span",{children:s}),n&&i.jsx("span",{className:Ks.trailingIcon,children:n})]})}const ay="_card_19dzs_1",iy="_title_19dzs_10",ly="_content_19dzs_18",$i={card:ay,title:iy,content:ly};function Ho({title:e,className:t,children:n}){return i.jsxs("section",{className:Pt($i.card,t),children:[e&&i.jsx("header",{className:$i.title,children:e}),i.jsx("div",{className:$i.content,children:n})]})}const oy="_form_1i2tm_1",cy="_group_1i2tm_7",uy="_inlineGroup_1i2tm_13",dy="_label_1i2tm_19",fy="_inputWrapper_1i2tm_25",py="_selectWrapper_1i2tm_26",my="_input_1i2tm_25",gy="_select_1i2tm_26",hy="_textarea_1i2tm_32",yy="_unit_1i2tm_70",vy="_nutrients_1i2tm_85",wy="_nutrient_1i2tm_85",_y="_nutrientIcon_1i2tm_103",xy="_icon_1i2tm_115",jy="_nutrientLabel_1i2tm_121",Sy="_nutrientInput_1i2tm_126",ky="_footer_1i2tm_130",by="_aiButton_1i2tm_142",J={form:oy,group:cy,inlineGroup:uy,label:dy,inputWrapper:fy,selectWrapper:py,input:my,select:gy,textarea:hy,unit:yy,nutrients:vy,nutrient:wy,nutrientIcon:_y,icon:xy,nutrientLabel:jy,nutrientInput:Sy,footer:ky,aiButton:by};function Ny(){return i.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":!0,className:J.icon,children:[i.jsx("path",{d:"M6.5 3.5c1.8-1.6 4.2-1.6 6 0l6 5.4a3.7 3.7 0 0 1 .5 5.1l-6.2 8.1a2 2 0 0 1-3.1 0L3.5 14c-1.3-1.6-1-4 .6-5.3z",fill:"currentColor"}),i.jsx("path",{d:"M12 6.25c-1.55 0-2.8 1.25-2.8 2.8s1.25 2.8 2.8 2.8 2.8-1.25 2.8-2.8S13.55 6.25 12 6.25zm0 4c-.66 0-1.2-.54-1.2-1.2s.54-1.2 1.2-1.2 1.2.54 1.2 1.2-.54 1.2-1.2 1.2z",fill:"var(--color-icon-container)"})]})}function Py(){return i.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":!0,className:J.icon,children:[i.jsx("path",{d:"M12 3c2.28 2.88 3.5 5.33 3.5 7.38 0 2.38-1.62 4.62-3.5 4.62s-3.5-2.24-3.5-4.62C8.5 8.33 9.72 5.88 12 3z",fill:"currentColor"}),i.jsx("path",{d:"M17.2 13.8c-.6 3.38-3 5.7-5.2 5.7s-4.6-2.32-5.2-5.7",stroke:"var(--color-icon-container-strong)",strokeWidth:"1.6",strokeLinecap:"round",fill:"none"})]})}function Cy(){return i.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":!0,className:J.icon,children:[i.jsx("rect",{x:"3.5",y:"7",width:"17",height:"11",rx:"3",ry:"3",fill:"currentColor"}),i.jsx("rect",{x:"6",y:"4.5",width:"12",height:"5",rx:"2",ry:"2",fill:"var(--color-icon-container)"}),i.jsx("circle",{cx:"12",cy:"12.5",r:"1.6",fill:"var(--color-icon-container-strong)"})]})}function Ey(){return i.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":!0,className:J.icon,children:i.jsx("path",{d:"M12 2.8c1.9 2.3 2.8 4.25 2.8 6.1 0 1.45-.58 2.65-1.43 3.5 2.06-.35 3.93-2.09 3.93-4.7 0-1.2-.38-2.38-1.13-3.54-.3-.48.23-1.02.73-.72C19.4 4.92 21 7.6 21 10.7 21 16.1 16.97 20 12 20s-9-3.9-9-9.3c0-2.82 1.35-5.25 3.47-6.84.5-.38 1.16.17.88.73C6.5 5.9 6.2 7 6.2 8.2c0 2.6 1.87 4.34 3.93 4.7-.85-.85-1.43-2.05-1.43-3.5 0-1.85.9-3.8 2.8-6.1z",fill:"currentColor"})})}function Ly(){return i.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":!0,className:J.icon,children:[i.jsx("path",{d:"M12 4.5 13.4 9l4.6 1.4-4.6 1.4L12 16.3 10.6 11.8 6 10.4l4.6-1.4z",fill:"currentColor"}),i.jsx("path",{d:"M6.8 4.2 7.6 6l1.8.8L7.6 7.6 6.8 9.4 6 7.6 4.2 6.8 6 6zM16.8 16.2l.6 1.4 1.4.6-1.4.6-.6 1.4-.6-1.4-1.4-.6 1.4-.6z",fill:"var(--color-icon-container-strong)"})]})}function Fy(){return i.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":!0,className:J.icon,children:[i.jsx("path",{d:"M5.5 3h9.3c.4 0 .8.16 1.06.44l3.7 3.78c.28.28.44.66.44 1.06V19a2 2 0 0 1-2 2H6.5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",fill:"currentColor"}),i.jsx("path",{d:"M8 3v4.5h8V5.4l-1.4-1.4z",fill:"var(--color-icon-container)"}),i.jsx("rect",{x:"8",y:"13",width:"8",height:"6",rx:"1.2",fill:"var(--color-icon-container-strong)"})]})}function Ty({onSubmit:e,isSubmitting:t=!1,defaultValues:n=null,submitLabel:r,formKey:s,footerSlot:a}){const{t:l}=Ye(),o=n??{},c=h.useMemo(()=>[{value:"balanced",label:l("dietModel.balanced")},{value:"vegan",label:l("dietModel.vegan")},{value:"fitness",label:l("dietModel.fitness")},{value:"keto",label:l("dietModel.keto")}],[l]),u=h.useMemo(()=>[{value:"breakfast",label:l("mealTime.breakfast")},{value:"lunch",label:l("mealTime.lunch")},{value:"snack",label:l("mealTime.snack")},{value:"dinner",label:l("mealTime.dinner")}],[l]),d=h.useMemo(()=>[{id:"calories",label:l("addProduct.form.nutrients.calories"),unit:l("addProduct.form.nutrients.caloriesUnit"),placeholder:"132",Icon:Ey},{id:"protein",label:l("addProduct.form.nutrients.protein"),unit:l("addProduct.form.nutrients.macrosUnit"),placeholder:"18",Icon:Ny},{id:"fat",label:l("addProduct.form.nutrients.fat"),unit:l("addProduct.form.nutrients.macrosUnit"),placeholder:"7",Icon:Py},{id:"carbs",label:l("addProduct.form.nutrients.carbs"),unit:l("addProduct.form.nutrients.macrosUnit"),placeholder:"12",Icon:Cy}],[l]),y=f=>{f.preventDefault();const _=f.currentTarget,x=new FormData(_),k=Object.fromEntries(x.entries());e==null||e(Object.fromEntries(Object.entries(k).map(([D,g])=>[D,String(g)])))};return i.jsxs("form",{className:J.form,onSubmit:y,"aria-busy":t,children:[i.jsxs("div",{className:J.group,children:[i.jsx("label",{className:J.label,htmlFor:"model",children:l("addProduct.form.modelLabel")}),i.jsx("div",{className:J.selectWrapper,children:i.jsx("select",{className:J.select,id:"model",name:"model",defaultValue:o.model??"balanced",children:c.map(f=>i.jsx("option",{value:f.value,children:f.label},f.value))})})]}),i.jsxs("div",{className:J.group,children:[i.jsx("label",{className:J.label,htmlFor:"productName",children:l("addProduct.form.productNameLabel")}),i.jsx("div",{className:J.inputWrapper,children:i.jsx("input",{className:J.input,id:"productName",name:"productName",defaultValue:o.productName??"",placeholder:l("addProduct.form.productNamePlaceholder"),required:!0})})]}),i.jsxs("div",{className:J.inlineGroup,children:[i.jsxs("div",{className:J.group,children:[i.jsx("label",{className:J.label,htmlFor:"portion",children:l("addProduct.form.portionLabel")}),i.jsxs("div",{className:J.inputWrapper,children:[i.jsx("input",{className:J.input,id:"portion",name:"portion",type:"number",defaultValue:o.portion??"",min:"0",step:"1",placeholder:l("addProduct.form.portionPlaceholder")}),i.jsx("span",{className:J.unit,children:l("addProduct.form.portionUnit")})]})]}),i.jsxs("div",{className:J.group,children:[i.jsx("label",{className:J.label,htmlFor:"mealTime",children:l("addProduct.form.mealTimeLabel")}),i.jsx("div",{className:J.selectWrapper,children:i.jsx("select",{className:J.select,id:"mealTime",name:"mealTime",defaultValue:o.mealTime??"lunch",children:u.map(f=>i.jsx("option",{value:f.value,children:f.label},f.value))})})]})]}),i.jsx("div",{className:J.nutrients,children:d.map(({id:f,label:_,unit:x,placeholder:k,Icon:D})=>i.jsxs("label",{className:J.nutrient,htmlFor:f,children:[i.jsx("span",{className:J.nutrientIcon,children:i.jsx(D,{})}),i.jsx("span",{className:J.nutrientLabel,children:_}),i.jsxs("div",{className:J.nutrientInput,children:[i.jsx("input",{className:J.input,id:f,name:f,inputMode:"decimal",defaultValue:o[f]??"",placeholder:k,type:"number",min:"0",step:"0.1"}),i.jsx("span",{className:J.unit,children:x})]})]},f))}),i.jsxs("div",{className:J.group,children:[i.jsx("label",{className:J.label,htmlFor:"notes",children:l("addProduct.form.notesLabel")}),i.jsx("div",{className:J.inputWrapper,children:i.jsx("textarea",{className:J.textarea,id:"notes",name:"notes",defaultValue:o.notes??"",rows:4,placeholder:l("addProduct.form.notesPlaceholder")})})]}),i.jsxs("div",{className:J.footer,children:[i.jsx(z,{type:"submit",leadingIcon:i.jsx(Fy,{}),disabled:t,children:t?l("addProduct.form.submitSaving"):r??l("addProduct.form.submit")}),i.jsx(z,{type:"button",variant:"outlined",className:J.aiButton,title:l("addProduct.form.aiFill"),disabled:t,leadingIcon:i.jsx(Ly,{}),children:l("addProduct.form.aiFill")}),a]})]},s??o.productName??"new")}const Yr="smartFoodPlan.editProduct",er="smartFoodPlan.planSelection",zo="smartFoodPlan.editRecipe",Xa="smartFoodPlan.viewRecipe",kn="smartFoodPlan.viewProduct",Da="smartFoodPlan.planRecipeSelection",Ia="---";function fu(e){let t=0;for(const n of e){if(n===" "){t+=1;continue}if(n==="	"){t+=2;continue}break}return t}function Oi(e){if(e===""||e==="~"||e==="null")return null;if(e==="true"||e==="True")return!0;if(e==="false"||e==="False")return!1;if(/^-?\d+(\.\d+)?$/.test(e)){const t=Number.parseFloat(e);if(!Number.isNaN(t))return t}if(e.startsWith('"')&&e.endsWith('"'))return e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");if(e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1).replace(/''/g,"'");if(e.startsWith("[")&&e.endsWith("]"))try{const t=e.replace(/'/g,'"'),n=JSON.parse(t);if(Array.isArray(n))return n}catch{}if(e.startsWith("{")&&e.endsWith("}"))try{const t=e.replace(/'/g,'"'),n=JSON.parse(t);if(typeof n=="object"&&n!==null)return n}catch{}return e}function Dy(e,t){for(let n=t;n<e.length;n+=1){const r=e[n];if(r.trim().length!==0)return{index:n,line:r}}return null}function Iy(e,t,n){const r=[];return e.value[t]=r,{type:"array",indent:n,value:r}}function Ry(e,t,n){const r={};return e.value[t]=r,{type:"object",indent:n,value:r}}function Ay(e,t){e.value.push(t)}function pu(e,t){const n={};return e.value.push(n),{type:"object",indent:t,value:n}}function Gy(e){const t=e.split(/\r?\n/),n={type:"object",indent:-1,value:{}},r=[n];for(let s=0;s<t.length;s+=1){const a=t[s];if(!a||a.trim().length===0||a.trim().startsWith("#"))continue;const l=fu(a),o=a.trim();for(;r.length>1;){const f=r[r.length-1];if(l>f.indent||l===f.indent&&o.startsWith("- ")&&f.type==="array")break;r.pop()}const c=r[r.length-1];if(o.startsWith("- ")){const f=o.slice(2).trim();if(f.length===0){if(c.type!=="array")throw new Error("Invalid YAML structure: expected array context");const _=pu(c,l);r.push(_);continue}if(f.includes(":")){const[_,...x]=f.split(":"),k=_.trim(),D=x.join(":").trim();if(c.type!=="array")throw new Error("Invalid YAML structure: expected array context");const g=pu(c,l);g.value[k]=D===""?null:Oi(D),r.push(g)}else{if(c.type!=="array")throw new Error("Invalid YAML structure: expected array context");Ay(c,Oi(f))}continue}const u=o.indexOf(":");if(u===-1)continue;const d=o.slice(0,u).trim(),y=o.slice(u+1).trim();if(y.length===0){if(c.type!=="object")throw new Error("Invalid YAML structure: expected object context");const f=Dy(t,s+1),_=f?fu(f.line):l+2,x=f?f.line.trim().startsWith("- "):!1,k=x?l:Math.max(l+1,_),D=x?Iy(c,d,k):Ry(c,d,k);r.push(D);continue}if(c.type!=="object")throw new Error("Invalid YAML structure: expected object context for scalar value");c.value[d]=Oi(y)}return n.value}function Vi(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Sn(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Fr(e){return e===null?"null":typeof e=="number"&&Number.isFinite(e)?(Number.isInteger(e),String(e)):typeof e=="boolean"?e?"true":"false":typeof e=="string"?e===""?'""':/^[\w\s\-\.,:%]+$/.test(e)?`"${Vi(e)}"`:`"${Vi(e)}"`:Array.isArray(e)||Sn(e)?JSON.stringify(e):`"${Vi(String(e))}"`}function la(e,t){const n="  ".repeat(t);if(Array.isArray(e)){if(e.length===0)return"[]";const r=[];for(const s of e)if(Sn(s)){const a=Object.entries(s);if(a.length===0){r.push(`${n}- {}`);continue}const[l,o]=a[0],c=`${n}- ${l}: ${Sn(o)||Array.isArray(o)?"":Fr(o)}`;r.push(c.trimEnd());const u=a.slice(1),d=t+1;(Sn(o)||Array.isArray(o))&&r.push(la(o,d).split(`
`).map(y=>`${"  ".repeat(d)}${y}`).join(`
`));for(const[y,f]of u)Sn(f)||Array.isArray(f)?(r.push(`${"  ".repeat(d)}${y}:`),r.push(la(f,d+1).split(`
`).map(_=>`${"  ".repeat(d+1)}${_}`).join(`
`))):r.push(`${"  ".repeat(d)}${y}: ${Fr(f)}`)}else r.push(`${n}- ${Fr(s)}`);return r.join(`
`)}if(Sn(e)){const r=Object.entries(e);if(r.length===0)return"{}";const s=[];for(const[a,l]of r)if(Sn(l)||Array.isArray(l)){s.push(`${n}${a}:`);const o=la(l,t+1).split(`
`).map(c=>`${"  ".repeat(t+1)}${c}`).join(`
`);s.push(o)}else s.push(`${n}${a}: ${Fr(l)}`);return s.join(`
`)}return Fr(e)}function My(e){return la(e,0)}function $y(e){const t=e.split(/\r?\n/);if(t.length===0||t[0].trim()!==Ia)return{frontMatter:"",body:e};let n=-1;for(let a=1;a<t.length;a+=1)if(t[a].trim()===Ia){n=a;break}if(n===-1)return{frontMatter:"",body:e};const r=t.slice(1,n).join(`
`),s=t.slice(n+1).join(`
`);return{frontMatter:r,body:s}}function Za(e){const{frontMatter:t,body:n}=$y(e);if(!t.trim())return{data:{},body:n};try{return{data:Gy(t),body:n}}catch(r){return console.error("Failed to parse YAML front matter",r),{data:{},body:n}}}function ei(e,t){const n=My(e),r=t.replace(/\s+$/u,"");return`${Ia}
${n}
${Ia}

${r}
`}function ti(e,t,n){const r=`<!-- AUTO:${t} START -->`,s=`<!-- AUTO:${t} END -->`,a=n.trim(),l=`${r}
${a}
${s}`,o=e.indexOf(r),c=e.indexOf(s);if(o!==-1&&c!==-1&&c>o){const d=e.slice(0,o).replace(/\s+$/u,""),y=e.slice(c+s.length).replace(/^\s+/u,""),f=[];return d&&f.push(d),f.push(l),y&&f.push(y),`${f.join(`

`)}
`}const u=e.trim();return u?`${u}

${l}
`:`${l}
`}const Uf="products",xs="g";async function be(e){if(!e.queryPermission||!e.requestPermission)return!0;const t={mode:"readwrite"},n=await e.queryPermission(t);return n==="granted"?!0:n==="denied"?!1:await e.requestPermission(t)==="granted"}function xe(e){if(e===null)return null;if(e!==void 0){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim().length>0){const t=e.replace(",",".").trim(),n=Number.parseFloat(t);return Number.isFinite(n)?n:void 0}}}function Oy(e){const t=xe(e);return t===void 0?null:t}function On(e){const t=xe(e);return t??0}function mt(e){return e==null?"":typeof e=="number"?Number.isFinite(e)?String(e):"":typeof e=="string"?e:""}function Vy(e){if(Array.isArray(e))return e.map(t=>mt(t).trim()).filter(t=>t.length>0)}function Hf(e){const t=e==null?void 0:e.trim();if(!t)return null;const n=t.replace(",","."),r=Number.parseFloat(n);return Number.isNaN(r)?null:Number.isInteger(r)?r:Number.parseFloat(r.toFixed(2))}function Vn(e){const t=Hf(e);return t===null?null:Number.parseFloat(t.toFixed(2))}function ni(e){return e.getDirectoryHandle(Uf,{create:!0})}function Uy(e,t){if(!t||t<=0)return{kcal:xe(e==null?void 0:e.kcal)??null,protein_g:xe(e==null?void 0:e.protein_g)??null,fat_g:xe(e==null?void 0:e.fat_g)??null,carbs_g:xe(e==null?void 0:e.carbs_g)??null,sugar_g:xe(e==null?void 0:e.sugar_g)??null,fiber_g:xe(e==null?void 0:e.fiber_g)??null};const n=100/t,r=s=>s==null?null:Number.parseFloat((s*n).toFixed(2));return{kcal:r((e==null?void 0:e.kcal)??null),protein_g:r((e==null?void 0:e.protein_g)??null),fat_g:r((e==null?void 0:e.fat_g)??null),carbs_g:r((e==null?void 0:e.carbs_g)??null),sugar_g:r((e==null?void 0:e.sugar_g)??null),fiber_g:r((e==null?void 0:e.fiber_g)??null)}}function Hy(e,t,n){var D,g,m,p,w,S,E,F,L;const r=((D=e.productName)==null?void 0:D.trim())||"New product",s=(g=e.brand)==null?void 0:g.trim(),a=(m=e.barcode)==null?void 0:m.trim(),l=(p=e.model)==null?void 0:p.trim(),o=(w=e.modelLabel)==null?void 0:w.trim(),c=(S=e.mealTime)==null?void 0:S.trim(),u=(E=e.mealTimeLabel)==null?void 0:E.trim(),d=(F=e.tags)==null?void 0:F.split(",").map($=>$.trim()).filter($=>$.length>0),y=Hf(e.portion)??null,f=((L=e.portionUnit)==null?void 0:L.trim())||xs,_={kcal:Vn(e.calories),protein_g:Vn(e.protein),fat_g:Vn(e.fat),carbs_g:Vn(e.carbs),sugar_g:Vn(e.sugar),fiber_g:Vn(e.fiber)},x=Uy(_,y),k={id:`product:${t}`,title:r,created_at:n.createdAt,updated_at:n.updatedAt};return s&&(k.brand=s),a&&(k.barcode=a),l&&(k.model=l),o&&(k.model_label=o),c&&(k.meal_time=c),u&&(k.meal_time_label=u),d&&d.length>0&&(k.tags=d),k.serving={default_qty:y,default_unit:f},k.nutrition_per_portion=_,k.nutrition_per_100g=x,k}function zy(e){const t={};for(const[n,r]of Object.entries(e))if(r!==void 0){if(r===null){t[n]=null;continue}if(Array.isArray(r)){t[n]=r;continue}if(typeof r=="object"){const s=Object.entries(r).filter(([,l])=>l!==void 0),a={};s.forEach(([l,o])=>{a[l]=o??null}),t[n]=a;continue}t[n]=r}return t}function oa(e,t){if(e==null||Number.isNaN(e))return"";const n=(t==null?void 0:t.decimals)??(e%1===0?0:1);return Number.parseFloat(e.toFixed(n)).toString()}function Xt(e,t){const n=oa(e,{decimals:1});return n===""?n:`${n} ${t}`}function By(e){const t=e.nutrition_per_100g??{},n=e.nutrition_per_portion??{},r=e.serving??{},s=xe(r.default_qty)??null,a=r.default_unit??xs,l=["##   ( 100 )","|  |  |  |  |  |  |","|---:|---:|---:|---:|---:|---:|",`| ${oa(t.kcal)} | ${Xt(t.protein_g,"")} | ${Xt(t.fat_g,"")} | ${Xt(t.carbs_g,"")} | ${Xt(t.sugar_g,"")} | ${Xt(t.fiber_g,"")} |`],o=[];o.push("** :**"),s!==null?o.push(`${oa(s,{decimals:0})} ${a}`):o.push("");const c=[];return n.kcal!==null&&n.kcal!==void 0&&c.push(`${oa(n.kcal,{decimals:0})} `),n.protein_g!==null&&n.protein_g!==void 0&&c.push(` ${Xt(n.protein_g,"")}`),n.fat_g!==null&&n.fat_g!==void 0&&c.push(` ${Xt(n.fat_g,"")}`),n.carbs_g!==null&&n.carbs_g!==void 0&&c.push(` ${Xt(n.carbs_g,"")}`),c.length>0&&(o.push(""),o.push(c.join(", "))),l.push(""),l.push(o.join(" ")),l.join(`
`)}function Ky(e,t){const n=e.title||" ",r=t.trim().length>0?t.trim():"_ _",s=`# ${n}

${r}
`,a=By(e);return ti(s,"NUTRITION",a)}function Wy(e,t){const n="<!-- AUTO:NUTRITION START -->",r="<!-- AUTO:NUTRITION END -->";let s=e;const a=s.indexOf(n),l=s.indexOf(r);if(a!==-1&&l!==-1&&l>a){const d=s.slice(0,a),y=s.slice(l+r.length);s=`${d}
${y}`}const o=s.split(/\r?\n/),c=[];for(const d of o){const y=d.trimEnd();if(!y){c.push("");continue}y.startsWith("# ")||c.push(y)}const u=c.join(`
`).trim();return!u||u==="_ _"?"":u}function qy(e){const t=e.serving,n=e.nutrition_per_portion,r=e.nutrition_per_100g,s=typeof t=="object"&&t!==null?{default_qty:Oy(t.default_qty),default_unit:mt(t.default_unit)||xs}:void 0,a=l=>{if(typeof l!="object"||l===null)return;const o=l;return{kcal:On(o.kcal),protein_g:On(o.protein_g),fat_g:On(o.fat_g),carbs_g:On(o.carbs_g),sugar_g:On(o.sugar_g),fiber_g:On(o.fiber_g)}};return{id:mt(e.id)||"",title:mt(e.title)||"Untitled product",brand:mt(e.brand)||void 0,barcode:mt(e.barcode)||void 0,model:mt(e.model)||void 0,model_label:mt(e.model_label)||void 0,meal_time:mt(e.meal_time)||void 0,meal_time_label:mt(e.meal_time_label)||void 0,serving:s,nutrition_per_portion:a(n),nutrition_per_100g:a(r),tags:Vy(e.tags),created_at:mt(e.created_at)||void 0,updated_at:mt(e.updated_at)||void 0}}function Yy(e,t,n){var u,d,y;const s=((u=t.id)!=null&&u.startsWith("product:")?t.id.slice(8):null)??e.replace(/\.md$/i,""),a=xe((d=t.serving)==null?void 0:d.default_qty)??null,l=((y=t.serving)==null?void 0:y.default_unit)??xs,o=t.nutrition_per_portion??{},c=t.nutrition_per_100g??{};return{fileName:e,slug:s,title:t.title||s,brand:t.brand,model:t.model,modelLabel:t.model_label,portionGrams:a,portionUnit:l,mealTime:t.meal_time,mealTimeLabel:t.meal_time_label,nutritionPerPortion:{caloriesKcal:xe(o.kcal)??null,proteinG:xe(o.protein_g)??null,fatG:xe(o.fat_g)??null,carbsG:xe(o.carbs_g)??null,sugarG:xe(o.sugar_g)??null,fiberG:xe(o.fiber_g)??null},nutritionPer100g:{caloriesKcal:xe(c.kcal)??null,proteinG:xe(c.protein_g)??null,fatG:xe(c.fat_g)??null,carbsG:xe(c.carbs_g)??null,sugarG:xe(c.sugar_g)??null,fiberG:xe(c.fiber_g)??null},createdAt:t.created_at,updatedAt:t.updated_at,tags:t.tags,notes:n}}function Qy(e,t){var l,o,c;const n=e.nutrition_per_portion??{},r=((l=e.serving)==null?void 0:l.default_qty)??null,s=((o=e.serving)==null?void 0:o.default_unit)??xs;return{productName:e.title??"",brand:e.brand??"",barcode:e.barcode??"",model:e.model??"",modelLabel:e.model_label??"",portion:r!=null?String(r):"",portionUnit:s,mealTime:e.meal_time??"",mealTimeLabel:e.meal_time_label??"",calories:n.kcal!==null&&n.kcal!==void 0?String(n.kcal):"",protein:n.protein_g!==null&&n.protein_g!==void 0?String(n.protein_g):"",fat:n.fat_g!==null&&n.fat_g!==void 0?String(n.fat_g):"",carbs:n.carbs_g!==null&&n.carbs_g!==void 0?String(n.carbs_g):"",sugar:n.sugar_g!==null&&n.sugar_g!==void 0?String(n.sugar_g):"",fiber:n.fiber_g!==null&&n.fiber_g!==void 0?String(n.fiber_g):"",tags:((c=e.tags)==null?void 0:c.join(", "))??"",notes:t,createdAt:e.created_at??""}}function zf(e,t){const{data:n,body:r}=Za(t),s=qy(n),a=Wy(r),l=Yy(e,s,a),o=Qy(s,a);return{...l,formData:o}}function Jy(e,t){return e.getFileHandle(t,{create:!1}).then(()=>!0).catch(n=>{if((n==null?void 0:n.name)==="NotFoundError")return!1;throw n})}async function Xy(e,t){let n=0;for(;n<1e3;){const r=n===0?"":`-${n}`,s=`${t}${r}.md`;if(!await Jy(e,s))return{handle:await e.getFileHandle(s,{create:!0}),fileName:s};n+=1}throw new Error("Unable to choose a unique file name for the product.")}function Bf(e,t,n){const r=e.notes??"",s=Hy(e,t,n),a=Ky(s,r),l=zy(s);return ei(l,a).trim()+`
`}function gs(e){return e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9-\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}async function Kf(e,t){var f;const n=((f=t.productName)==null?void 0:f.trim())||"product",r=gs(n)||`product-${Date.now()}`,s=r,a=await ni(e),{handle:l,fileName:o}=await Xy(a,s),c=new Date().toISOString(),u={createdAt:t.createdAt&&t.createdAt.length>0?t.createdAt:c,updatedAt:c},d=Bf(t,r,u),y=await l.createWritable({keepExistingData:!1});try{await y.write(d)}finally{await y.close()}return{fileName:o,slug:r}}async function ri(e){const t=await e.getDirectoryHandle(Uf,{create:!0}),n=[];for await(const[r,s]of t.entries()){if(s.kind!=="file"||!r.endsWith(".md"))continue;const o=await(await s.getFile()).text(),c=zf(r,o),{formData:u,...d}=c;n.push(d)}return n.sort((r,s)=>r.title.localeCompare(s.title,"ru"))}function Zy(e){if(!e)return!1;const t=e;return(t==null?void 0:t.name)==="NotAllowedError"||(t==null?void 0:t.name)==="SecurityError"}async function Wf(e,t){const a=await(await(await(await ni(e)).getFileHandle(t,{create:!1})).getFile()).text();return zf(t,a)}async function ev(e,t,n,r){const a=await(await ni(e)).getFileHandle(t,{create:!1}),l=new Date().toISOString(),o={createdAt:r.createdAt&&r.createdAt.length>0?r.createdAt:l,updatedAt:l},c=Bf(r,n,o),u=await a.createWritable({keepExistingData:!1});try{await u.write(c)}finally{await u.close()}}async function tv(e,t){const n=await ni(e);if(typeof n.removeEntry!="function")throw new Error("Current browser does not support deleting files via File System Access API");try{await n.removeEntry(t)}catch(r){if((r==null?void 0:r.name)==="NotFoundError")return;throw r}}const nv="smartFoodPlan",Ra="vault",Bo="vaultDirectoryHandle";function Ko(){return new Promise((e,t)=>{const n=indexedDB.open(nv,1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Ra)||r.createObjectStore(Ra)},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}function Wo(e,t,n){return new Promise((r,s)=>{const a=e.transaction(Ra,t),l=a.objectStore(Ra),o=n(l);o.onsuccess=()=>r(o.result),o.onerror=()=>s(o.error),a.oncomplete=()=>{e.close()},a.onerror=()=>{s(a.error??o.error??new Error("IndexedDB transaction failed"))}})}async function Mt(e){const t=await Ko();await Wo(t,"readwrite",n=>n.put(e,Bo))}async function Ft(){const e=await Ko();return await Wo(e,"readonly",n=>n.get(Bo))??null}async function Ze(){const e=await Ko();await Wo(e,"readwrite",t=>t.delete(Bo))}const rv="_root_1q7uu_1",sv="_header_1q7uu_8",av="_title_1q7uu_15",iv="_subtitle_1q7uu_21",lv="_headerActions_1q7uu_27",ov="_card_1q7uu_32",cv="_vaultControls_1q7uu_39",uv="_vaultLabel_1q7uu_47",dv="_vaultHint_1q7uu_52",fv="_status_1q7uu_58",pv="_placeholder_1q7uu_76",pt={root:rv,header:sv,title:av,subtitle:iv,headerActions:lv,card:ov,vaultControls:cv,vaultLabel:uv,vaultHint:dv,status:fv,"status-success":"_status-success_1q7uu_66","status-error":"_status-error_1q7uu_71",placeholder:pv};function mv(e){return e?{model:e.model??"",productName:e.productName??"",portion:e.portion??"",mealTime:e.mealTime??"",calories:e.calories??"",protein:e.protein??"",fat:e.fat??"",carbs:e.carbs??"",notes:e.notes??""}:null}function gv(){const{t:e}=Ye(),[t,n]=h.useState(null),[r,s]=h.useState(null),[a,l]=h.useState(!1),[o,c]=h.useState(!1),[u,d]=h.useState(null),[y,f]=h.useState("new"),[_,x]=h.useState(null),k=h.useMemo(()=>({balanced:e("dietModel.balanced"),vegan:e("dietModel.vegan"),fitness:e("dietModel.fitness"),keto:e("dietModel.keto")}),[e]),D=h.useMemo(()=>({breakfast:e("mealTime.breakfast"),lunch:e("mealTime.lunch"),snack:e("mealTime.snack"),dinner:e("mealTime.dinner")}),[e]),g=t!=null&&t.name?e("addProduct.vault.label",{folder:t.name}):e("addProduct.vault.label.unselected"),m=e(t?"addProduct.vault.hint.selected":"addProduct.vault.hint.missing"),p=h.useCallback(()=>{typeof window<"u"&&window.sessionStorage.removeItem(Yr),x(null),d(null),f(`new-${Date.now()}`)},[]);h.useEffect(()=>{if((r==null?void 0:r.type)==="info"||(r==null?void 0:r.type)==="success"){if(typeof window>"u")return;const L=window.setTimeout(()=>{s($=>($==null?void 0:$.type)===r.type?null:$)},4e3);return()=>{window.clearTimeout(L)}}},[r]),h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let L=!1;return(async()=>{try{const U=await Ft();if(!U)return;if(!await be(U)){await Ze(),L||s({type:"error",message:e("addProduct.status.permissionRevoked")});return}L||(n(U),s({type:"success",message:e("addProduct.status.connected",{folder:U.name})}))}catch(U){console.error("Failed to restore vault handle",U),L||s({type:"error",message:e("addProduct.status.restoreError")})}})(),()=>{L=!0}},[e]),h.useEffect(()=>{if(!t||typeof window>"u")return;const L=window.sessionStorage.getItem(Yr);if(!L){x(null),d(null),f("new");return}let $=!1;return(async()=>{try{const M=JSON.parse(L);if(!(M!=null&&M.fileName))throw new Error("Invalid edit payload");const K=await Wf(t,M.fileName);if($)return;x({fileName:K.fileName,slug:K.slug,title:K.title,modelLabel:K.modelLabel,mealTimeLabel:K.mealTimeLabel,createdAt:K.createdAt}),d(mv(K.formData)),f(K.slug??K.fileName),s({type:"info",message:e("addProduct.status.editing",{title:K.title})})}catch(M){console.error("Failed to load product detail for editing",M),window.sessionStorage.removeItem(Yr),s({type:"error",message:e("addProduct.status.genericError")}),x(null),d(null),f("new")}})(),()=>{$=!0}},[t,e]);const w=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){s({type:"error",message:e("addProduct.status.browserUnsupported")});return}try{c(!0);const L=await window.showDirectoryPicker();if(!L)return;if(!await be(L)){s({type:"error",message:e("addProduct.status.permissionError")});return}n(L),s({type:"success",message:e("addProduct.status.connected",{folder:L.name})}),"indexedDB"in window&&await Mt(L)}catch(L){if((L==null?void 0:L.name)==="AbortError")return;console.error("Failed to select vault",L),s({type:"error",message:e("addProduct.status.genericError")})}finally{c(!1)}},[e]),S=h.useCallback(async L=>{if(!t){s({type:"error",message:e("addProduct.status.noVault")});return}const $=L.model??"",U=L.mealTime??"",M={...L,modelLabel:k[$]??(_==null?void 0:_.modelLabel)??"",mealTimeLabel:D[U]??(_==null?void 0:_.mealTimeLabel)??"",createdAt:(_==null?void 0:_.createdAt)??""};try{l(!0),_?(await ev(t,_.fileName,_.slug,M),s({type:"success",message:e("addProduct.status.updated")}),p(),window.location.hash="#/products"):(await Kf(t,M),s({type:"success",message:e("addProduct.status.created")}),d(null),f(`new-${Date.now()}`))}catch(K){console.error("Failed to save product",K),Zy(K)?(n(null),await Ze(),s({type:"error",message:e("addProduct.status.permissionRevoked")})):s({type:"error",message:e("addProduct.status.genericError")})}finally{l(!1)}},[t,e,k,D,_,p]),E=h.useCallback(()=>{p(),s({type:"info",message:e("addProduct.status.loaded")})},[p,e]),F=h.useCallback(()=>{window.location.hash="#/products"},[]);return i.jsxs("div",{className:pt.root,children:[i.jsxs("header",{className:pt.header,children:[i.jsxs("div",{children:[i.jsx("h1",{className:pt.title,children:e("nav.addProduct")}),i.jsx("p",{className:pt.subtitle,children:e("addProduct.subtitle")})]}),i.jsx("div",{className:pt.headerActions,children:i.jsx(z,{variant:"outlined",onClick:F,children:e("addProduct.goToList")})})]}),i.jsxs(Ho,{className:pt.card,children:[i.jsxs("div",{className:pt.vaultControls,children:[i.jsxs("div",{children:[i.jsx("span",{className:pt.vaultLabel,children:g}),i.jsx("p",{className:pt.vaultHint,children:m})]}),i.jsx(z,{variant:"outlined",onClick:w,disabled:o||a,children:e(t?"addProduct.vault.button.change":"addProduct.vault.button.choose")})]}),r&&i.jsx("div",{className:Pt(pt.status,pt[`status-${r.type}`]),children:r.message}),t?i.jsx(Ty,{onSubmit:S,isSubmitting:a,defaultValues:u,submitLabel:_?e("addProduct.form.submitEdit"):void 0,formKey:y,footerSlot:_?i.jsx(z,{type:"button",variant:"ghost",onClick:E,disabled:a,children:e("addProduct.cancelEdit")}):null}):i.jsx("div",{className:pt.placeholder,children:e("addProduct.status.noVault")})]})]})}const hv="recipes";function js(e){return e.getDirectoryHandle(hv,{create:!0})}function Ce(e){if(e==null)return 0;if(typeof e=="number")return Number.isFinite(e)?e:0;const t=Number.parseFloat(String(e).replace(",","."));return Number.isFinite(t)?t:0}function tr(e){if(e==null||e==="")return null;const t=Number.parseFloat(String(e).replace(",","."));return Number.isFinite(t)?Number.parseFloat(t.toFixed(2)):null}function mu(e){return typeof e=="object"&&e!==null?e:{}}function Pe(e,...t){for(const n of t)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="number"||typeof r=="string"||r===null||r===void 0)return r}}function yv(e){return{caloriesKcal:Ce(e==null?void 0:e.caloriesKcal),proteinG:Ce(e==null?void 0:e.proteinG),fatG:Ce(e==null?void 0:e.fatG),carbsG:Ce(e==null?void 0:e.carbsG)}}function qf(e,t){return{caloriesKcal:Number.parseFloat((e.caloriesKcal*t).toFixed(2)),proteinG:Number.parseFloat((e.proteinG*t).toFixed(2)),fatG:Number.parseFloat((e.fatG*t).toFixed(2)),carbsG:Number.parseFloat((e.carbsG*t).toFixed(2))}}function vv(e){return e.reduce((t,n)=>({caloriesKcal:Number.parseFloat((t.caloriesKcal+n.caloriesKcal).toFixed(2)),proteinG:Number.parseFloat((t.proteinG+n.proteinG).toFixed(2)),fatG:Number.parseFloat((t.fatG+n.fatG).toFixed(2)),carbsG:Number.parseFloat((t.carbsG+n.carbsG).toFixed(2))}),{caloriesKcal:0,proteinG:0,fatG:0,carbsG:0})}function wv(e){const t=yv(e.macros),n=Ce(e.referenceAmount)||100,r=Ce(e.quantity),s=n>0?r/n:0,a=qf(t,s);return{id:e.id,title:e.title,quantity:r,unit:e.unit,referenceAmount:n,referenceUnit:e.referenceUnit,macros:t,totals:a,product:e.product}}function Vl(e,t){if(e==null||Number.isNaN(e))return"";const n=(t==null?void 0:t.decimals)??(e%1===0?0:1);return Number.parseFloat(e.toFixed(n)).toString()}function Ui(e,t){const n=Vl(e,{decimals:1});return n===""?n:`${n} ${t}`}function _v(e){const t=[];t.push(`##  ( ${e.servings_default} )`);for(const n of e.ingredients){const r=Vl(n.qty,{decimals:0});t.push(`- ${n.title}  ${r} ${n.unit}`)}return t.push(""),t.push("##   1 "),t.push("|  |  |  |  |"),t.push("|---:|---:|---:|---:|"),t.push(`| ${Vl(e.nutrition_per_serving.caloriesKcal,{decimals:0})} | ${Ui(e.nutrition_per_serving.proteinG,"")} | ${Ui(e.nutrition_per_serving.fatG,"")} | ${Ui(e.nutrition_per_serving.carbsG,"")} |`),t.join(`
`)}function xv(e,t,n){const r=e.title||" ",s=n==null?void 0:n.trim(),a=s&&s.length>0?`${s}

`:"",l=`# ${r}

${a}`.trimEnd()+`
`,o=ti(l,"SUMMARY",_v(e)),c=t.trim().length>0?t.trim():"1.    .";return`${o}

##  
${c}
`}function jv(e){const t="<!-- AUTO:SUMMARY START -->",n="<!-- AUTO:SUMMARY END -->";let r=e;const s=r.indexOf(t),a=r.indexOf(n);if(s!==-1&&a!==-1&&a>s){const f=r.slice(0,s),_=r.slice(a+n.length);r=`${f}
${_}`}const l=r.split(/\r?\n/),o=[],c=[];let u=!1;for(const f of l)if(!f.trim().startsWith("# ")){if(f.trim().toLowerCase()==="##  "){u=!0;continue}u?c.push(f):o.push(f)}const d=o.join(`
`).trim(),y=c.join(`
`).trim();return{description:d,steps:y}}function Sv(e){return{id:`recipe:${e.slug}`,title:e.title,description:e.description,servings_default:e.servings,photo_url:e.photoUrl,tags:e.tags,created_at:e.createdAt,updated_at:e.updatedAt,prep_time_minutes:null,cook_time_minutes:null,ingredients:e.ingredients.map(t=>({id:t.id,title:t.title,qty:t.quantity,unit:t.unit,reference_amount:t.referenceAmount,reference_unit:t.referenceUnit,macros:{caloriesKcal:t.macros.caloriesKcal,proteinG:t.macros.proteinG,fatG:t.macros.fatG,carbsG:t.macros.carbsG,sugarG:t.macros.sugarG??null,fiberG:t.macros.fiberG??null},totals:{caloriesKcal:t.totals.caloriesKcal,proteinG:t.totals.proteinG,fatG:t.totals.fatG,carbsG:t.totals.carbsG,sugarG:t.totals.sugarG??null,fiberG:t.totals.fiberG??null},product:t.product?{slug:t.product.slug,ref:t.product.ref,title:t.product.title,file_name:t.product.fileName}:void 0})),nutrition_per_serving:{caloriesKcal:e.nutritionPerServing.caloriesKcal,proteinG:e.nutritionPerServing.proteinG,fatG:e.nutritionPerServing.fatG,carbsG:e.nutritionPerServing.carbsG,sugarG:e.nutritionPerServing.sugarG??null,fiberG:e.nutritionPerServing.fiberG??null},nutrition_total:{caloriesKcal:e.nutritionTotal.caloriesKcal,proteinG:e.nutritionTotal.proteinG,fatG:e.nutritionTotal.fatG,carbsG:e.nutritionTotal.carbsG,sugarG:e.nutritionTotal.sugarG??null,fiberG:e.nutritionTotal.fiberG??null}}}function kv(e){const t={id:e.id,title:e.title,servings_default:e.servings_default,ingredients:e.ingredients.map(n=>({id:n.id,title:n.title,qty:n.qty,unit:n.unit,reference_amount:n.reference_amount,reference_unit:n.reference_unit,macros:{caloriesKcal:n.macros.caloriesKcal,proteinG:n.macros.proteinG,fatG:n.macros.fatG,carbsG:n.macros.carbsG,sugarG:n.macros.sugarG??null,fiberG:n.macros.fiberG??null},totals:{caloriesKcal:n.totals.caloriesKcal,proteinG:n.totals.proteinG,fatG:n.totals.fatG,carbsG:n.totals.carbsG,sugarG:n.totals.sugarG??null,fiberG:n.totals.fiberG??null},product:n.product?{slug:n.product.slug??null,ref:n.product.ref??null,title:n.product.title??null,file_name:n.product.file_name??null}:null})),nutrition_per_serving:{caloriesKcal:e.nutrition_per_serving.caloriesKcal,proteinG:e.nutrition_per_serving.proteinG,fatG:e.nutrition_per_serving.fatG,carbsG:e.nutrition_per_serving.carbsG,sugarG:e.nutrition_per_serving.sugarG??null,fiberG:e.nutrition_per_serving.fiberG??null},nutrition_total:{caloriesKcal:e.nutrition_total.caloriesKcal,proteinG:e.nutrition_total.proteinG,fatG:e.nutrition_total.fatG,carbsG:e.nutrition_total.carbsG,sugarG:e.nutrition_total.sugarG??null,fiberG:e.nutrition_total.fiberG??null}};return e.description&&(t.description=e.description),e.photo_url&&(t.photo_url=e.photo_url),e.tags&&e.tags.length>0&&(t.tags=e.tags),e.created_at&&(t.created_at=e.created_at),e.updated_at&&(t.updated_at=e.updated_at),e.prep_time_minutes!==void 0&&(t.prep_time_minutes=e.prep_time_minutes??null),e.cook_time_minutes!==void 0&&(t.cook_time_minutes=e.cook_time_minutes??null),t}function gu(e){if(typeof e!="object"||e===null)return{caloriesKcal:0,proteinG:0,fatG:0,carbsG:0};const t=e;return{caloriesKcal:Ce(Pe(t,"caloriesKcal","kcal")),proteinG:Ce(Pe(t,"proteinG","protein_g")),fatG:Ce(Pe(t,"fatG","fat_g")),carbsG:Ce(Pe(t,"carbsG","carbs_g")),sugarG:tr(Pe(t,"sugarG","sugar_g")),fiberG:tr(Pe(t,"fiberG","fiber_g"))}}function hu(e){return{caloriesKcal:e.caloriesKcal,proteinG:e.proteinG,fatG:e.fatG,carbsG:e.carbsG,sugarG:e.sugarG??null,fiberG:e.fiberG??null}}function bv(e){const t=typeof e.created_at=="string"?e.created_at:void 0,n=typeof e.updated_at=="string"?e.updated_at:void 0,r=Array.isArray(e.tags)&&e.tags.length>0?e.tags.map(o=>typeof o=="string"?o:String(o??"")).filter(Boolean):void 0,s=[];if(Array.isArray(e.ingredients))for(const o of e.ingredients){if(typeof o!="object"||o===null)continue;const c=o,u=mu(c.macros),d=mu(c.totals);s.push({id:String(c.id??""),title:String(c.title??c.name??""),qty:Ce(Pe(c,"qty","quantity")),unit:String(c.unit??"g"),reference_amount:Ce(Pe(c,"reference_amount","referenceAmount")??100),reference_unit:String(c.reference_unit??c.referenceUnit??"g"),macros:{caloriesKcal:Ce(Pe(u,"caloriesKcal","kcal")),proteinG:Ce(Pe(u,"proteinG","protein_g")),fatG:Ce(Pe(u,"fatG","fat_g")),carbsG:Ce(Pe(u,"carbsG","carbs_g")),sugarG:tr(Pe(u,"sugarG","sugar_g")),fiberG:tr(Pe(u,"fiberG","fiber_g"))},totals:{caloriesKcal:Ce(Pe(d,"caloriesKcal","kcal")),proteinG:Ce(Pe(d,"proteinG","protein_g")),fatG:Ce(Pe(d,"fatG","fat_g")),carbsG:Ce(Pe(d,"carbsG","carbs_g")),sugarG:tr(Pe(d,"sugarG","sugar_g")),fiberG:tr(Pe(d,"fiberG","fiber_g"))},product:typeof c.product=="object"&&c.product!==null?{slug:String(c.product.slug??""),ref:String(c.product.ref??""),title:String(c.product.title??""),file_name:String(c.product.file_name??"")}:void 0})}const a=hu(gu(e.nutrition_per_serving)),l=hu(gu(e.nutrition_total));return{id:typeof e.id=="string"?e.id:"",title:typeof e.title=="string"?e.title:"Untitled recipe",description:typeof e.description=="string"?e.description:void 0,servings_default:typeof e.servings_default=="number"&&Number.isFinite(e.servings_default)?Math.max(1,Math.round(e.servings_default)):1,photo_url:typeof e.photo_url=="string"?e.photo_url:void 0,tags:r,created_at:t,updated_at:n,prep_time_minutes:typeof e.prep_time_minutes=="number"?Number.parseInt(String(e.prep_time_minutes),10):null,cook_time_minutes:typeof e.cook_time_minutes=="number"?Number.parseInt(String(e.cook_time_minutes),10):null,ingredients:s,nutrition_per_serving:a,nutrition_total:l}}function Yf(e,t,n){var l;const s=((l=t.id)!=null&&l.startsWith("recipe:")?t.id.slice(7):null)??e.replace(/\.md$/i,""),a=t.ingredients.map(o=>({id:o.id,title:o.title,quantity:o.qty,unit:o.unit,referenceAmount:o.reference_amount,referenceUnit:o.reference_unit,macros:{caloriesKcal:o.macros.caloriesKcal,proteinG:o.macros.proteinG,fatG:o.macros.fatG,carbsG:o.macros.carbsG},totals:{caloriesKcal:o.totals.caloriesKcal,proteinG:o.totals.proteinG,fatG:o.totals.fatG,carbsG:o.totals.carbsG},product:o.product?{slug:o.product.slug,ref:o.product.ref,title:o.product.title,fileName:o.product.file_name}:void 0}));return{fileName:e,slug:s,title:t.title,description:t.description,servings:t.servings_default,nutritionTotal:{caloriesKcal:t.nutrition_total.caloriesKcal,proteinG:t.nutrition_total.proteinG,fatG:t.nutrition_total.fatG,carbsG:t.nutrition_total.carbsG},nutritionPerServing:{caloriesKcal:t.nutrition_per_serving.caloriesKcal,proteinG:t.nutrition_per_serving.proteinG,fatG:t.nutrition_per_serving.fatG,carbsG:t.nutrition_per_serving.carbsG},photoUrl:t.photo_url,updatedAt:t.updated_at,createdAt:t.created_at,stepsMarkdown:n,ingredients:a,tags:t.tags}}function Qf(e,t){var u,d,y;const n=e.createdAt??new Date().toISOString(),r=e.updatedAt??new Date().toISOString(),s=Math.max(1,Number.parseInt(String(e.servings||1),10)),a=e.ingredients.map(wv),l=vv(a.map(f=>f.totals)),o=s>0?1/s:0,c=qf(l,o);return{fileName:"",slug:t,title:e.title.trim()||"New recipe",description:((u=e.description)==null?void 0:u.trim())||void 0,servings:s,nutritionTotal:l,nutritionPerServing:c,photoUrl:((d=e.photoUrl)==null?void 0:d.trim())||void 0,stepsMarkdown:((y=e.stepsMarkdown)==null?void 0:y.trim())||"",ingredients:a,createdAt:n,updatedAt:r,tags:e.tags??[]}}async function Nv(e,t){try{return await e.getFileHandle(t,{create:!1}),!0}catch(n){if((n==null?void 0:n.name)==="NotFoundError")return!1;throw n}}async function Pv(e,t){let n=0;for(;n<1e3;){const r=n===0?"":`-${n}`,s=`${t}${r}.md`;if(!await Nv(e,s))return{handle:await e.getFileHandle(s,{create:!0}),fileName:s};n+=1}throw new Error("Unable to create unique recipe file name")}function Jf(e){const t=Sv(e),n=kv(t),r=xv(t,e.stepsMarkdown,e.description);return ei(n,r).trim()+`
`}async function Xf(e){const n=await(await e.getFile()).text(),{data:r,body:s}=Za(n),a=bv(r),{description:l,steps:o}=jv(s);return a.description=a.description??l,{frontMatter:a,steps:o}}async function Zf(e){const t=await js(e),n=[];for await(const r of t.values())if(r.kind==="file"&&r.name.endsWith(".md")){const s=r,{frontMatter:a,steps:l}=await Xf(s),o=Yf(s.name,a,l);n.push({fileName:s.name,slug:o.slug,title:o.title,description:o.description,servings:o.servings,nutritionTotal:o.nutritionTotal,nutritionPerServing:o.nutritionPerServing,photoUrl:o.photoUrl,createdAt:o.createdAt,updatedAt:o.updatedAt,tags:o.tags})}return n.sort((r,s)=>(s.updatedAt??"").localeCompare(r.updatedAt??""))}async function ep(e,t){const r=await(await js(e)).getFileHandle(t,{create:!1}),{frontMatter:s,steps:a}=await Xf(r);return{...Yf(t,s,a),fileName:t}}async function Cv(e,t){const n=await js(e),r=gs(t.title)||`recipe-${Date.now()}`,{handle:s,fileName:a}=await Pv(n,r),l=Qf(t,r),o=Jf({...l});return await tp(s,o),{fileName:a,slug:r}}async function tp(e,t){const n=await e.createWritable({keepExistingData:!1});try{await n.write(t)}finally{await n.close()}}async function Ev(e,t,n){var c;const s=await(await js(e)).getFileHandle(t,{create:!1}),a=((c=n.slug)==null?void 0:c.trim())||gs(n.title)||`recipe-${Date.now()}`,l=Qf({...n,updatedAt:new Date().toISOString()},a),o=Jf({...l});return await tp(s,o),{fileName:t,slug:a}}async function Lv(e,t){const n=await js(e);if(typeof n.removeEntry!="function")throw new Error("Current browser does not support removing files");await n.removeEntry(t,{recursive:!1})}const Fv="days",Tv=["breakfast","lunch","snack","dinner"],Dv="g";function Ss(e){return e.getDirectoryHandle(Fv,{create:!0})}function Iv(e){return e==null||e%1===0?0:1}function yt(e){if(e==null)return 0;if(typeof e=="number")return Number.isFinite(e)?e:0;const t=Number.parseFloat(String(e).replace(",","."));return Number.isFinite(t)?t:0}function Nt(e){if(e==null||e==="")return null;const t=Number.parseFloat(String(e).replace(",","."));return Number.isFinite(t)?Number.parseFloat(t.toFixed(2)):null}function $e(e,...t){for(const n of t)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="number"||typeof r=="string"||r===null||r===void 0)return r}}function Rn(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);return Number.isNaN(t.valueOf())?new Date().toISOString().slice(0,10):t.toISOString().slice(0,10)}function Rv(e){try{const t=new Date(`${e}T00:00:00`);return Number.isNaN(t.valueOf())?e:t.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return e}}function gr(e){return{caloriesKcal:(e==null?void 0:e.caloriesKcal)??0,proteinG:(e==null?void 0:e.proteinG)??0,fatG:(e==null?void 0:e.fatG)??0,carbsG:(e==null?void 0:e.carbsG)??0,sugarG:(e==null?void 0:e.sugarG)??0,fiberG:(e==null?void 0:e.fiberG)??0}}function np(e,t){return{caloriesKcal:Number.parseFloat((e.caloriesKcal+t.caloriesKcal).toFixed(2)),proteinG:Number.parseFloat((e.proteinG+t.proteinG).toFixed(2)),fatG:Number.parseFloat((e.fatG+t.fatG).toFixed(2)),carbsG:Number.parseFloat((e.carbsG+t.carbsG).toFixed(2)),sugarG:Number.parseFloat(((e.sugarG??0)+(t.sugarG??0)).toFixed(2)),fiberG:Number.parseFloat(((e.fiberG??0)+(t.fiberG??0)).toFixed(2))}}function Av(e){e.totals=e.items.reduce((t,n)=>np(t,n.nutrition),gr())}function ks(e){e.sections.forEach(Av),e.totals=e.sections.reduce((t,n)=>np(t,n.totals),gr())}function wr(e){return{date:e,sections:Tv.map(t=>({id:t,name:void 0,items:[],totals:gr()})),totals:gr(),targetsSnapshot:null,wellness:null,updatedAt:new Date().toISOString(),meta:{}}}function Hi(e){return{kcal:Number.parseFloat(e.caloriesKcal.toFixed(2)),protein_g:Number.parseFloat(e.proteinG.toFixed(2)),fat_g:Number.parseFloat(e.fatG.toFixed(2)),carbs_g:Number.parseFloat(e.carbsG.toFixed(2)),sugar_g:Number.parseFloat((e.sugarG??0).toFixed(2)),fiber_g:Number.parseFloat((e.fiberG??0).toFixed(2))}}function Gv(e){if(!e)return null;const t={};return e.caloriesKcal!==void 0&&e.caloriesKcal!==null&&(t.kcal=Number.parseFloat(Number(e.caloriesKcal).toFixed(0))),e.proteinG!==void 0&&e.proteinG!==null&&(t.protein_g=Number.parseFloat(Number(e.proteinG).toFixed(1))),e.fatG!==void 0&&e.fatG!==null&&(t.fat_g=Number.parseFloat(Number(e.fatG).toFixed(1))),e.carbsG!==void 0&&e.carbsG!==null&&(t.carbs_g=Number.parseFloat(Number(e.carbsG).toFixed(1))),e.sugarG!==void 0&&e.sugarG!==null&&(t.sugar_g=Number.parseFloat(Number(e.sugarG).toFixed(1))),e.fiberG!==void 0&&e.fiberG!==null&&(t.fiber_g=Number.parseFloat(Number(e.fiberG).toFixed(1))),Object.keys(t).length>0?t:null}function Mv(e){const t=e.sections.map(a=>({id:a.id,title:a.name??null,totals:Hi(a.totals),items:a.items.map(l=>({type:l.type,ref:l.ref,title:l.title,portion_grams:l.portionGrams??null,quantity:l.quantity??null,unit:l.quantityUnit??null,servings:l.servings??null,nutrition:Hi(l.nutrition),source:l.source?{kind:l.source.kind,slug:l.source.slug??null,file_name:l.source.fileName??null}:null}))})),n={date:e.date,sections:t,totals:Hi(e.totals),updated_at:e.updatedAt??new Date().toISOString()},r=Gv(e.targetsSnapshot);if(r&&(n.targets_snapshot=r),e.wellness){const a={};e.wellness.mood&&(a.mood=e.wellness.mood),e.wellness.sleepHours!==void 0&&e.wellness.sleepHours!==null&&(a.sleep_hours=Number.parseFloat(e.wellness.sleepHours.toFixed(1))),e.wellness.steps!==void 0&&e.wellness.steps!==null&&(a.steps=Math.round(e.wellness.steps)),e.wellness.notes&&(a.notes=e.wellness.notes),Object.keys(a).length>0&&(n.wellness=a)}e.meta&&Object.keys(e.meta).length>0&&(n.meta=e.meta);const s=$v(e);return{frontMatter:n,body:s}}function $v(e){const t=`#   ${Rv(e.date)}`,n=Ov(e);return ti(`${t}
`,"SUMMARY",n)}function Ov(e){const t=[];for(const a of e.sections){const l=a.items.length>0,o=a.name||a.id;if(t.push(`## ${o}`),!l)t.push("_ _");else for(const c of a.items)if(c.type==="recipe"){const u=c.servings&&c.servings>0?c.servings:1;t.push(`-  ${c.title}  ${u} ()`)}else{const u=c.quantity??c.portionGrams??null,d=c.quantityUnit??Dv,y=u!==null?`${Number.parseFloat(u.toFixed(Iv(u)))} ${d}`:"";t.push(`-  ${c.title}${y?`  ${y}`:""}`)}t.push("")}t.push("##  ");const n=e.targetsSnapshot,r=n!=null&&n.caloriesKcal?`**:** ${Number.parseFloat(e.totals.caloriesKcal.toFixed(0))}  ${Math.round(n.caloriesKcal)}`:`**:** ${Number.parseFloat(e.totals.caloriesKcal.toFixed(0))}`,s=[`**:** ${Number.parseFloat(e.totals.proteinG.toFixed(1))} `,`**:** ${Number.parseFloat(e.totals.fatG.toFixed(1))} `,`**:** ${Number.parseFloat(e.totals.carbsG.toFixed(1))} `].join("  ");if(t.push(`${r}  ${s}`),e.wellness){const a=[];e.wellness.mood&&a.push(`: ${e.wellness.mood}`),e.wellness.sleepHours!==void 0&&e.wellness.sleepHours!==null&&a.push(`: ${Number.parseFloat(e.wellness.sleepHours.toFixed(1))} `),e.wellness.steps!==void 0&&e.wellness.steps!==null&&a.push(`: ${Math.round(e.wellness.steps).toLocaleString("ru-RU")}`),a.length>0&&t.push(a.join("  "))}return t.join(`
`)}function zi(e){if(typeof e!="object"||e===null)return gr();const t=e;return{caloriesKcal:yt($e(t,"caloriesKcal","kcal")),proteinG:yt($e(t,"proteinG","protein_g")),fatG:yt($e(t,"fatG","fat_g")),carbsG:yt($e(t,"carbsG","carbs_g")),sugarG:yt($e(t,"sugarG","sugar_g")??0),fiberG:yt($e(t,"fiberG","fiber_g")??0)}}function Vv(e){if(typeof e!="object"||e===null)return null;const t=e;return{caloriesKcal:Nt($e(t,"kcal","caloriesKcal")),proteinG:Nt($e(t,"protein_g","proteinG")),fatG:Nt($e(t,"fat_g","fatG")),carbsG:Nt($e(t,"carbs_g","carbsG")),sugarG:Nt($e(t,"sugar_g","sugarG")),fiberG:Nt($e(t,"fiber_g","fiberG"))}}function Uv(e,t,n){const r=typeof e.date=="string"?Rn(e.date):Rn(n),s=Array.isArray(e.sections)?e.sections:[],a=[];for(const f of s){if(typeof f!="object"||f===null)continue;const _=f,x=Array.isArray(_.items)?_.items:[],k=[];for(const D of x){if(typeof D!="object"||D===null)continue;const g=D,m=g.type==="recipe"?"recipe":"product",p=g.source,w=typeof p=="object"&&p!==null?(()=>{const $=p;return{kind:$.kind==="recipe"?"recipe":"product",slug:typeof $.slug=="string"?$.slug:void 0,fileName:typeof $.file_name=="string"?$.file_name:typeof $.fileName=="string"?$.fileName:void 0}})():void 0,S=Nt($e(g,"portion_grams","portionGrams")),E=Nt($e(g,"quantity")),F=Nt($e(g,"servings")),L=typeof g.unit=="string"?g.unit:typeof g.quantityUnit=="string"?g.quantityUnit:null;k.push({type:m,ref:typeof g.ref=="string"?g.ref:"",title:typeof g.title=="string"?g.title:"",portionGrams:S,quantity:E,quantityUnit:L,servings:F,nutrition:zi(g.nutrition),source:w})}a.push({id:typeof _.id=="string"?_.id:"custom",name:typeof _.title=="string"?_.title:void 0,items:k,totals:zi(_.totals)})}const l=zi(e.totals),o=Vv(e.targets_snapshot),c=typeof e.wellness=="object"&&e.wellness!==null?{mood:typeof e.wellness.mood=="string"?e.wellness.mood:void 0,sleepHours:Nt($e(e.wellness,"sleep_hours","sleepHours")),steps:Nt($e(e.wellness,"steps")),notes:typeof e.wellness.notes=="string"?e.wellness.notes:null}:null,u=typeof e.updated_at=="string"?e.updated_at:new Date().toISOString(),d=typeof e.meta=="object"&&e.meta!==null?e.meta:{},y={date:r,sections:a,totals:l,targetsSnapshot:o,wellness:c,updatedAt:u,meta:d};return y.sections.length===0&&(y.sections=wr(r).sections),ks(y),y.updatedAt=u,y}async function bs(e,t){const n=await e.createWritable({keepExistingData:!1}),{frontMatter:r,body:s}=Mv(t),a=ei(r,s);try{await n.write(a)}finally{await n.close()}}async function Ns(e,t){const r=await(await e.getFile()).text(),{data:s,body:a}=Za(r);return Uv(s,a,t)}function Ps(e){return`${e}.md`}function rp(e,t,n){const r=e.sections.find(a=>a.id===t);if(r)return n&&!r.name&&(r.name=n),r;const s={id:t,name:n,items:[],totals:gr()};return e.sections.push(s),s}function Hv(e){var n,r;const t=e.nutritionPerPortion??{};return{type:"product",ref:`product:${e.slug}`,title:e.title,portionGrams:e.portionGrams??null,nutrition:{caloriesKcal:yt(t.caloriesKcal),proteinG:yt(t.proteinG),fatG:yt(t.fatG),carbsG:yt(t.carbsG),sugarG:yt((((n=e.nutritionPerPortion)==null?void 0:n.sugarG)??0)||0),fiberG:yt((((r=e.nutritionPerPortion)==null?void 0:r.fiberG)??0)||0)},quantity:e.portionGrams??null,quantityUnit:e.portionGrams?"g":null,source:{kind:"product",slug:e.slug,fileName:e.fileName}}}function An(e,t){return{caloriesKcal:Number.parseFloat((e.caloriesKcal*t).toFixed(2)),proteinG:Number.parseFloat((e.proteinG*t).toFixed(2)),fatG:Number.parseFloat((e.fatG*t).toFixed(2)),carbsG:Number.parseFloat((e.carbsG*t).toFixed(2)),sugarG:Number.parseFloat(((e.sugarG??0)*t).toFixed(2)),fiberG:Number.parseFloat(((e.fiberG??0)*t).toFixed(2))}}function zv(e,t,n){const r=Hv(e);if(!t||t<=0)return r;const s=e.portionGrams??null,a=s&&s>0?t/s:t;return{...r,quantity:t,quantityUnit:n??(s?"g":null),nutrition:An(r.nutrition,a)}}function Bv(e,t){const n=t&&t>0?t:1,r=An(e.nutritionPerServing,n);return{type:"recipe",ref:`recipe:${e.slug}`,title:e.title,portionGrams:null,servings:n,nutrition:r,source:{kind:"recipe",slug:e.slug,fileName:e.fileName}}}async function Kv(e,t){const n=Rn(t),r=await Ss(e),s=Ps(n);let a;try{a=await r.getFileHandle(s,{create:!1})}catch(l){if((l==null?void 0:l.name)!=="NotFoundError")throw l;a=await r.getFileHandle(s,{create:!0});const o=wr(n);return await bs(a,o),o}return Ns(a,n)}async function qo(e,t,n,r){const s=Rn(t),a=await Ss(e),l=Ps(s),o=await a.getFileHandle(l,{create:!0});let c;try{c=await Ns(o,s)}catch(f){console.error("Failed to read meal plan day, recreating",f),c=wr(s)}const u=(r==null?void 0:r.sectionId)??n.mealTime??"flex",d=(r==null?void 0:r.sectionName)??n.mealTimeLabel??void 0;return rp(c,u,d).items.push(zv(n,r==null?void 0:r.quantity,r==null?void 0:r.unit)),ks(c),c.updatedAt=new Date().toISOString(),await bs(o,c),{day:c}}async function sp(e,t,n,r){const s=Rn(t),a=await Ss(e),l=Ps(s),o=await a.getFileHandle(l,{create:!0});let c;try{c=await Ns(o,s)}catch(f){console.error("Failed to read meal plan day, recreating",f),c=wr(s)}const u=(r==null?void 0:r.sectionId)??"flex",d=r==null?void 0:r.sectionName;return rp(c,u,d).items.push(Bv(n,r==null?void 0:r.servings)),ks(c),c.updatedAt=new Date().toISOString(),await bs(o,c),{day:c}}async function Wv(e,t,n,r){const s=Rn(t),a=await Ss(e),l=Ps(s),o=await a.getFileHandle(l,{create:!0});let c;try{c=await Ns(o,s)}catch(d){console.error("Failed to read meal plan day for removal, recreating",d),c=wr(s)}const u=c.sections.find(d=>d.id===n);return u?r<0||r>=u.items.length?{day:c}:(u.items.splice(r,1),ks(c),c.updatedAt=new Date().toISOString(),await bs(o,c),{day:c}):{day:c}}async function yu(e,t,n,r,s){const a=Rn(t),l=await Ss(e),o=Ps(a),c=await l.getFileHandle(o,{create:!0});let u;try{u=await Ns(c,a)}catch(f){console.error("Failed to read meal plan day for update, recreating",f),u=wr(a)}const d=u.sections.find(f=>f.id===n);if(!d)return{day:u};const y=d.items[r];if(!y)return{day:u};if(y.type==="recipe"&&typeof s.servings=="number"&&Number.isFinite(s.servings)){const f=Math.max(1,Math.round(s.servings)),_=y.servings&&y.servings>0?y.servings:1,x=f/_,k=An(y.nutrition,x);y.servings=f,y.nutrition=k}else if(y.type==="product"&&typeof s.quantity=="number"&&Number.isFinite(s.quantity)){const f=Math.max(0,s.quantity),_=y.quantity&&y.quantity>0?y.quantity:y.portionGrams&&y.portionGrams>0?y.portionGrams:1,x=_>0?_:1,k=f/x,D=An(y.nutrition,k);y.quantity=f,y.quantityUnit=s.unit??y.quantityUnit??null,y.nutrition=D}else return{day:u};return ks(u),u.updatedAt=new Date().toISOString(),await bs(c,u),{day:u}}const qv="_root_1qnv4_1",Yv="_header_1qnv4_8",Qv="_title_1qnv4_14",Jv="_formCard_1qnv4_21",Xv="_fieldGroup_1qnv4_32",Zv="_field_1qnv4_32",e1="_ingredientsList_1qnv4_60",t1="_ingredientRow_1qnv4_66",n1="_ingredientHeader_1qnv4_75",r1="_ingredientControls_1qnv4_86",s1="_ingredientActions_1qnv4_92",a1="_summaryBar_1qnv4_98",i1="_summaryItem_1qnv4_108",l1="_statusMessage_1qnv4_114",o1="_actions_1qnv4_121",te={root:qv,header:Yv,title:Qv,formCard:Jv,fieldGroup:Xv,field:Zv,ingredientsList:e1,ingredientRow:t1,ingredientHeader:n1,ingredientControls:r1,ingredientActions:s1,summaryBar:a1,summaryItem:i1,statusMessage:l1,actions:o1},ap={caloriesKcal:0,proteinG:0,fatG:0,carbsG:0};function Yo(e){return`${e}-${Math.random().toString(36).slice(2,8)}`}function c1(e){return e.reduce((t,n)=>({caloriesKcal:Number(t.caloriesKcal+(n.caloriesKcal??0)),proteinG:Number(t.proteinG+(n.proteinG??0)),fatG:Number(t.fatG+(n.fatG??0)),carbsG:Number(t.carbsG+(n.carbsG??0))}),{...ap})}function u1(e){const t=e.referenceAmount>0?e.quantity/e.referenceAmount:1;return An(e.macros,t||0)}function d1(e){var a,l,o,c;const t=e.portionGrams&&e.portionGrams>0?e.portionGrams:100,n=e.portionGrams?"g":"portion",r=n,s={caloriesKcal:((a=e.nutritionPerPortion)==null?void 0:a.caloriesKcal)??0,proteinG:((l=e.nutritionPerPortion)==null?void 0:l.proteinG)??0,fatG:((o=e.nutritionPerPortion)==null?void 0:o.fatG)??0,carbsG:((c=e.nutritionPerPortion)==null?void 0:c.carbsG)??0};return{id:Yo("ingredient"),source:"product",title:e.title,quantity:t,unit:n,referenceAmount:t,referenceUnit:r,macros:s,product:e}}function Bi(){return{id:Yo("ingredient"),source:"custom",title:"",quantity:100,unit:"g",referenceAmount:100,referenceUnit:"g",macros:{...ap},saveToProducts:!1}}function f1(e,t){const n=e.product?t.find(r=>{var s,a;return r.slug===((s=e.product)==null?void 0:s.slug)||r.fileName===((a=e.product)==null?void 0:a.fileName)}):void 0;return{id:e.id??Yo("ingredient"),source:n?"product":"custom",title:e.title,quantity:e.quantity,unit:e.unit,referenceAmount:e.referenceAmount,referenceUnit:e.referenceUnit,macros:e.macros,product:n,saveToProducts:!1}}function p1({onSaved:e}={}){const{t}=Ye(),[n,r]=h.useState(null),[s,a]=h.useState([]),l=h.useRef([]),[o,c]=h.useState([]),[u,d]=h.useState(""),[y,f]=h.useState(""),[_,x]=h.useState(4),[k,D]=h.useState(""),[g,m]=h.useState(null),[p,w]=h.useState(!1),[S,E]=h.useState(null),[F,L]=h.useState(!1),$=h.useMemo(()=>c1(o.map(u1)),[o]),U=h.useMemo(()=>{const R=_>0?_:1;return An($,1/R)},[_,$]),M=h.useCallback(async R=>{if(!R){l.current=[],a([]);return}try{const W=await ri(R);l.current=W,a(W)}catch(W){console.error("Failed to load products",W)}},[]),K=h.useCallback(async R=>{if(typeof window>"u")return;const W=window.sessionStorage.getItem(zo);if(W)try{const O=JSON.parse(W);if(!(O!=null&&O.fileName))return;L(!0);const T=await ep(R,O.fileName);E({fileName:T.fileName,slug:T.slug}),d(T.title),f(T.description??""),x(T.servings??1),D(T.stepsMarkdown??"");const Y=l.current;c(T.ingredients.map(ee=>f1(ee,Y))),m({type:"info",message:t("addRecipe.status.editing",{title:T.title})})}catch(O){console.error("Failed to load recipe detail",O),m({type:"error",message:t("addRecipe.status.loadError")})}finally{L(!1)}},[t]);h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let R=!1;return(async()=>{try{const O=await Ft();if(!O)return;if(!await be(O)){await Ze();return}R||(r(O),await M(O),await K(O))}catch(O){console.error("Failed to restore vault handle",O),m({type:"error",message:t("addRecipe.status.restoreError")})}})(),()=>{R=!0}},[M,K,t]);const re=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){m({type:"error",message:t("addRecipe.status.browserUnsupported")});return}try{const R=await window.showDirectoryPicker();if(!R)return;if(!await be(R)){m({type:"error",message:t("addRecipe.status.permissionError")});return}r(R),"indexedDB"in window&&await Mt(R),await M(R),await K(R),m({type:"success",message:t("addRecipe.status.connected",{folder:R.name})})}catch(R){if((R==null?void 0:R.name)==="AbortError")return;console.error("Failed to select vault",R),m({type:"error",message:t("addRecipe.status.genericError")})}},[M,K,t]),ue=h.useCallback((R,W)=>{c(O=>O.map(T=>T.id===R?{...T,...W}:T))},[]),Re=h.useCallback(()=>{c(R=>[...R,Bi()])},[]),Ue=h.useCallback(R=>{c(W=>W.filter(O=>O.id!==R))},[]),C=h.useCallback((R,W)=>{const O=l.current.find(T=>T.fileName===W);O&&c(T=>T.map(Y=>Y.id===R?{...d1(O),id:R}:Y))},[]),P=h.useCallback((R,W)=>{c(W==="product"?O=>O.map(T=>T.id===R?{...Bi(),id:R,source:"product",title:T.title}:T):O=>O.map(T=>T.id===R?{...Bi(),id:R,title:T.title}:T))},[]),I=h.useCallback(()=>{const R=o.map(W=>({id:W.id,title:W.title||t("addRecipe.ingredient.untitled"),quantity:W.quantity,unit:W.unit,referenceAmount:W.referenceAmount,referenceUnit:W.referenceUnit,macros:W.macros,product:W.product?{slug:W.product.slug,title:W.product.title,fileName:W.product.fileName}:void 0}));return{title:u,description:y,servings:_,photoUrl:"",stepsMarkdown:k,ingredients:R}},[y,o,_,k,t,u]),G=h.useCallback(async R=>{const W=o.filter(O=>O.source==="custom"&&O.saveToProducts);for(const O of W){const T=O.referenceAmount||O.quantity||100,Y={productName:O.title,portion:String(T),calories:String(O.macros.caloriesKcal??0),protein:String(O.macros.proteinG??0),fat:String(O.macros.fatG??0),carbs:String(O.macros.carbsG??0),notes:t("addRecipe.generatedProductNote",{recipe:u})};try{await Kf(R,Y)}catch(ee){console.error("Failed to persist generated product",ee)}}},[o,t,u]),q=h.useCallback(async()=>{if(!n){m({type:"error",message:t("addRecipe.status.noVault")});return}if(!u.trim()){m({type:"error",message:t("addRecipe.status.validation")});return}w(!0);try{const R=I();if(S)await Ev(n,S.fileName,{...R,slug:S.slug}),m({type:"success",message:t("addRecipe.status.updated")});else{const W=await Cv(n,R);E({fileName:W.fileName,slug:W.slug}),m({type:"success",message:t("addRecipe.status.saved")})}await G(n),e==null||e()}catch(R){console.error("Failed to save recipe",R),m({type:"error",message:t("addRecipe.status.error")})}finally{w(!1)}},[I,S,e,G,t,u,n]),ae=h.useCallback(()=>{m({type:"info",message:t("addRecipe.ai.placeholder")})},[t]);return i.jsxs("div",{className:te.root,children:[i.jsxs("header",{className:te.header,children:[i.jsx("h1",{className:te.title,children:t("addRecipe.title")}),i.jsx(z,{variant:"outlined",onClick:re,children:t("addRecipe.selectVault")})]}),g&&i.jsx("div",{className:te.statusMessage,children:g.message}),i.jsxs("section",{className:te.formCard,children:[F&&i.jsx("div",{children:t("addRecipe.loading")}),i.jsxs("div",{className:te.fieldGroup,children:[i.jsxs("div",{className:te.field,children:[i.jsx("label",{htmlFor:"recipe-title",children:t("addRecipe.fields.title")}),i.jsx("input",{id:"recipe-title",value:u,onChange:R=>d(R.target.value)})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{htmlFor:"recipe-description",children:t("addRecipe.fields.description")}),i.jsx("textarea",{id:"recipe-description",rows:3,value:y,onChange:R=>f(R.target.value)})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{htmlFor:"recipe-servings",children:t("addRecipe.fields.servings")}),i.jsx("input",{id:"recipe-servings",type:"number",min:"1",value:_,onChange:R=>x(Math.max(1,Number.parseInt(R.target.value,10)||1))})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{htmlFor:"recipe-steps",children:t("addRecipe.fields.steps")}),i.jsx("textarea",{id:"recipe-steps",rows:6,value:k,onChange:R=>D(R.target.value)})]})]}),i.jsx("div",{children:i.jsxs("div",{className:te.summaryBar,children:[i.jsxs("div",{className:te.summaryItem,children:[i.jsx("span",{children:t("mealPlan.totals.calories")}),i.jsx("strong",{children:$.caloriesKcal.toFixed(0)})]}),i.jsxs("div",{className:te.summaryItem,children:[i.jsx("span",{children:t("mealPlan.totals.protein")}),i.jsx("strong",{children:$.proteinG.toFixed(1)})]}),i.jsxs("div",{className:te.summaryItem,children:[i.jsx("span",{children:t("mealPlan.totals.fat")}),i.jsx("strong",{children:$.fatG.toFixed(1)})]}),i.jsxs("div",{className:te.summaryItem,children:[i.jsx("span",{children:t("mealPlan.totals.carbs")}),i.jsx("strong",{children:$.carbsG.toFixed(1)})]}),i.jsxs("div",{className:te.summaryItem,children:[i.jsx("span",{children:t("addRecipe.perServing")}),i.jsxs("strong",{children:[U.caloriesKcal.toFixed(0)," ",t("mealPlan.units.kcal")]})]})]})}),i.jsxs("div",{children:[i.jsx("div",{className:te.ingredientActions,children:i.jsxs(z,{variant:"ghost",onClick:Re,children:["+ ",t("addRecipe.addIngredient")]})}),i.jsx("div",{className:te.ingredientsList,children:o.map(R=>{var W;return i.jsxs("div",{className:te.ingredientRow,children:[i.jsxs("div",{className:te.ingredientHeader,children:[i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("addRecipe.fields.ingredientName")}),i.jsx("input",{value:R.title,onChange:O=>ue(R.id,{title:O.target.value})})]}),i.jsxs("div",{className:te.ingredientActions,children:[i.jsx(z,{variant:"ghost",onClick:()=>P(R.id,R.source==="product"?"custom":"product"),children:R.source==="product"?t("addRecipe.switchToCustom"):t("addRecipe.switchToProduct")}),i.jsx(z,{variant:"ghost",onClick:()=>Ue(R.id),children:t("addRecipe.removeIngredient")})]})]}),i.jsxs("div",{className:te.ingredientControls,children:[R.source==="product"&&i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("addRecipe.chooseProduct")}),i.jsxs("select",{value:((W=R.product)==null?void 0:W.fileName)??"",onChange:O=>C(R.id,O.target.value),children:[i.jsx("option",{value:"",children:t("addRecipe.productPlaceholder")}),s.map(O=>i.jsx("option",{value:O.fileName,children:O.title},O.fileName))]})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("addRecipe.fields.quantity")}),i.jsx("input",{type:"number",min:"0",step:"1",value:R.quantity,onChange:O=>ue(R.id,{quantity:Number.parseFloat(O.target.value)||0})})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("addRecipe.fields.unit")}),i.jsx("input",{value:R.unit,onChange:O=>ue(R.id,{unit:O.target.value})})]}),R.source==="custom"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("addRecipe.fields.referenceAmount")}),i.jsx("input",{type:"number",min:"1",value:R.referenceAmount,onChange:O=>ue(R.id,{referenceAmount:Number.parseFloat(O.target.value)||100})})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("addRecipe.fields.referenceUnit")}),i.jsx("input",{value:R.referenceUnit,onChange:O=>ue(R.id,{referenceUnit:O.target.value})})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("mealPlan.totals.calories")}),i.jsx("input",{type:"number",value:R.macros.caloriesKcal,onChange:O=>ue(R.id,{macros:{...R.macros,caloriesKcal:Number.parseFloat(O.target.value)||0}})})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("mealPlan.totals.protein")}),i.jsx("input",{type:"number",value:R.macros.proteinG,onChange:O=>ue(R.id,{macros:{...R.macros,proteinG:Number.parseFloat(O.target.value)||0}})})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("mealPlan.totals.fat")}),i.jsx("input",{type:"number",value:R.macros.fatG,onChange:O=>ue(R.id,{macros:{...R.macros,fatG:Number.parseFloat(O.target.value)||0}})})]}),i.jsxs("div",{className:te.field,children:[i.jsx("label",{children:t("mealPlan.totals.carbs")}),i.jsx("input",{type:"number",value:R.macros.carbsG,onChange:O=>ue(R.id,{macros:{...R.macros,carbsG:Number.parseFloat(O.target.value)||0}})})]}),i.jsx("div",{className:te.field,children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:R.saveToProducts??!1,onChange:O=>ue(R.id,{saveToProducts:O.target.checked})}),t("addRecipe.saveAsProduct")]})})]})]})]},R.id)})})]}),i.jsxs("div",{className:te.actions,children:[i.jsx(z,{variant:"ghost",onClick:ae,children:t("addRecipe.generateAI")}),i.jsx(z,{onClick:q,disabled:p,children:t("addRecipe.save")})]})]})]})}const m1="_root_1m2xl_1",g1="_header_1m2xl_7",h1="_title_1m2xl_14",y1="_tabs_1m2xl_21",v1="_tabButton_1m2xl_30",w1="_tabActive_1m2xl_39",_1="_searchBar_1m2xl_44",x1="_searchInput_1m2xl_54",j1="_list_1m2xl_62",S1="_card_1m2xl_68",k1="_cardTitle_1m2xl_79",b1="_cardMeta_1m2xl_85",N1="_cardActions_1m2xl_90",P1="_selectionPanel_1m2xl_96",C1="_selectionList_1m2xl_107",E1="_selectionItem_1m2xl_113",L1="_selectionTitle_1m2xl_120",F1="_statusMessage_1m2xl_124",T1="_actions_1m2xl_131",oe={root:m1,header:g1,title:h1,tabs:y1,tabButton:v1,tabActive:w1,searchBar:_1,searchInput:x1,list:j1,card:S1,cardTitle:k1,cardMeta:b1,cardActions:N1,selectionPanel:P1,selectionList:C1,selectionItem:E1,selectionTitle:L1,statusMessage:F1,actions:T1};function D1({onNavigateBack:e,onNavigateToRecipe:t}){const{t:n}=Ye(),[r,s]=h.useState(null),[a,l]=h.useState([]),[o,c]=h.useState([]),[u,d]=h.useState("recipes"),[y,f]=h.useState(""),[_,x]=h.useState([]),[k,D]=h.useState(null),[g,m]=h.useState("flex"),[p,w]=h.useState(()=>new Date().toISOString().slice(0,10)),[S,E]=h.useState(!1);h.useEffect(()=>{if(typeof window<"u"){const C=window.sessionStorage.getItem(Da);if(C)try{const P=JSON.parse(C);P.date&&w(P.date),P.sectionId&&m(P.sectionId)}catch(P){console.warn("Failed to parse plan selection",P)}}},[]);const F=h.useCallback(async C=>{if(!C){l([]),c([]);return}try{const[P,I]=await Promise.all([Zf(C),ri(C)]);l(P),c(I)}catch(P){console.error("Failed to load data",P),D({type:"error",message:n("addToDay.status.loadError")})}},[n]);h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let C=!1;return(async()=>{try{const I=await Ft();if(!I)return;if(!await be(I)){await Ze();return}C||(s(I),await F(I))}catch(I){console.error("Failed to restore handle",I),D({type:"error",message:n("addToDay.status.restoreError")})}})(),()=>{C=!0}},[F,n]);const L=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){D({type:"error",message:n("addToDay.status.browserUnsupported")});return}try{const C=await window.showDirectoryPicker();if(!C)return;if(!await be(C)){D({type:"error",message:n("addToDay.status.permissionError")});return}s(C),"indexedDB"in window&&await Mt(C),await F(C),D({type:"success",message:n("addToDay.status.connected",{folder:C.name})})}catch(C){if((C==null?void 0:C.name)==="AbortError")return;console.error("Failed to select vault",C),D({type:"error",message:n("addToDay.status.genericError")})}},[F,n]),$=h.useMemo(()=>{const C=y.trim().toLowerCase();return C?a.filter(P=>P.title.toLowerCase().includes(C)):a},[a,y]),U=h.useMemo(()=>{const C=y.trim().toLowerCase();return C?o.filter(P=>P.title.toLowerCase().includes(C)):o},[o,y]),M=h.useCallback(C=>{x(P=>P.some(G=>G.kind==="recipe"&&G.summary.fileName===C.fileName)?P:[...P,{kind:"recipe",summary:C,servings:1}])},[]),K=h.useCallback(C=>{typeof window<"u"&&window.sessionStorage.setItem(Xa,JSON.stringify({fileName:C.fileName,slug:C.slug})),t==null||t()},[t]),re=h.useCallback(C=>{x(P=>{if(P.some(ae=>ae.kind==="product"&&ae.summary.fileName===C.fileName))return P;const G=C.portionGrams&&C.portionGrams>0?C.portionGrams:100,q=C.portionGrams?n("mealPlan.units.grams"):n("units.portion");return[...P,{kind:"product",summary:C,quantity:G,unit:q}]})},[n]),ue=h.useCallback(C=>{x(P=>P.filter((I,G)=>G!==C))},[]),Re=h.useCallback((C,P)=>{x(I=>I.map((G,q)=>q!==C?G:{...G,...P}))},[]),Ue=h.useCallback(async()=>{if(!r){D({type:"error",message:n("addToDay.status.noVault")});return}if(_.length===0){D({type:"error",message:n("addToDay.status.emptySelection")});return}E(!0);try{for(const C of _)C.kind==="recipe"?await sp(r,p,C.summary,{sectionId:g,servings:C.servings}):await qo(r,p,C.summary,{sectionId:g,quantity:C.quantity,unit:C.unit});D({type:"success",message:n("addToDay.status.success",{count:String(_.length)})}),x([]),e==null||e()}catch(C){console.error("Failed to add selection",C),D({type:"error",message:n("addToDay.status.error")})}finally{E(!1)}},[e,_,n,p,g,r]);return i.jsxs("div",{className:oe.root,children:[i.jsxs("header",{className:oe.header,children:[i.jsxs("div",{children:[i.jsx("h1",{className:oe.title,children:n("addToDay.title")}),i.jsx("p",{children:n("addToDay.subtitle",{date:p})})]}),i.jsx(z,{variant:"outlined",onClick:L,children:n("addToDay.changeVault")})]}),i.jsxs("div",{className:oe.tabs,children:[i.jsx("button",{type:"button",className:`${oe.tabButton} ${u==="recipes"?oe.tabActive:""}`,onClick:()=>d("recipes"),children:n("addToDay.tabRecipes")}),i.jsx("button",{type:"button",className:`${oe.tabButton} ${u==="products"?oe.tabActive:""}`,onClick:()=>d("products"),children:n("addToDay.tabProducts")})]}),i.jsx("div",{className:oe.searchBar,children:i.jsx("input",{className:oe.searchInput,placeholder:n("addToDay.searchPlaceholder"),value:y,onChange:C=>f(C.target.value)})}),k&&i.jsx("div",{className:oe.statusMessage,children:k.message}),u==="recipes"?i.jsx("div",{className:oe.list,children:$.map(C=>{var P,I,G,q;return i.jsxs("article",{className:oe.card,children:[i.jsx("div",{className:oe.cardTitle,children:C.title}),i.jsx("div",{className:oe.cardMeta,children:n("recipes.perServing",{kcal:((P=C.nutritionPerServing.caloriesKcal)==null?void 0:P.toFixed(0))??"0",protein:((I=C.nutritionPerServing.proteinG)==null?void 0:I.toFixed(1))??"0",fat:((G=C.nutritionPerServing.fatG)==null?void 0:G.toFixed(1))??"0",carbs:((q=C.nutritionPerServing.carbsG)==null?void 0:q.toFixed(1))??"0"})}),i.jsxs("div",{className:oe.cardActions,children:[i.jsx(z,{onClick:()=>M(C),children:n("addToDay.addRecipe")}),i.jsx(z,{variant:"ghost",onClick:()=>K(C),children:n("addToDay.viewRecipe")})]})]},C.fileName)})}):i.jsx("div",{className:oe.list,children:U.map(C=>{var P;return i.jsxs("article",{className:oe.card,children:[i.jsx("div",{className:oe.cardTitle,children:C.title}),i.jsxs("div",{className:oe.cardMeta,children:[((P=C.nutritionPerPortion)==null?void 0:P.caloriesKcal)??""," ",n("mealPlan.units.kcal")]}),i.jsx("div",{className:oe.cardActions,children:i.jsx(z,{onClick:()=>re(C),children:n("addToDay.addProduct")})})]},C.fileName)})}),i.jsxs("section",{className:oe.selectionPanel,children:[i.jsxs("div",{children:[i.jsx("label",{children:n("recipe.add.date")}),i.jsx("input",{type:"date",value:p,onChange:C=>w(C.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{children:n("recipe.add.section")}),i.jsxs("select",{value:g,onChange:C=>m(C.target.value),children:[i.jsx("option",{value:"breakfast",children:n("mealTime.breakfast")}),i.jsx("option",{value:"lunch",children:n("mealTime.lunch")}),i.jsx("option",{value:"dinner",children:n("mealTime.dinner")}),i.jsx("option",{value:"snack",children:n("mealTime.snack")}),i.jsx("option",{value:"flex",children:n("mealTime.flex")})]})]}),i.jsx("div",{className:oe.selectionList,children:_.map((C,P)=>i.jsxs("div",{className:oe.selectionItem,children:[i.jsx("span",{className:oe.selectionTitle,children:C.summary.title}),C.kind==="recipe"?i.jsx("input",{type:"number",min:"1",value:C.servings,onChange:I=>Re(P,{servings:Math.max(1,Number.parseInt(I.target.value,10)||1)})}):i.jsx("input",{type:"number",min:"1",value:C.quantity,onChange:I=>Re(P,{quantity:Math.max(1,Number.parseFloat(I.target.value)||1)})}),i.jsx(z,{variant:"ghost",onClick:()=>ue(P),children:n("addToDay.remove")})]},`${C.kind}-${C.summary.fileName}`))}),i.jsxs("div",{className:oe.actions,children:[i.jsx(z,{variant:"ghost",onClick:e,children:n("common.cancel")}),i.jsx(z,{onClick:Ue,disabled:S,children:n("addToDay.confirm")})]})]})]})}const I1="user",Ul="profile.md",Hl="settings.md",Qr={name:"",sex:"unspecified",birthdate:null,heightCm:null,weightKg:null,activityLevel:"moderate",goal:{mode:"maintain",deltaPercent:0},notes:""},R1=[{id:"breakfast",label:"Breakfast",enabled:!0},{id:"lunch",label:"Lunch",enabled:!0},{id:"dinner",label:"Dinner",enabled:!0},{id:"snack",label:"Snack",enabled:!0},{id:"flex",label:"Flex",enabled:!1}],A1=[{id:"produce",name:"Produce",builtin:!0},{id:"dairy",name:"Dairy",builtin:!0},{id:"fish",name:"Fish",builtin:!0},{id:"meat",name:"Meat",builtin:!0},{id:"grains",name:"Grains",builtin:!0},{id:"bakery",name:"Bakery",builtin:!0},{id:"pantry",name:"Pantry",builtin:!0},{id:"frozen",name:"Frozen",builtin:!0},{id:"beverages",name:"Beverages",builtin:!0},{id:"household",name:"Household",builtin:!0}],Ne={calc:{formula:"mifflin",bodyFatPercent:null,pal:"moderate",goalDeltaPercent:0},targets:{mode:"auto_percent",kcal:2e3,proteinG:125,fatG:67,carbsG:225,sugarG:30,fiberG:25,autoPresets:{name:"balanced",proteinPercent:25,fatPercent:30,carbsPercent:45},autoPerKg:{protein:1.8,fat:.8},manualUnits:"grams",manual:{protein:120,fat:60,carbs:180,sugar:25,fiber:25}},meals:{showSectionTotals:!0,sections:R1},shopping:{sortUnpurchasedFirst:!0,categories:A1},ui:{language:"en",units:{mass:"g",volume:"ml"},numberDecimals:0,dateFormat:"YYYY-MM-DD"},ai:{mode:"manual",baseUrl:"",apiKey:"",modelName:"",timeoutMs:8e3,responseTemplate:""}};function G1(e){return e==="null"||e==="~"||e===""?null:e==="true"||e==="True"?!0:e==="false"||e==="False"?!1:/^-?\d+(\.\d+)?$/.test(e)?Number(e):e.replace(/^"|"$/g,"")}function ip(e){var o;const t=e.split(/\r?\n/);if(t.length===0||t[0].trim()!=="---")return{data:{},body:e.trim()};let n=-1;for(let c=1;c<t.length;c+=1)if(t[c].trim()==="---"){n=c;break}if(n===-1)return{data:{},body:e.trim()};const r=t.slice(1,n),s=t.slice(n+1).join(`
`).trim(),a={},l=[{depth:0,target:a}];for(const c of r){if(!c.trim())continue;const u=((o=c.match(/^ */))==null?void 0:o[0].length)??0,d=Math.floor(u/2),y=c.trim(),[f,..._]=y.split(":"),x=f.trim();for(;l.length>d+1;)l.pop();const k=l[l.length-1].target;if(!x)continue;if(_.length===0||_.join(":").trim()===""){const g={};k[x]=g,l.push({depth:d+1,target:g});continue}const D=_.join(":").trim();k[x]=G1(D)}return{data:a,body:s}}function M1(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function zl(e,t=0){const n="  ".repeat(t),r=[];for(const[s,a]of Object.entries(e))if(a!==void 0){if(a&&typeof a=="object"&&!Array.isArray(a)){r.push(`${n}${s}:`),r.push(zl(a,t+1));continue}if(Array.isArray(a)){r.push(`${n}${s}:`);for(const l of a)if(l&&typeof l=="object"){const o=zl(l,t+2);r.push(`${n}  -`),r.push(o)}else r.push(`${n}  - ${vu(l)}`);continue}r.push(`${n}${s}: ${vu(a)}`)}return r.join(`
`)}function vu(e){return e===null?"null":e===!0?"true":e===!1?"false":typeof e=="number"?Number.isInteger(e)?String(e):String(Number(e.toFixed(4))):typeof e=="string"&&e?/^[A-Za-z0-9_\-:.]+$/.test(e)?e:`"${M1(e)}"`:'""'}async function si(e){return e.getDirectoryHandle(I1,{create:!0})}function $1(e){const t=e.goal??{};return{name:typeof e.name=="string"?e.name:"",sex:e.sex??"unspecified",birthdate:typeof e.birthdate=="string"&&e.birthdate.length>0?e.birthdate:null,heightCm:typeof e.height_cm=="number"?e.height_cm:typeof e.height_cm=="string"?Number.parseFloat(e.height_cm):null,weightKg:typeof e.weight_kg=="number"?e.weight_kg:typeof e.weight_kg=="string"?Number.parseFloat(e.weight_kg):null,activityLevel:e.activity_level??"moderate",goal:{mode:t.mode??"maintain",deltaPercent:typeof t.delta_percent=="number"?t.delta_percent:typeof t.delta_percent=="string"?Number.parseFloat(t.delta_percent):0},notes:typeof e.notes=="string"?e.notes:""}}function lp(e){const t={name:e.name||"",sex:e.sex,birthdate:e.birthdate??null,height_cm:e.heightCm??null,weight_kg:e.weightKg??null,activity_level:e.activityLevel,goal:{mode:e.goal.mode,delta_percent:e.goal.deltaPercent},notes:e.notes??""};return`---
${zl(t)}
---
`}function O1(e){var t,n,r,s,a,l;if(!e)return Ne;try{const o=JSON.parse(e);return{...Ne,...o,calc:{...Ne.calc,...o==null?void 0:o.calc},targets:{...Ne.targets,...o==null?void 0:o.targets,autoPresets:{...Ne.targets.autoPresets,...((t=o==null?void 0:o.targets)==null?void 0:t.autoPresets)??{}},autoPerKg:{...Ne.targets.autoPerKg,...((n=o==null?void 0:o.targets)==null?void 0:n.autoPerKg)??{}},manual:{...Ne.targets.manual,...((r=o==null?void 0:o.targets)==null?void 0:r.manual)??{}}},meals:{...Ne.meals,...o==null?void 0:o.meals,sections:(s=o==null?void 0:o.meals)!=null&&s.sections&&o.meals.sections.length>0?o.meals.sections:Ne.meals.sections},shopping:{...Ne.shopping,...o==null?void 0:o.shopping,categories:(a=o==null?void 0:o.shopping)!=null&&a.categories&&o.shopping.categories.length>0?o.shopping.categories:Ne.shopping.categories},ui:{...Ne.ui,...o==null?void 0:o.ui,units:{...Ne.ui.units,...((l=o==null?void 0:o.ui)==null?void 0:l.units)??{}}},ai:{...Ne.ai,...o==null?void 0:o.ai}}}catch(o){return console.warn("Failed to parse settings JSON",o),Ne}}function op(e){return`---
format: "json"
---
${JSON.stringify(e,null,2)}
`}async function V1(e){await be(e);const t=await si(e);let n;try{n=await t.getFileHandle(Ul,{create:!1})}catch(l){if((l==null?void 0:l.name)!=="NotFoundError")throw l;n=await t.getFileHandle(Ul,{create:!0});const o=lp(Qr);return await ai(n,o),Qr}const s=await(await n.getFile()).text(),{data:a}=ip(s);return $1(a)}async function U1(e,t){const r=await(await si(e)).getFileHandle(Ul,{create:!0}),s=lp(t);await ai(r,s)}async function cp(e){await be(e);const t=await si(e);let n;try{n=await t.getFileHandle(Hl,{create:!1})}catch(l){if((l==null?void 0:l.name)!=="NotFoundError")throw l;n=await t.getFileHandle(Hl,{create:!0});const o=op(Ne);return await ai(n,o),Ne}const s=await(await n.getFile()).text(),{body:a}=ip(s);return O1(a)}async function H1(e,t){const r=await(await si(e)).getFileHandle(Hl,{create:!0}),s=op(t);await ai(r,s)}async function ai(e,t){const n=await e.createWritable({keepExistingData:!1});try{await n.write(t)}finally{await n.close()}}const z1="_root_nm0fp_1",B1="_header_nm0fp_8",K1="_headerText_nm0fp_16",W1="_title_nm0fp_22",q1="_subtitle_nm0fp_29",Y1="_headerActions_nm0fp_35",Q1="_datePicker_nm0fp_42",J1="_dateInput_nm0fp_58",X1="_settingsButton_nm0fp_66",Z1="_macrosSection_nm0fp_85",e0="_macroCard_nm0fp_91",t0="_macroRing_nm0fp_102",n0="_macroValue_nm0fp_114",r0="_macroNumber_nm0fp_121",s0="_macroUnit_nm0fp_127",a0="_macroMeta_nm0fp_134",i0="_macroLabel_nm0fp_142",l0="_macroTarget_nm0fp_147",o0="_macroPercent_nm0fp_148",c0="_primaryActions_nm0fp_153",u0="_statusMessage_nm0fp_158",d0="_sectionsList_nm0fp_166",f0="_sectionCard_nm0fp_172",p0="_sectionHeader_nm0fp_182",m0="_sectionTitle_nm0fp_190",g0="_sectionTotal_nm0fp_200",h0="_itemsList_nm0fp_205",y0="_itemRow_nm0fp_211",v0="_itemRowEditing_nm0fp_223",w0="_itemInfo_nm0fp_227",_0="_itemTitle_nm0fp_235",x0="_itemMeta_nm0fp_241",j0="_editField_nm0fp_249",S0="_editLabel_nm0fp_255",k0="_editInput_nm0fp_262",b0="_itemActions_nm0fp_272",N0="_itemButton_nm0fp_279",P0="_emptyState_nm0fp_287",C0="_sectionFooter_nm0fp_292",E0="_summaryPanel_nm0fp_301",L0="_summaryEnergy_nm0fp_312",F0="_summaryMacros_nm0fp_313",T0="_summaryLabel_nm0fp_319",D0="_summaryValue_nm0fp_326",I0="_summaryTarget_nm0fp_332",R0="_summaryValues_nm0fp_337",A0="_wellnessRow_nm0fp_345",G0="_chip_nm0fp_351",M0="_footer_nm0fp_362",B={root:z1,header:B1,headerText:K1,title:W1,subtitle:q1,headerActions:Y1,datePicker:Q1,dateInput:J1,settingsButton:X1,macrosSection:Z1,macroCard:e0,macroRing:t0,macroValue:n0,macroNumber:r0,macroUnit:s0,macroMeta:a0,macroLabel:i0,macroTarget:l0,macroPercent:o0,primaryActions:c0,statusMessage:u0,sectionsList:d0,sectionCard:f0,sectionHeader:p0,sectionTitle:m0,sectionTotal:g0,itemsList:h0,itemRow:y0,itemRowEditing:v0,itemInfo:w0,itemTitle:_0,itemMeta:x0,editField:j0,editLabel:S0,editInput:k0,itemActions:b0,itemButton:N0,emptyState:P0,sectionFooter:C0,summaryPanel:E0,summaryEnergy:L0,summaryMacros:F0,summaryLabel:T0,summaryValue:D0,summaryTarget:I0,summaryValues:R0,wellnessRow:A0,chip:G0,footer:M0},$0={breakfast:{id:"breakfast",emoji:""},lunch:{id:"lunch",emoji:""},dinner:{id:"dinner",emoji:""},snack:{id:"snack",emoji:""}},wu={caloriesKcal:0,proteinG:0,fatG:0,carbsG:0};function rn(e){return e?Number.isInteger(e)?e.toString():e.toFixed(1):"0"}function O0(e){return $0[e]??{id:e,emoji:""}}function Tr(e,t,n){const r=`mealTime.${e}`,s=n(r);return s.startsWith("mealTime.")?t??e:`${s}`}function V0(e,t){const n=[];return e.quantity&&e.quantityUnit&&n.push(`${rn(e.quantity)} ${e.quantityUnit}`),e.servings&&n.push(t("mealPlan.servingsLabel",{count:rn(e.servings)})),n.push(`${rn(e.nutrition.caloriesKcal)} ${t("mealPlan.units.kcal")}`),n.join("  ")}function U0({onNavigateToAddFood:e,onNavigateToProducts:t,onNavigateToRecipes:n,onNavigateToRecipe:r,onNavigateToProduct:s,onNavigateToSettings:a}){const{t:l}=Ye(),[o,c]=h.useState(null),[u,d]=h.useState(()=>new Date().toISOString().slice(0,10)),[y,f]=h.useState(null),[_,x]=h.useState(!1),[k,D]=h.useState(null),[g,m]=h.useState(null),[p,w]=h.useState(null),[S,E]=h.useState(""),[F,L]=h.useState(!1),$=h.useCallback(async(T,Y)=>{if(!T){f(null);return}x(!0),D(null);try{const ee=await Kv(T,Y);f(ee)}catch(ee){console.error("Failed to load meal plan day",ee),D("mealPlan.state.error"),f(null)}finally{x(!1)}},[]),U=h.useCallback(async T=>{if(!T){m(null);return}try{const Y=await cp(T);m(Y)}catch(Y){console.error("Failed to load user settings",Y)}},[]);h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let T=!1;return(async()=>{try{const ee=await Ft();if(!ee)return;if(!await be(ee)){await Ze();return}T||(c(ee),setTimeout(()=>{$(ee,u),U(ee)},0))}catch(ee){console.error("Failed to restore vault handle",ee)}})(),()=>{T=!0}},[$,U,u]),h.useEffect(()=>{$(o,u)},[o,u,$]),h.useEffect(()=>{U(o)},[o,U]),h.useEffect(()=>{w(null),E("")},[u]),h.useEffect(()=>{y||(w(null),E(""))},[y]);const M=h.useCallback(T=>{d(T.target.value)},[]),K=h.useCallback((T,Y)=>{typeof window<"u"&&window.sessionStorage.setItem(Da,JSON.stringify({date:u,sectionId:T,sectionName:Y})),e==null||e()},[e,u]),re=h.useCallback(()=>{typeof window<"u"&&window.sessionStorage.setItem(Da,JSON.stringify({date:u})),e==null||e()},[e,u]),ue=h.useCallback((T,Y)=>{const ee=y==null?void 0:y.sections.find(Z=>Z.id===T),we=ee==null?void 0:ee.items[Y];we&&(w({sectionId:T,itemIndex:Y,type:we.type}),we.type==="recipe"?E(String(we.servings??1)):E(String(we.quantity??we.portionGrams??0)),D(null))},[y]),Re=h.useCallback(()=>{w(null),E(""),D(null)},[]),Ue=h.useCallback(async()=>{if(!p)return;if(!o){D("mealPlan.state.noVault");return}const T=p.type==="recipe"?Number.parseInt(S,10):Number.parseFloat(S);if(!Number.isFinite(T)||T<=0){D("mealPlan.item.invalidValue");return}L(!0),D(null);try{if(p.type==="recipe"){const Y=await yu(o,u,p.sectionId,p.itemIndex,{servings:T});f(Y.day)}else{const Y=await yu(o,u,p.sectionId,p.itemIndex,{quantity:T});f(Y.day)}w(null),E("")}catch(Y){console.error("Failed to update meal plan item",Y),D("mealPlan.item.updateError")}finally{L(!1)}},[S,p,u,o]),C=h.useCallback(async(T,Y)=>{if(!o){D("mealPlan.state.noVault");return}L(!0),D(null);try{const ee=await Wv(o,u,T,Y);f(ee.day),w(null),E("")}catch(ee){console.error("Failed to remove meal plan item",ee),D("mealPlan.item.deleteError")}finally{L(!1)}},[u,o]),P=h.useCallback(T=>{!T.source||typeof window>"u"||(T.type==="product"?(window.sessionStorage.setItem(kn,JSON.stringify({fileName:T.source.fileName,slug:T.source.slug})),s==null||s()):(window.sessionStorage.setItem(Xa,JSON.stringify({fileName:T.source.fileName,slug:T.source.slug})),r==null||r()))},[s,r]),I=h.useMemo(()=>{const T=new Date(u);return Number.isNaN(T.valueOf())?u:new Intl.DateTimeFormat(l("mealPlan.locale"),{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(T)},[u,l]),G=(y==null?void 0:y.totals)??wu,q=(g==null?void 0:g.targets)??null,ae=h.useMemo(()=>[{key:"kcal",label:l("mealPlan.totals.calories"),unit:l("mealPlan.units.kcal"),current:G.caloriesKcal,target:(q==null?void 0:q.kcal)??null},{key:"protein",label:l("mealPlan.totals.protein"),unit:l("mealPlan.units.grams"),current:G.proteinG,target:(q==null?void 0:q.proteinG)??null},{key:"fat",label:l("mealPlan.totals.fat"),unit:l("mealPlan.units.grams"),current:G.fatG,target:(q==null?void 0:q.fatG)??null},{key:"carbs",label:l("mealPlan.totals.carbs"),unit:l("mealPlan.units.grams"),current:G.carbsG,target:(q==null?void 0:q.carbsG)??null}].map(T=>{const Y=T.target,ee=Y&&Y>0?Math.min(T.current/Y,1):0,we=Y&&Y>0?Math.round(T.current/Y*100):null;return{...T,progress:ee,percent:we}}),[q,l,G]),R=(g==null?void 0:g.meals.showSectionTotals)??!0,W=h.useMemo(()=>{const T=(y==null?void 0:y.sections)??[],Y=g==null?void 0:g.meals.sections;if(!Y||Y.length===0)return T.map(Z=>({section:Z,title:Tr(Z.id,Z.name,l)}));const ee=new Map;T.forEach(Z=>{ee.set(Z.id,Z)});const we=[];return Y.forEach(Z=>{if(!Z.enabled)return;const Qe=ee.get(Z.id);Qe?(ee.delete(Z.id),we.push({section:Qe,title:Z.label||Tr(Qe.id,Qe.name,l)})):we.push({section:{id:Z.id,name:Z.label,items:[],totals:{...wu}},title:Z.label||Tr(Z.id,void 0,l)})}),ee.forEach(Z=>{we.push({section:Z,title:Tr(Z.id,Z.name,l)})}),we.length===0?T.map(Z=>({section:Z,title:Tr(Z.id,Z.name,l)})):we},[y,l,g]),O=[{label:l("mealPlan.totals.protein"),value:G.proteinG,unit:l("mealPlan.units.grams")},{label:l("mealPlan.totals.fat"),value:G.fatG,unit:l("mealPlan.units.grams")},{label:l("mealPlan.totals.carbs"),value:G.carbsG,unit:l("mealPlan.units.grams")}];return i.jsxs("div",{className:B.root,children:[i.jsxs("header",{className:B.header,children:[i.jsxs("div",{className:B.headerText,children:[i.jsx("h1",{className:B.title,children:l("mealPlan.dailyTitle")}),i.jsx("p",{className:B.subtitle,children:I})]}),i.jsxs("div",{className:B.headerActions,children:[i.jsxs("div",{className:B.datePicker,children:[i.jsx("label",{htmlFor:"day-picker",children:l("mealPlan.selectDate")}),i.jsx("input",{id:"day-picker",type:"date",value:u,onChange:M,className:B.dateInput})]}),i.jsx("button",{type:"button",className:B.settingsButton,onClick:a,"aria-label":l("settings.title"),children:""})]})]}),i.jsx("section",{className:B.macrosSection,children:ae.map(T=>i.jsxs("article",{className:B.macroCard,children:[i.jsx("div",{className:B.macroRing,style:{"--progress":String(T.progress)},children:i.jsxs("div",{className:B.macroValue,children:[i.jsx("span",{className:B.macroNumber,children:rn(T.current)}),i.jsx("span",{className:B.macroUnit,children:T.unit})]})}),i.jsxs("div",{className:B.macroMeta,children:[i.jsx("span",{className:B.macroLabel,children:T.label}),i.jsx("span",{className:B.macroTarget,children:T.target!==null?`${l("mealPlan.metrics.target")}: ${rn(T.target)} ${T.unit}`:l("mealPlan.metrics.noTarget")}),T.percent!==null&&i.jsx("span",{className:B.macroPercent,children:l("mealPlan.metrics.ofTarget",{value:String(T.percent)})})]})]},T.key))}),i.jsx("div",{className:B.primaryActions,children:i.jsxs(z,{variant:"outlined",onClick:re,children:["+ ",l("mealPlan.addFood")]})}),_&&i.jsx("div",{className:B.statusMessage,children:l("mealPlan.state.loading")}),k&&i.jsx("div",{className:B.statusMessage,children:l(k)}),i.jsx("section",{className:B.sectionsList,children:W.map(({section:T,title:Y})=>{const we=`${O0(T.id).emoji} ${Y}`;return i.jsxs("article",{className:B.sectionCard,children:[i.jsxs("header",{className:B.sectionHeader,children:[i.jsx("h2",{className:B.sectionTitle,children:we}),R&&i.jsx("span",{className:B.sectionTotal,children:l("mealPlan.sectionTotal",{value:rn(T.totals.caloriesKcal),unit:l("mealPlan.units.kcal")})})]}),i.jsx("div",{className:B.itemsList,children:T.items.length>0?T.items.map((Z,Qe)=>{const se=(p==null?void 0:p.sectionId)===T.id&&p.itemIndex===Qe,_e=Z.type==="recipe"?l("mealPlan.item.servingsLabel"):l("mealPlan.item.quantityLabel"),_n=se?`${B.itemRow} ${B.itemRowEditing}`:B.itemRow;return i.jsxs("div",{className:_n,children:[i.jsxs("div",{className:B.itemInfo,children:[i.jsx("span",{className:B.itemTitle,children:Z.title}),se?i.jsxs("label",{className:B.editField,children:[i.jsx("span",{className:B.editLabel,children:_e}),i.jsx("input",{className:B.editInput,type:"number",min:Z.type==="recipe"?1:.1,step:Z.type==="recipe"?1:.1,value:S,onChange:ci=>E(ci.target.value),disabled:F})]}):i.jsx("span",{className:B.itemMeta,children:V0(Z,l)})]}),i.jsx("div",{className:B.itemActions,children:se?i.jsxs(i.Fragment,{children:[i.jsx(z,{variant:"ghost",onClick:Re,disabled:F,children:l("common.cancel")}),i.jsx(z,{onClick:Ue,disabled:F,children:l("mealPlan.item.save")})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",className:B.itemButton,onClick:()=>P(Z),disabled:F,children:l("mealPlan.openItem")}),i.jsx("button",{type:"button",className:B.itemButton,onClick:()=>ue(T.id,Qe),disabled:F,children:l("mealPlan.item.edit")}),i.jsx("button",{type:"button",className:B.itemButton,onClick:()=>C(T.id,Qe),disabled:F,children:l("mealPlan.item.delete")})]})})]},`${T.id}-${Z.ref}-${Qe}`)}):i.jsx("span",{className:B.emptyState,children:l("mealPlan.emptySection")})}),i.jsx("div",{className:B.sectionFooter,children:i.jsxs(z,{variant:"ghost",onClick:()=>K(T.id,Y),children:["+ ",l("mealPlan.addFood")]})})]},T.id)})}),i.jsxs("section",{className:B.summaryPanel,children:[i.jsxs("div",{className:B.summaryEnergy,children:[i.jsx("span",{className:B.summaryLabel,children:l("mealPlan.totalEnergy")}),i.jsxs("span",{className:B.summaryValue,children:[rn(G.caloriesKcal)," ",l("mealPlan.units.kcal")]}),q!=null&&q.kcal?i.jsx("span",{className:B.summaryTarget,children:l("mealPlan.metrics.ofTarget",{value:String(Math.min(Math.round(G.caloriesKcal/q.kcal*100),500))})}):null]}),i.jsxs("div",{className:B.summaryMacros,children:[i.jsx("span",{className:B.summaryLabel,children:l("mealPlan.totalMacros")}),i.jsx("div",{className:B.summaryValues,children:O.map(T=>i.jsxs("span",{children:[rn(T.value)," ",T.unit]},T.label))})]}),i.jsxs("div",{className:B.wellnessRow,children:[i.jsxs("span",{className:B.chip,children:[" ",l("mealPlan.wellness.mood")]}),i.jsxs("span",{className:B.chip,children:[" ",l("mealPlan.wellness.sleep")]}),i.jsxs("span",{className:B.chip,children:[" ",l("mealPlan.wellness.stress")]})]})]}),i.jsxs("footer",{className:B.footer,children:[i.jsx(z,{variant:"outlined",onClick:n,children:l("mealPlan.viewRecipes")}),i.jsx(z,{variant:"ghost",onClick:t,children:l("mealPlan.viewProducts")})]})]})}const H0="_checkbox_1edl4_1",z0="_control_1edl4_11",B0="_checkboxInput_1edl4_23",K0="_labelText_1edl4_32",Ws={checkbox:H0,control:z0,checkboxInput:B0,labelText:K0};function Jr({id:e,label:t,checked:n,onChange:r}){const s=a=>{r(a.target.checked)};return i.jsxs("label",{className:Ws.checkbox,htmlFor:e,children:[i.jsx("input",{className:Ws.checkboxInput,id:e,type:"checkbox",checked:n,onChange:s}),i.jsx("span",{className:Ws.control,children:n&&i.jsx("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M10.9994 1L4.2494 8L1 4.54545",stroke:"var(--color-background)",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}),i.jsx("span",{className:Ws.labelText,children:t})]})}const W0="_root_2g0vc_1",q0="_glow_2g0vc_11",Y0="_inner_2g0vc_19",Q0="_hero_2g0vc_28",J0="_title_2g0vc_34",X0="_subtitle_2g0vc_41",Z0="_folderCard_2g0vc_47",ew="_folderHeader_2g0vc_53",tw="_folderNameRow_2g0vc_59",nw="_folderName_2g0vc_59",rw="_folderEmpty_2g0vc_72",sw="_folderHint_2g0vc_77",aw="_infoRow_2g0vc_84",iw="_infoIcon_2g0vc_90",lw="_helperBadge_2g0vc_100",ow="_actions_2g0vc_111",cw="_rememberRow_2g0vc_117",uw="_statusMessage_2g0vc_124",dw="_statusInfo_2g0vc_129",fw="_statusSuccess_2g0vc_133",pw="_statusError_2g0vc_137",mw="_helperLink_2g0vc_141",gw="_topBar_2g0vc_148",ge={root:W0,glow:q0,inner:Y0,hero:Q0,title:J0,subtitle:X0,folderCard:Z0,folderHeader:ew,folderNameRow:tw,folderName:nw,folderEmpty:rw,folderHint:sw,infoRow:aw,infoIcon:iw,helperBadge:lw,actions:ow,rememberRow:cw,statusMessage:uw,statusInfo:dw,statusSuccess:fw,statusError:pw,helperLink:mw,topBar:gw},Dr="smartFoodPlan.rememberVault";async function _u(e){if(!e.queryPermission||!e.requestPermission)return!0;const t={mode:"readwrite"},n=await e.queryPermission(t);return n==="granted"?!0:n==="denied"?!1:await e.requestPermission(t)==="granted"}function hw(){const{t:e}=Ye(),[t,n]=h.useState(null),[r,s]=h.useState(null),[a,l]=h.useState(!1),[o,c]=h.useState(null),[u,d]=h.useState(!1),y=h.useMemo(()=>t??e("onboarding.noFolder"),[t,e]);h.useEffect(()=>{if(typeof window>"u")return;const g=window.localStorage.getItem(Dr)!==null?window.localStorage.getItem(Dr)==="true":!1;if(l(g),!g||!window.indexedDB)return;let m=!1;return(async()=>{try{const w=await Ft();if(!w)return;if(!await _u(w)){await Ze(),m||c({type:"info",messageKey:"onboarding.status.restorePermission"});return}m||(s(w),n(w.name),c({type:"success",messageKey:"onboarding.status.reconnected",messageParams:{folder:w.name}}))}catch(w){console.error("Failed to restore vault folder",w),m||c({type:"error",messageKey:"onboarding.status.restoreError"})}})(),()=>{m=!0}},[]);const f=h.useCallback(async()=>{if(!window.showDirectoryPicker){c({type:"error",messageKey:"onboarding.status.unsupported"});return}try{d(!0),c(null);const g=await window.showDirectoryPicker();if(!g)return;if(!await _u(g)){c({type:"error",messageKey:"onboarding.status.permissionDenied"});return}if(s(g),g!=null&&g.name?(n(g.name),c({type:"success",messageKey:"onboarding.status.connected",messageParams:{folder:g.name}})):c({type:"info",messageKey:"onboarding.status.connectedPending"}),a){if("indexedDB"in window)try{await Mt(g),window.localStorage.setItem(Dr,"true")}catch(p){console.error("Failed to persist directory handle",p),c({type:"error",messageKey:"onboarding.status.rememberFailed"})}}else"indexedDB"in window&&await Ze(),window.localStorage.setItem(Dr,"false")}catch(g){(g==null?void 0:g.name)==="AbortError"?c(null):c({type:"error",messageKey:"onboarding.status.accessError"})}finally{d(!1)}},[a]),_=h.useCallback(()=>{c({type:"info",messageKey:"onboarding.status.createInfo"})},[]),x=h.useCallback(()=>{c({type:"info",messageKey:"onboarding.status.vaultInfo"})},[]),k=h.useCallback(g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),x())},[x]),D=h.useCallback(async g=>{if(l(g),typeof window<"u"&&window.localStorage.setItem(Dr,g?"true":"false"),!g){typeof window<"u"&&"indexedDB"in window&&await Ze();return}if(r&&typeof window<"u"&&"indexedDB"in window)try{await Mt(r)}catch(m){console.error("Failed to persist directory handle",m),c({type:"error",messageKey:"onboarding.status.rememberFailed"})}},[r]);return i.jsxs("main",{className:ge.root,children:[i.jsx("div",{className:ge.glow}),i.jsxs("div",{className:ge.inner,children:[i.jsxs("div",{className:ge.topBar,children:[i.jsx(Mf,{}),i.jsx(Vf,{})]}),i.jsxs("header",{className:ge.hero,children:[i.jsx("h1",{className:ge.title,children:e("onboarding.title")}),i.jsx("p",{className:ge.subtitle,children:e("onboarding.subtitle")})]}),i.jsxs(Ho,{title:e("onboarding.currentFolder"),className:ge.folderCard,children:[i.jsxs("div",{className:ge.folderHeader,children:[i.jsxs("div",{className:ge.folderNameRow,children:[i.jsx(yw,{}),i.jsx("div",{children:i.jsx("p",{className:`${ge.folderName} ${t?"":ge.folderEmpty}`,children:y})})]}),i.jsx(xw,{})]}),i.jsxs("div",{className:ge.infoRow,children:[i.jsx("span",{className:ge.infoIcon,children:i.jsx(_w,{})}),i.jsx("p",{className:ge.folderHint,children:e("onboarding.folderHint")})]})]}),i.jsxs("div",{className:ge.actions,children:[i.jsx(z,{variant:"outlined",onClick:f,leadingIcon:i.jsx(vw,{}),trailingIcon:i.jsx(xu,{}),disabled:u,children:e("onboarding.chooseExisting")}),i.jsx(z,{onClick:_,leadingIcon:i.jsx(ww,{}),trailingIcon:i.jsx(xu,{}),disabled:u,children:e("onboarding.createVault")})]}),i.jsxs("div",{className:ge.rememberRow,children:[i.jsx(Jr,{id:"remember-folder",label:e("onboarding.remember"),checked:a,onChange:D}),i.jsx("span",{className:ge.helperLink,role:"button",tabIndex:0,onClick:x,onKeyDown:k,children:e("onboarding.howVaultWorks")})]}),o&&i.jsx("p",{className:`${ge.statusMessage} ${o.type==="success"?ge.statusSuccess:o.type==="error"?ge.statusError:ge.statusInfo}`,children:e(o.messageKey,o.messageParams)})]})]})}function yw(){return i.jsxs("svg",{width:"52",height:"46",viewBox:"0 0 52 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{x:"1",y:"6",width:"50",height:"39",rx:"11",stroke:"var(--color-icon-container-strong)",strokeWidth:"2",fill:"var(--color-icon-container)"}),i.jsx("path",{d:"M6 14C6 10.6863 8.68629 8 12 8H22L26 12H40C43.3137 12 46 14.6863 46 18V33C46 36.3137 43.3137 39 40 39H12C8.68629 39 6 36.3137 6 33V14Z",fill:"var(--color-accent)",fillOpacity:"0.22"})]})}function vw(){return i.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M4 5C4 4.44772 4.44772 4 5 4H9.2L11 6H17C17.5523 6 18 6.44772 18 7V9H6C4.89543 9 4 9.89543 4 11V5Z",fill:"var(--color-icon-container-strong)"}),i.jsx("path",{d:"M5 9H17C18.1046 9 19 9.89543 19 11V16C19 17.1046 18.1046 18 17 18H7C5.34315 18 4 16.6569 4 15V11C4 9.89543 4.89543 9 5 9Z",stroke:"var(--color-accent)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function ww(){return i.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M10.9998 3L12.3593 7.19449L16.6665 8.66667L12.3593 10.1388L10.9998 14.3333L9.64025 10.1388L5.33301 8.66667L9.64025 7.19449L10.9998 3Z",stroke:"var(--color-accent)",strokeWidth:"1.4",strokeLinejoin:"round"}),i.jsx("path",{d:"M4.16634 12.3333L5.08301 12.6667L5.41634 13.5833L5.74968 12.6667L6.66634 12.3333L5.74968 12L5.41634 11.0833L5.08301 12L4.16634 12.3333Z",stroke:"var(--color-accent)",strokeWidth:"1.2",strokeLinejoin:"round"}),i.jsx("path",{d:"M14.333 5.5L14.9997 5.74999L15.2497 6.41666L15.4997 5.74999L16.1663 5.5L15.4997 5.24999L15.2497 4.58333L14.9997 5.24999L14.333 5.5Z",stroke:"var(--color-accent)",strokeWidth:"1.1",strokeLinejoin:"round"})]})}function _w(){return i.jsxs("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M6.00033 16.5V7.5",stroke:"var(--color-icon-container-strong)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M6 4.5H6.01",stroke:"var(--color-icon-container-strong)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function xu(){return i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M4 8H12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M9 5L12 8L9 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function xw(){return i.jsx("span",{className:ge.helperBadge,children:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M9 16.5C12.5899 16.5 15.5 13.5899 15.5 10C15.5 6.41015 12.5899 3.5 9 3.5C5.41015 3.5 2.5 6.41015 2.5 10C2.5 13.5899 5.41015 16.5 9 16.5Z",stroke:"var(--color-accent)",strokeWidth:"1.3"}),i.jsx("path",{d:"M9 7.5C9.53111 7.5 10 7.96889 10 8.5C10 8.91421 9.5 9.5 9.5 9.5",stroke:"var(--color-accent)",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M9 12H9.01",stroke:"var(--color-accent)",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})})}const jw="_root_1iuv2_1",Sw="_header_1iuv2_7",kw="_title_1iuv2_14",bw="_statusMessage_1iuv2_20",Nw="_list_1iuv2_29",Pw="_item_1iuv2_38",Cw="_itemHeader_1iuv2_48",Ew="_itemTitle_1iuv2_62",Lw="_itemBadge_1iuv2_68",Fw="_itemMeta_1iuv2_89",Tw="_itemNotes_1iuv2_97",Dw="_actions_1iuv2_103",Iw="_manageGroup_1iuv2_111",Rw="_deleteButton_1iuv2_116",Be={root:jw,header:Sw,title:kw,statusMessage:bw,list:Nw,item:Pw,itemHeader:Cw,itemTitle:Ew,itemBadge:Lw,itemMeta:Fw,itemNotes:Tw,actions:Dw,manageGroup:Iw,deleteButton:Rw};function Ir(e){return e==null?"":Number.isInteger(e)?e.toString():e.toFixed(1)}function Aw(e){return e?e.replace(/[_*`]+/g,""):""}function Gw({products:e,isLoading:t,hasError:n,onRefresh:r,onAddToMealPlan:s,disableAddActions:a=!1,onViewProduct:l,onEditProduct:o,onDeleteProduct:c,disableManageActions:u=!1}){const{t:d}=Ye(),y=h.useMemo(()=>n?i.jsx("div",{className:Be.statusMessage,children:d("productList.error")}):t?i.jsx("div",{className:Be.statusMessage,children:d("productList.loading")}):e.length===0?i.jsx("div",{className:Be.statusMessage,children:d("productList.empty")}):i.jsx("ul",{className:Be.list,children:e.map(f=>{const _=f.portionGrams?`${Ir(f.portionGrams)} ${d("addProduct.form.portionUnit")}`:"",x=f.nutritionPerPortion,k=x?`${Ir(x.caloriesKcal)} ${d("addProduct.form.nutrients.caloriesUnit")} / ${Ir(x.proteinG)}${d("addProduct.form.nutrients.macrosUnit")} / ${Ir(x.fatG)}${d("addProduct.form.nutrients.macrosUnit")} / ${Ir(x.carbsG)}${d("addProduct.form.nutrients.macrosUnit")}`:"",D=Aw(f.notes);return i.jsxs("li",{className:Be.item,children:[i.jsxs("div",{className:Be.itemHeader,children:[i.jsxs("div",{children:[i.jsx("span",{className:Be.itemTitle,children:f.title}),f.modelLabel&&i.jsx("span",{className:Be.itemBadge,children:f.modelLabel})]}),i.jsxs("div",{className:Be.itemMeta,children:[i.jsxs("span",{children:[i.jsxs("strong",{children:[d("productList.portion"),":"]})," ",_]}),f.mealTimeLabel&&i.jsxs("span",{children:[i.jsxs("strong",{children:[d("productList.meal"),":"]})," ",f.mealTimeLabel]}),i.jsxs("span",{children:[i.jsxs("strong",{children:[d("productList.macros"),":"]})," ",k]})]})]}),D&&i.jsxs("p",{className:Be.itemNotes,children:[i.jsxs("strong",{children:[d("productList.notes"),":"]})," ",D]}),i.jsxs("div",{className:Be.actions,children:[s&&i.jsx(z,{variant:"outlined",onClick:()=>{s(f)},disabled:a,children:d("productList.addToMealPlan")}),l&&i.jsx(z,{variant:"ghost",onClick:()=>l(f),children:d("productList.view")}),(o||c)&&i.jsxs("div",{className:Be.manageGroup,children:[o&&i.jsx(z,{variant:"ghost",onClick:()=>o(f),disabled:u,children:d("productList.edit")}),c&&i.jsx(z,{variant:"ghost",className:Be.deleteButton,onClick:()=>c(f),disabled:u,children:d("productList.delete")})]})]})]},f.fileName)})}),[n,t,e,d,s,a,o,c,u]);return i.jsxs("div",{className:Be.root,children:[i.jsxs("div",{className:Be.header,children:[i.jsx("h2",{className:Be.title,children:d("productList.title")}),i.jsx(z,{variant:"ghost",onClick:r,disabled:t,children:d("productList.refresh")})]}),y]})}const Mw="_backdrop_1yc6x_1",$w="_dialog_1yc6x_12",Ow="_header_1yc6x_26",Vw="_title_1yc6x_32",Uw="_closeButton_1yc6x_38",Hw="_content_1yc6x_47",zw="_fieldGroup_1yc6x_53",Bw="_field_1yc6x_53",Kw="_macrosSummary_1yc6x_80",Ww="_macroItem_1yc6x_90",qw="_macroLabel_1yc6x_96",Yw="_macroValue_1yc6x_103",Qw="_actions_1yc6x_108",Jw="_overlayButton_1yc6x_114",Xw="_secondaryButton_1yc6x_137",le={backdrop:Mw,dialog:$w,header:Ow,title:Vw,closeButton:Uw,content:Hw,fieldGroup:zw,field:Bw,macrosSummary:Kw,macroItem:Ww,macroLabel:qw,macroValue:Yw,actions:Qw,overlayButton:Jw,secondaryButton:Xw},Zw=["breakfast","lunch","dinner","snack","flex"];function e_(e){const t=Number.parseFloat(e.replace(",","."));return Number.isFinite(t)?t:0}function qs(e){return Number.isInteger(e)?e.toString():e.toFixed(1)}function t_(e,t){const n=e.portionGrams??null,r=e.nutritionPerPortion??{},s={caloriesKcal:r.caloriesKcal??0,proteinG:r.proteinG??0,fatG:r.fatG??0,carbsG:r.carbsG??0},a=n&&n>0?t/n:t||1;return An(s,a||1)}function up({product:e,onCancel:t,onConfirm:n}){const{t:r}=Ye(),s=e.portionGrams&&e.portionGrams>0?e.portionGrams:1,[a,l]=h.useState(s),[o,c]=h.useState(e.portionGrams?r("units.grams"):r("units.portion")),[u,d]=h.useState(e.mealTime??"breakfast"),y=h.useMemo(()=>{const _=`mealTime.${u}`,x=r(_);return x.startsWith("mealTime.")?u:x},[u,r]),f=h.useMemo(()=>t_(e,a),[e,a]);return i.jsx("div",{className:le.backdrop,role:"dialog","aria-modal":"true",children:i.jsxs("div",{className:le.dialog,children:[i.jsxs("div",{className:le.header,children:[i.jsx("h2",{className:le.title,children:r("mealPlan.addProductTitle",{title:e.title})}),i.jsx("button",{type:"button",className:le.closeButton,onClick:t,"aria-label":r("common.close"),children:""})]}),i.jsxs("div",{className:le.content,children:[i.jsxs("div",{className:le.fieldGroup,children:[i.jsxs("div",{className:le.field,children:[i.jsx("label",{htmlFor:"meal-section",children:r("mealPlan.chooseMeal")}),i.jsx("select",{id:"meal-section",value:u,onChange:_=>d(_.target.value),children:Zw.map(_=>i.jsx("option",{value:_,children:r(`mealTime.${_}`)},_))})]}),i.jsxs("div",{className:le.field,children:[i.jsx("label",{htmlFor:"quantity",children:r("mealPlan.quantityLabel")}),i.jsx("input",{id:"quantity",type:"number",step:"0.5",min:"0",value:a,onChange:_=>l(Math.max(0,e_(_.target.value)))})]}),i.jsxs("div",{className:le.field,children:[i.jsx("label",{htmlFor:"unit",children:r("mealPlan.unitLabel")}),i.jsxs("select",{id:"unit",value:o,onChange:_=>c(_.target.value),children:[i.jsx("option",{value:r("units.grams"),children:r("units.grams")}),i.jsx("option",{value:r("units.portion"),children:r("units.portion")})]})]})]}),i.jsxs("div",{className:le.macrosSummary,children:[i.jsxs("div",{className:le.macroItem,children:[i.jsx("span",{className:le.macroLabel,children:r("mealPlan.totals.calories")}),i.jsx("span",{className:le.macroValue,children:qs(f.caloriesKcal)})]}),i.jsxs("div",{className:le.macroItem,children:[i.jsx("span",{className:le.macroLabel,children:r("mealPlan.totals.protein")}),i.jsx("span",{className:le.macroValue,children:qs(f.proteinG)})]}),i.jsxs("div",{className:le.macroItem,children:[i.jsx("span",{className:le.macroLabel,children:r("mealPlan.totals.fat")}),i.jsx("span",{className:le.macroValue,children:qs(f.fatG)})]}),i.jsxs("div",{className:le.macroItem,children:[i.jsx("span",{className:le.macroLabel,children:r("mealPlan.totals.carbs")}),i.jsx("span",{className:le.macroValue,children:qs(f.carbsG)})]})]})]}),i.jsxs("div",{className:le.actions,children:[i.jsx("button",{type:"button",className:`${le.overlayButton} ${le.secondaryButton}`,onClick:t,children:r("common.cancel")}),i.jsx("button",{type:"button",className:le.overlayButton,onClick:()=>n({sectionId:u,sectionName:y,quantity:a||s,unit:o}),disabled:!a,children:r("mealPlan.addToDay")})]})]})})}const n_="_root_nbxds_1",r_="_pageHeader_nbxds_8",s_="_title_nbxds_15",a_="_subtitle_nbxds_21",i_="_headerActions_nbxds_27",l_="_statusMessage_nbxds_33",o_="_listCard_nbxds_41",c_="_vaultBlock_nbxds_48",u_="_vaultLabel_nbxds_54",d_="_vaultHint_nbxds_59",Dt={root:n_,pageHeader:r_,title:s_,subtitle:a_,headerActions:i_,statusMessage:l_,listCard:o_,vaultBlock:c_,vaultLabel:u_,vaultHint:d_};function f_({onNavigateAddProduct:e,onNavigateViewProduct:t}){const{t:n}=Ye(),[r,s]=h.useState(null),[a,l]=h.useState([]),[o,c]=h.useState(!1),[u,d]=h.useState(null),[y,f]=h.useState(!1),[_,x]=h.useState(null),[k,D]=h.useState(null),g=r!=null&&r.name?n("addProduct.vault.label",{folder:r.name}):n("addProduct.vault.label.unselected"),m=n(r?"addProduct.vault.hint.selected":"addProduct.vault.hint.missing"),p=h.useCallback(async M=>{if(!M){l([]);return}try{c(!0),f(!1);const K=await ri(M);l(K)}catch(K){console.error("Failed to load products",K),f(!0)}finally{c(!1)}},[]);h.useEffect(()=>{if(typeof window<"u"){const M=window.sessionStorage.getItem(er);if(M)try{const K=JSON.parse(M);K!=null&&K.date&&(x(K.date),d({type:"info",message:n("productList.planMode",{date:K.date})}))}catch(K){console.warn("Failed to parse plan request",K),window.sessionStorage.removeItem(er)}}},[n]),h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let M=!1;return(async()=>{try{const re=await Ft();if(!re)return;if(!await be(re)){await Ze();return}M||(s(re),d({type:"success",message:n("addProduct.status.connected",{folder:re.name})}),p(re))}catch(re){console.error("Failed to restore vault handle",re),M||d({type:"error",message:n("addProduct.status.restoreError")})}})(),()=>{M=!0}},[p,n]);const w=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){d({type:"error",message:n("addProduct.status.browserUnsupported")});return}try{const M=await window.showDirectoryPicker();if(!M)return;if(!await be(M)){d({type:"error",message:n("addProduct.status.permissionError")});return}s(M),d({type:"success",message:n("addProduct.status.connected",{folder:M.name})}),"indexedDB"in window&&await Mt(M),p(M)}catch(M){if((M==null?void 0:M.name)==="AbortError")return;console.error("Failed to select vault",M),d({type:"error",message:n("addProduct.status.genericError")})}},[p,n]),S=h.useCallback(()=>{_&&typeof window<"u"&&(window.sessionStorage.removeItem(er),x(null)),e==null||e()},[e,_]),E=h.useCallback(M=>{if(!r){d({type:"error",message:n("addProduct.status.noVault")});return}D(M)},[n,r]),F=h.useCallback(async({sectionId:M,sectionName:K,quantity:re,unit:ue})=>{if(!r||!k){d({type:"error",message:n("addProduct.status.noVault")});return}const Re=_??new Date().toISOString().slice(0,10);try{await qo(r,Re,k,{sectionId:M,sectionName:K,quantity:re,unit:ue}),d({type:"success",message:n("mealPlan.status.added",{title:k.title,section:K??M})}),typeof window<"u"&&window.sessionStorage.removeItem(er),x(null),D(null),_&&typeof window<"u"&&(window.location.hash="#/meal-plan")}catch(Ue){console.error("Failed to add product to plan",Ue),d({type:"error",message:n("mealPlan.status.error")})}},[_,k,n,r]),L=h.useCallback(M=>{if(!r){d({type:"error",message:n("addProduct.status.noVault")});return}typeof window<"u"&&window.sessionStorage.setItem(Yr,JSON.stringify({fileName:M.fileName,slug:M.slug})),e==null||e()},[e,n,r]),$=h.useCallback(M=>{typeof window<"u"&&window.sessionStorage.setItem(kn,JSON.stringify({fileName:M.fileName,slug:M.slug})),t==null||t()},[t]),U=h.useCallback(async M=>{if(!(!r||!window.confirm(n("productList.deleteConfirm",{title:M.title}))))try{await tv(r,M.fileName),d({type:"success",message:n("productList.status.deleted")}),await p(r)}catch(re){console.error("Failed to delete product",re),d({type:"error",message:n("productList.status.deleteError")})}},[p,n,r]);return i.jsxs("div",{className:Dt.root,children:[i.jsxs("header",{className:Dt.pageHeader,children:[i.jsxs("div",{children:[i.jsx("h1",{className:Dt.title,children:n("productList.title")}),i.jsx("p",{className:Dt.subtitle,children:n("addProduct.subtitle")})]}),i.jsxs("div",{className:Dt.headerActions,children:[i.jsx(z,{variant:"outlined",onClick:w,children:n(r?"addProduct.vault.button.change":"addProduct.vault.button.choose")}),i.jsx(z,{onClick:S,children:n("nav.addProduct")})]})]}),u&&i.jsx("div",{className:Dt.statusMessage,children:u.message}),i.jsxs(Ho,{className:Dt.listCard,children:[i.jsxs("div",{className:Dt.vaultBlock,children:[i.jsx("span",{className:Dt.vaultLabel,children:g}),i.jsx("p",{className:Dt.vaultHint,children:m})]}),i.jsx(Gw,{products:a,isLoading:o,hasError:y,onRefresh:()=>{p(r)},onViewProduct:$,onEditProduct:L,onAddToMealPlan:E,onDeleteProduct:U,disableManageActions:!r,disableAddActions:!r})]}),k&&i.jsx(up,{product:k,onCancel:()=>D(null),onConfirm:F})]})}const p_="_root_1ba9p_1",m_="_header_1ba9p_8",g_="_title_1ba9p_15",h_="_meta_1ba9p_22",y_="_actions_1ba9p_30",v_="_card_1ba9p_35",w_="_macroGrid_1ba9p_46",__="_macroItem_1ba9p_52",x_="_macroLabel_1ba9p_62",j_="_macroValue_1ba9p_68",S_="_notes_1ba9p_73",k_="_statusMessage_1ba9p_79",Se={root:p_,header:m_,title:g_,meta:h_,actions:y_,card:v_,macroGrid:w_,macroItem:__,macroLabel:x_,macroValue:j_,notes:S_,statusMessage:k_};function b_({onNavigateEdit:e,onNavigateBackToPlan:t}){const{t:n}=Ye(),[r,s]=h.useState(null),[a,l]=h.useState(null),[o,c]=h.useState(!1),[u,d]=h.useState(null),[y,f]=h.useState(null),[_,x]=h.useState(!1),k=h.useCallback(async w=>{if(!w||typeof window>"u")return;const S=window.sessionStorage.getItem(kn);if(!S)return;let E=null;try{E=JSON.parse(S)}catch(F){console.warn("Failed to parse product view payload",F),window.sessionStorage.removeItem(kn)}if(E)try{let F=E.fileName;if(!F&&E.slug){const U=(await ri(w)).find(M=>M.slug===E.slug);U!=null&&U.fileName&&(F=U.fileName,window.sessionStorage.setItem(kn,JSON.stringify({fileName:F,slug:U.slug})))}if(!F){window.sessionStorage.removeItem(kn),d({type:"error",message:n("productDetail.status.loadError")});return}c(!0);const L=await Wf(w,F);l(L)}catch(F){console.error("Failed to load product detail",F),window.sessionStorage.removeItem(kn),d({type:"error",message:n("productDetail.status.loadError")})}finally{c(!1)}},[n]);h.useEffect(()=>{if(typeof window<"u"){const w=window.sessionStorage.getItem(er);if(w)try{const S=JSON.parse(w);S!=null&&S.date&&f(S.date)}catch(S){console.warn("Failed to parse plan request",S)}}},[]),h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let w=!1;return(async()=>{try{const E=await Ft();if(!E)return;if(!await be(E)){await Ze();return}w||(s(E),k(E))}catch(E){console.error("Failed to restore vault handle",E),d({type:"error",message:n("productDetail.status.restoreError")})}})(),()=>{w=!0}},[k,n]);const D=h.useMemo(()=>(a==null?void 0:a.nutritionPerPortion)??null,[a]),g=h.useCallback(()=>{typeof window<"u"&&a&&window.sessionStorage.setItem(Yr,JSON.stringify({fileName:a.fileName,slug:a.slug})),e==null||e()},[e,a]),m=h.useCallback(async({sectionId:w,sectionName:S,quantity:E,unit:F})=>{if(!r||!a){d({type:"error",message:n("productDetail.status.noVault")});return}try{const L=y??new Date().toISOString().slice(0,10);await qo(r,L,a,{sectionId:w,sectionName:S,quantity:E,unit:F}),d({type:"success",message:n("productDetail.status.added",{date:L})}),typeof window<"u"&&window.sessionStorage.removeItem(er),f(null),x(!1),t==null||t()}catch(L){console.error("Failed to add product to plan",L),d({type:"error",message:n("productDetail.status.addError")})}},[t,y,a,n,r]),p=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){d({type:"error",message:n("productDetail.status.browserUnsupported")});return}try{const w=await window.showDirectoryPicker();if(!w)return;if(!await be(w)){d({type:"error",message:n("productDetail.status.permissionError")});return}s(w),"indexedDB"in window&&await Mt(w),k(w)}catch(w){if((w==null?void 0:w.name)==="AbortError")return;console.error("Failed to select vault",w),d({type:"error",message:n("productDetail.status.genericError")})}},[k,n]);return i.jsxs("div",{className:Se.root,children:[i.jsxs("header",{className:Se.header,children:[i.jsxs("div",{children:[i.jsx("h1",{className:Se.title,children:(a==null?void 0:a.title)??n("productDetail.title")}),i.jsxs("div",{className:Se.meta,children:[i.jsx("span",{children:a==null?void 0:a.modelLabel}),(a==null?void 0:a.portionGrams)&&i.jsx("span",{children:n("productDetail.portion",{value:String(a.portionGrams),unit:n("mealPlan.units.grams")})}),(a==null?void 0:a.mealTimeLabel)&&i.jsx("span",{children:a.mealTimeLabel})]})]}),i.jsxs("div",{className:Se.actions,children:[i.jsx(z,{variant:"outlined",onClick:()=>x(!0),disabled:!a,children:n("productDetail.addToDay")}),i.jsx(z,{variant:"ghost",onClick:g,disabled:!a,children:n("productDetail.edit")}),i.jsx(z,{variant:"ghost",onClick:p,children:n("productDetail.changeVault")})]})]}),u&&i.jsx("div",{className:Se.statusMessage,children:u.message}),i.jsxs("section",{className:Se.card,children:[o&&i.jsx("div",{children:n("productDetail.loading")}),a&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Se.macroGrid,children:[i.jsxs("div",{className:Se.macroItem,children:[i.jsx("span",{className:Se.macroLabel,children:n("mealPlan.totals.calories")}),i.jsx("span",{className:Se.macroValue,children:(D==null?void 0:D.caloriesKcal)??""})]}),i.jsxs("div",{className:Se.macroItem,children:[i.jsx("span",{className:Se.macroLabel,children:n("mealPlan.totals.protein")}),i.jsx("span",{className:Se.macroValue,children:(D==null?void 0:D.proteinG)??""})]}),i.jsxs("div",{className:Se.macroItem,children:[i.jsx("span",{className:Se.macroLabel,children:n("mealPlan.totals.fat")}),i.jsx("span",{className:Se.macroValue,children:(D==null?void 0:D.fatG)??""})]}),i.jsxs("div",{className:Se.macroItem,children:[i.jsx("span",{className:Se.macroLabel,children:n("mealPlan.totals.carbs")}),i.jsx("span",{className:Se.macroValue,children:(D==null?void 0:D.carbsG)??""})]})]}),i.jsx("p",{className:Se.notes,children:a.notes})]})]}),_&&a&&i.jsx(up,{product:a,onCancel:()=>x(!1),onConfirm:m})]})}const N_="shopping",Bl="shopping-list.md";function dp(e){return e.getDirectoryHandle(N_,{create:!0})}function ii(){return{updatedAt:new Date().toISOString(),items:[]}}function P_(e){const t={updated_at:e.updatedAt,items:e.items.map(s=>({id:s.id,name:s.title,qty:typeof s.quantity=="number"&&Number.isFinite(s.quantity)?Number.parseFloat(s.quantity.toFixed(2)):null,unit:s.unit??null,category:s.category??null,notes:s.notes??null,checked:!!s.completed,source:s.source??null}))},n={updated_at:t.updated_at,items:t.items.map(s=>({id:s.id,name:s.name,qty:s.qty??null,unit:s.unit??null,category:s.category??null,notes:s.notes??null,checked:s.checked,source:s.source??null}))},r=C_(e);return{frontMatter:n,body:r}}function C_(e){const t="# Shopping List",n=E_(e.items);return ti(`${t}
`,"SHOPPING",n)}function E_(e){return e.length===0?"_        ._":e.map(t=>{const n=t.completed?"[x]":"[ ]",r=typeof t.quantity=="number"&&Number.isFinite(t.quantity)?`${Number.parseFloat(t.quantity.toFixed(t.quantity%1===0?0:1))}${t.unit?` ${t.unit}`:""}`:t.unit?`(${t.unit})`:"",s=t.category?`  ${t.category}`:"";return`- ${n} ${t.title}${r?` (${r})`:""}${s}`}).join(`  
`)}function L_(e,t){const n=typeof e.updated_at=="string"?e.updated_at:new Date().toISOString(),r=Array.isArray(e.items)?e.items:[],s=[];for(const o of r){if(typeof o!="object"||o===null)continue;const c=o;s.push({id:typeof c.id=="string"?c.id:crypto.randomUUID(),title:typeof c.name=="string"?c.name:"Item",quantity:typeof c.qty=="number"?Number.parseFloat(c.qty.toFixed(2)):typeof c.quantity=="number"?Number.parseFloat(c.quantity.toFixed(2)):null,unit:typeof c.unit=="string"?c.unit:null,category:typeof c.category=="string"?c.category:null,notes:typeof c.notes=="string"?c.notes:null,completed:!!(c.checked??c.completed),source:typeof c.source=="object"?c.source:void 0})}const a={updatedAt:n,items:s},l=F_(t);return l&&l.length>0&&(a.items=a.items.map(o=>o.notes?o:{...o,notes:l})),a}function F_(e){const t="<!-- AUTO:SHOPPING START -->",n="<!-- AUTO:SHOPPING END -->";let r=e;const s=r.indexOf(t),a=r.indexOf(n);if(s!==-1&&a!==-1&&a>s){const o=r.slice(0,s),c=r.slice(a+n.length);r=`${o}
${c}`}return r.split(/\r?\n/).map(o=>o.trim()).filter(o=>o&&!o.startsWith("#")).join(" ").trim()}async function Cs(e,t){const n=await e.createWritable({keepExistingData:!1}),{frontMatter:r,body:s}=P_(t),a=ei(r,s);try{await n.write(a)}finally{await n.close()}}async function li(e){const n=await(await e.getFile()).text(),{data:r,body:s}=Za(n);return L_(r,s)}async function oi(e,t){return(await dp(e)).getFileHandle(Bl,{create:t.create})}async function fp(e){await be(e);const t=await dp(e);let n;try{n=await t.getFileHandle(Bl,{create:!1})}catch(r){if((r==null?void 0:r.name)!=="NotFoundError")throw r;n=await t.getFileHandle(Bl,{create:!0});const s=ii();return await Cs(n,s),s}return li(n)}function T_(e,t){const n=new Map,r=s=>{var a;return`${s.title.trim().toLowerCase()}__${((a=s.unit)==null?void 0:a.trim().toLowerCase())??""}`};for(const s of e)n.set(r(s),{...s});for(const s of t){const a=r(s),l=n.get(a);if(l){const o=(typeof l.quantity=="number"?l.quantity:0)+(typeof s.quantity=="number"?s.quantity:0);n.set(a,{...l,quantity:Number.isFinite(o)&&o>0?Number.parseFloat(o.toFixed(2)):l.quantity,completed:!1})}else n.set(a,{...s,completed:!1})}return Array.from(n.values())}async function Kl(e,t){if(t.length===0)return fp(e);const n=await oi(e,{create:!0});let r;try{r=await li(n)}catch(s){console.error("Failed to read shopping list, recreating",s),r=ii()}return r.items=T_(r.items,t),r.updatedAt=new Date().toISOString(),await Cs(n,r),r}async function D_(e,t,n){const r=await oi(e,{create:!0});let s;try{s=await li(r)}catch(a){console.error("Failed to read shopping list while updating item, recreating",a),s=ii()}return s.items=s.items.map(a=>{var l;return a.id!==t?a:{...a,title:((l=n.title)==null?void 0:l.trim())??a.title,quantity:typeof n.quantity=="number"&&Number.isFinite(n.quantity)?Number.parseFloat(n.quantity.toFixed(2)):n.quantity===null?null:a.quantity,unit:n.unit!==void 0?n.unit:a.unit,category:n.category!==void 0?n.category:a.category,notes:n.notes!==void 0?n.notes:a.notes,completed:n.completed??a.completed}}),s.updatedAt=new Date().toISOString(),await Cs(r,s),s}async function I_(e,t){const n=await oi(e,{create:!0});let r;try{r=await li(n)}catch(s){console.error("Failed to read shopping list while removing item, recreating",s),r=ii()}return r.items=r.items.filter(s=>s.id!==t),r.updatedAt=new Date().toISOString(),await Cs(n,r),r}async function R_(e){const t=await oi(e,{create:!0}),n={updatedAt:new Date().toISOString(),items:[]};return await Cs(t,n),n}const A_="_root_gal23_1",G_="_header_gal23_8",M_="_title_gal23_15",$_="_actions_gal23_22",O_="_summaryCard_gal23_36",V_="_macrosRow_gal23_46",U_="_macroItem_gal23_52",H_="_macroLabel_gal23_62",z_="_macroValue_gal23_68",B_="_ingredientsCard_gal23_73",K_="_stepsCard_gal23_74",W_="_sectionTitle_gal23_85",q_="_ingredientList_gal23_92",Y_="_ingredientItem_gal23_98",Q_="_ingredientContent_gal23_110",J_="_ingredientMeta_gal23_116",X_="_stepsContent_gal23_121",Z_="_statusMessage_gal23_128",Q={root:A_,header:G_,title:M_,actions:$_,summaryCard:O_,macrosRow:V_,macroItem:U_,macroLabel:H_,macroValue:z_,ingredientsCard:B_,stepsCard:K_,sectionTitle:W_,ingredientList:q_,ingredientItem:Y_,ingredientContent:Q_,ingredientMeta:J_,stepsContent:X_,statusMessage:Z_};function ex({onNavigateEdit:e,onNavigateAddToDay:t,onNavigateBackToPlan:n}){var K,re,ue,Re,Ue;const{t:r}=Ye(),[s,a]=h.useState(null),[l,o]=h.useState(null),[c,u]=h.useState(null),[d,y]=h.useState(!1),[f,_]=h.useState(!1),[x,k]=h.useState(1),[D,g]=h.useState("flex"),[m,p]=h.useState(()=>new Date().toISOString().slice(0,10)),w=h.useCallback(async C=>{if(!C||typeof window>"u")return;const P=window.sessionStorage.getItem(Xa);if(P)try{const I=JSON.parse(P);if(!(I!=null&&I.fileName))return;y(!0);const G=await ep(C,I.fileName);o(G)}catch(I){console.error("Failed to load recipe detail",I),u({type:"error",message:r("recipe.status.loadError")})}finally{y(!1)}},[r]);h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let C=!1;return(async()=>{try{const I=await Ft();if(!I)return;if(!await be(I)){await Ze();return}C||(a(I),await w(I))}catch(I){console.error("Failed to restore vault handle",I),u({type:"error",message:r("recipe.status.restoreError")})}})(),()=>{C=!0}},[w,r]);const S=l==null?void 0:l.nutritionPerServing,E=l==null?void 0:l.nutritionTotal,F=h.useCallback(()=>{typeof window<"u"&&l&&window.sessionStorage.setItem(zo,JSON.stringify({fileName:l.fileName,slug:l.slug})),e==null||e()},[e,l]),L=h.useCallback(async()=>{if(!s||!l){u({type:"error",message:r("recipe.status.noVault")});return}try{await sp(s,m,l,{sectionId:D,sectionName:void 0,servings:x}),u({type:"success",message:r("recipe.status.added",{date:m})}),n==null||n()}catch(C){console.error("Failed to add recipe to plan",C),u({type:"error",message:r("recipe.status.addError")})}},[n,l,x,r,m,D,s]),$=h.useCallback(()=>{typeof window<"u"&&l&&window.sessionStorage.setItem(Da,JSON.stringify({fileName:l.fileName,date:m})),t==null||t()},[t,l,m]),U=h.useCallback(async C=>{var I;if(!s||!l){u({type:"error",message:r("recipe.status.noVault")});return}const P=(I=C.title)==null?void 0:I.trim();if(!P){u({type:"info",message:r("recipe.status.noIngredients")});return}_(!0);try{await Kl(s,[{id:crypto.randomUUID(),title:P,quantity:C.quantity&&C.quantity>0?C.quantity:null,unit:C.unit||null,completed:!1,source:{kind:"recipe",recipeSlug:l.slug,recipeTitle:l.title,ingredientId:C.id}}]),u({type:"success",message:r("recipe.status.ingredientAdded",{title:P})})}catch(G){console.error("Failed to add ingredient to shopping list",G),u({type:"error",message:r("recipe.status.shoppingError")})}finally{_(!1)}},[l,r,s]),M=h.useCallback(async()=>{if(!s||!l){u({type:"error",message:r("recipe.status.noVault")});return}if(l.ingredients.length===0){u({type:"info",message:r("recipe.status.noIngredients")});return}const P=l.ingredients.map(I=>{const G=Number.isFinite(I.quantity)?I.quantity:null;return{id:crypto.randomUUID(),title:I.title,quantity:G&&G>0?G:null,unit:I.unit||null,completed:!1,source:{kind:"recipe",recipeSlug:l.slug,recipeTitle:l.title,ingredientId:I.id}}}).filter(I=>I.title&&I.title.trim().length>0);if(P.length===0){u({type:"info",message:r("recipe.status.noIngredients")});return}_(!0);try{await Kl(s,P),u({type:"success",message:r("recipe.status.shoppingAdded")})}catch(I){console.error("Failed to add ingredients to shopping list",I),u({type:"error",message:r("recipe.status.shoppingError")})}finally{_(!1)}},[l,r,s]);return i.jsxs("div",{className:Q.root,children:[i.jsxs("header",{className:Q.header,children:[i.jsx("h1",{className:Q.title,children:(l==null?void 0:l.title)??r("recipe.title")}),i.jsxs("div",{className:Q.actions,children:[i.jsx(z,{variant:"outlined",onClick:$,disabled:!l||f,children:r("recipe.addToDay")}),i.jsx(z,{variant:"outlined",onClick:M,disabled:!l||f,children:r("recipe.addToShopping")}),i.jsx(z,{variant:"ghost",onClick:L,disabled:!l,children:r("recipe.quickAdd")}),i.jsx(z,{variant:"ghost",onClick:F,disabled:!l,children:r("recipe.edit")})]})]}),c&&i.jsx("div",{className:Q.statusMessage,children:c.message}),d&&i.jsx("div",{className:Q.statusMessage,children:r("recipe.loading")}),l&&i.jsxs(i.Fragment,{children:[i.jsxs("section",{className:Q.summaryCard,children:[i.jsxs("div",{className:Q.macrosRow,children:[i.jsxs("div",{className:Q.macroItem,children:[i.jsx("span",{className:Q.macroLabel,children:r("recipes.perServingLabel")}),i.jsxs("span",{className:Q.macroValue,children:[((K=S==null?void 0:S.caloriesKcal)==null?void 0:K.toFixed(0))??""," ",r("mealPlan.units.kcal")]})]}),i.jsxs("div",{className:Q.macroItem,children:[i.jsx("span",{className:Q.macroLabel,children:r("mealPlan.totals.protein")}),i.jsx("span",{className:Q.macroValue,children:((re=S==null?void 0:S.proteinG)==null?void 0:re.toFixed(1))??""})]}),i.jsxs("div",{className:Q.macroItem,children:[i.jsx("span",{className:Q.macroLabel,children:r("mealPlan.totals.fat")}),i.jsx("span",{className:Q.macroValue,children:((ue=S==null?void 0:S.fatG)==null?void 0:ue.toFixed(1))??""})]}),i.jsxs("div",{className:Q.macroItem,children:[i.jsx("span",{className:Q.macroLabel,children:r("mealPlan.totals.carbs")}),i.jsx("span",{className:Q.macroValue,children:((Re=S==null?void 0:S.carbsG)==null?void 0:Re.toFixed(1))??""})]})]}),i.jsxs("div",{className:Q.macrosRow,children:[i.jsxs("div",{className:Q.macroItem,children:[i.jsx("span",{className:Q.macroLabel,children:r("recipes.totalNutrition")}),i.jsxs("span",{className:Q.macroValue,children:[((Ue=E==null?void 0:E.caloriesKcal)==null?void 0:Ue.toFixed(0))??""," ",r("mealPlan.units.kcal")]})]}),i.jsxs("div",{className:Q.macroItem,children:[i.jsx("span",{className:Q.macroLabel,children:r("recipes.totalServings")}),i.jsx("span",{className:Q.macroValue,children:l.servings})]})]}),i.jsxs("div",{className:Q.macrosRow,children:[i.jsxs("div",{className:Q.macroItem,children:[i.jsx("label",{children:r("recipe.add.servings")}),i.jsx("input",{type:"number",min:"1",value:x,onChange:C=>k(Math.max(1,Number.parseInt(C.target.value,10)||1))})]}),i.jsxs("div",{className:Q.macroItem,children:[i.jsx("label",{children:r("recipe.add.date")}),i.jsx("input",{type:"date",value:m,onChange:C=>p(C.target.value)})]}),i.jsxs("div",{className:Q.macroItem,children:[i.jsx("label",{children:r("recipe.add.section")}),i.jsxs("select",{value:D,onChange:C=>g(C.target.value),children:[i.jsx("option",{value:"breakfast",children:r("mealTime.breakfast")}),i.jsx("option",{value:"lunch",children:r("mealTime.lunch")}),i.jsx("option",{value:"dinner",children:r("mealTime.dinner")}),i.jsx("option",{value:"snack",children:r("mealTime.snack")}),i.jsx("option",{value:"flex",children:r("mealTime.flex")})]})]})]})]}),i.jsxs("section",{className:Q.ingredientsCard,children:[i.jsx("h2",{className:Q.sectionTitle,children:r("recipe.ingredients")}),i.jsx("div",{className:Q.ingredientList,children:l.ingredients.map((C,P)=>i.jsxs("div",{className:Q.ingredientItem,children:[i.jsxs("div",{className:Q.ingredientContent,children:[i.jsx("span",{children:C.title}),i.jsxs("span",{className:Q.ingredientMeta,children:[C.quantity," ",C.unit]})]}),i.jsx(z,{variant:"ghost",onClick:()=>U(C),disabled:f,children:r("recipe.ingredient.addToShopping")})]},C.id??P))})]}),i.jsxs("section",{className:Q.stepsCard,children:[i.jsx("h2",{className:Q.sectionTitle,children:r("recipe.steps")}),i.jsx("div",{className:Q.stepsContent,children:l.stepsMarkdown})]})]})]})}const tx="_root_1l4uf_1",nx="_pageHeader_1l4uf_7",rx="_title_1l4uf_14",sx="_subtitle_1l4uf_21",ax="_headerActions_1l4uf_27",ix="_searchBar_1l4uf_32",lx="_searchInput_1l4uf_42",ox="_listGrid_1l4uf_50",cx="_card_1l4uf_56",ux="_cardHeader_1l4uf_67",dx="_cardTitle_1l4uf_73",fx="_cardMeta_1l4uf_80",px="_cardActions_1l4uf_88",mx="_emptyState_1l4uf_94",gx="_statusMessage_1l4uf_95",hx="_fabButton_1l4uf_104",Ge={root:tx,pageHeader:nx,title:rx,subtitle:sx,headerActions:ax,searchBar:ix,searchInput:lx,listGrid:ox,card:cx,cardHeader:ux,cardTitle:dx,cardMeta:fx,cardActions:px,emptyState:mx,statusMessage:gx,fabButton:hx};function yx({onNavigateAddRecipe:e,onNavigateViewRecipe:t}){const{t:n}=Ye(),[r,s]=h.useState(null),[a,l]=h.useState([]),[o,c]=h.useState(!1),[u,d]=h.useState(null),[y,f]=h.useState(""),_=h.useCallback(async w=>{if(!w){l([]);return}try{c(!0);const S=await Zf(w);l(S)}catch(S){console.error("Failed to load recipes",S),d({type:"error",message:n("recipes.status.loadError")})}finally{c(!1)}},[n]);h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let w=!1;return(async()=>{try{const E=await Ft();if(!E)return;if(!await be(E)){await Ze();return}w||(s(E),_(E),d({type:"success",message:n("recipes.status.connected",{folder:E.name})}))}catch(E){console.error("Failed to restore handle",E),d({type:"error",message:n("recipes.status.restoreError")})}})(),()=>{w=!0}},[_,n]);const x=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){d({type:"error",message:n("recipes.status.browserUnsupported")});return}try{const w=await window.showDirectoryPicker();if(!w)return;if(!await be(w)){d({type:"error",message:n("recipes.status.permissionError")});return}s(w),d({type:"success",message:n("recipes.status.connected",{folder:w.name})}),"indexedDB"in window&&await Mt(w),_(w)}catch(w){if((w==null?void 0:w.name)==="AbortError")return;console.error("Failed to select vault",w),d({type:"error",message:n("recipes.status.genericError")})}},[_,n]),k=h.useMemo(()=>{if(!y.trim())return a;const w=y.trim().toLowerCase();return a.filter(S=>S.title.toLowerCase().includes(w))},[a,y]),D=h.useCallback(w=>{typeof window>"u"||(window.sessionStorage.setItem(Xa,JSON.stringify({fileName:w.fileName,slug:w.slug})),t==null||t())},[t]),g=h.useCallback(w=>{typeof window>"u"||(window.sessionStorage.setItem(zo,JSON.stringify({fileName:w.fileName,slug:w.slug})),e==null||e())},[e]),m=h.useCallback(async w=>{if(!r){d({type:"error",message:n("recipes.status.noVault")});return}if(window.confirm(n("recipes.deleteConfirm",{title:w.title})))try{await Lv(r,w.fileName),d({type:"success",message:n("recipes.status.deleted")}),await _(r)}catch(E){console.error("Failed to delete recipe",E),d({type:"error",message:n("recipes.status.deleteError")})}},[_,n,r]),p=()=>o?i.jsx("div",{className:Ge.statusMessage,children:n("recipes.status.loading")}):k.length?i.jsx("div",{className:Ge.listGrid,children:k.map(w=>{var E,F,L,$;const S=w.nutritionPerServing.caloriesKcal??0;return i.jsxs("article",{className:Ge.card,children:[i.jsxs("div",{className:Ge.cardHeader,children:[i.jsx("h2",{className:Ge.cardTitle,children:w.title}),i.jsx("span",{children:n("recipes.servings",{count:String(w.servings)})})]}),i.jsxs("div",{className:Ge.cardMeta,children:[i.jsx("span",{children:n("recipes.perServing",{kcal:S.toFixed(0),protein:((E=w.nutritionPerServing.proteinG)==null?void 0:E.toFixed(1))??"0",fat:((F=w.nutritionPerServing.fatG)==null?void 0:F.toFixed(1))??"0",carbs:((L=w.nutritionPerServing.carbsG)==null?void 0:L.toFixed(1))??"0"})}),i.jsx("span",{children:n("recipes.totalKcal",{value:(($=w.nutritionTotal.caloriesKcal)==null?void 0:$.toFixed(0))??"0"})})]}),i.jsxs("div",{className:Ge.cardActions,children:[i.jsx(z,{variant:"outlined",onClick:()=>D(w),children:n("recipes.view")}),i.jsx(z,{variant:"ghost",onClick:()=>g(w),children:n("recipes.edit")}),i.jsx(z,{variant:"ghost",onClick:()=>m(w),children:n("recipes.delete")})]})]},w.fileName)})}):i.jsx("div",{className:Ge.emptyState,children:n("recipes.empty")});return i.jsxs("div",{className:Ge.root,children:[i.jsxs("header",{className:Ge.pageHeader,children:[i.jsxs("div",{children:[i.jsx("h1",{className:Ge.title,children:n("recipes.title")}),i.jsx("p",{className:Ge.subtitle,children:n("recipes.subtitle")})]}),i.jsxs("div",{className:Ge.headerActions,children:[i.jsx(z,{variant:"outlined",onClick:x,children:n(r?"recipes.changeVault":"recipes.chooseVault")}),i.jsx(z,{onClick:e,children:n("recipes.add")})]})]}),i.jsx("div",{className:Ge.searchBar,children:i.jsx("input",{className:Ge.searchInput,type:"search",value:y,placeholder:n("recipes.searchPlaceholder"),onChange:w=>f(w.target.value)})}),u&&i.jsx("div",{className:Ge.statusMessage,children:u.message}),p(),i.jsxs(z,{className:Ge.fabButton,onClick:e,children:["+ ",n("recipes.add")]})]})}const vx="_root_xbqj5_1",wx="_header_xbqj5_7",_x="_title_xbqj5_15",xx="_subtitle_xbqj5_22",jx="_headerActions_xbqj5_29",Sx="_vaultInfo_xbqj5_35",kx="_vaultLabel_xbqj5_45",bx="_vaultHint_xbqj5_50",Nx="_statusMessage_xbqj5_55",Px="_listCard_xbqj5_63",Cx="_listItem_xbqj5_73",Ex="_itemMain_xbqj5_84",Lx="_itemMeta_xbqj5_91",Fx="_itemSource_xbqj5_99",Tx="_emptyState_xbqj5_103",Ke={root:vx,header:wx,title:_x,subtitle:xx,headerActions:jx,vaultInfo:Sx,vaultLabel:kx,vaultHint:bx,statusMessage:Nx,listCard:Px,listItem:Cx,itemMain:Ex,itemMeta:Lx,itemSource:Fx,emptyState:Tx};function Dx(){const{t:e}=Ye(),[t,n]=h.useState(null),[r,s]=h.useState(null),[a,l]=h.useState(null),[o,c]=h.useState(!1),[u,d]=h.useState(!1),y=((r==null?void 0:r.items.length)??0)>0,f=h.useMemo(()=>t?e("shopping.vault.selected",{folder:t.name}):e("shopping.vault.empty"),[e,t]),_=h.useCallback(async p=>{if(!p){s(null);return}c(!0);try{const w=await fp(p);s(w)}catch(w){console.error("Failed to load shopping list",w),l({type:"error",message:e("shopping.status.loadError")})}finally{c(!1)}},[e]);h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window))return;let p=!1;return(async()=>{try{const S=await Ft();if(!S)return;if(!await be(S)){await Ze();return}p||(n(S),_(S))}catch(S){console.error("Failed to restore vault handle",S)}})(),()=>{p=!0}},[_]);const x=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){l({type:"error",message:e("shopping.status.browserUnsupported")});return}try{const p=await window.showDirectoryPicker();if(!p)return;if(!await be(p)){l({type:"error",message:e("shopping.status.permissionError")});return}n(p),"indexedDB"in window&&await Mt(p),l({type:"success",message:e("shopping.status.connected",{folder:p.name})}),_(p)}catch(p){if((p==null?void 0:p.name)==="AbortError")return;console.error("Failed to select vault",p),l({type:"error",message:e("shopping.status.genericError")})}},[_,e]),k=h.useCallback(async(p,w)=>{if(!t){l({type:"error",message:e("shopping.status.noVault")});return}d(!0);try{const S=await D_(t,p.id,{completed:w});s(S)}catch(S){console.error("Failed to update shopping item",S),l({type:"error",message:e("shopping.status.updateError")})}finally{d(!1)}},[e,t]),D=h.useCallback(async p=>{if(!t){l({type:"error",message:e("shopping.status.noVault")});return}d(!0);try{const w=await I_(t,p.id);s(w),l({type:"success",message:e("shopping.status.removed")})}catch(w){console.error("Failed to remove shopping item",w),l({type:"error",message:e("shopping.status.updateError")})}finally{d(!1)}},[e,t]),g=h.useCallback(async()=>{if(!t){l({type:"error",message:e("shopping.status.noVault")});return}d(!0);try{const p=await R_(t);s(p),l({type:"success",message:e("shopping.status.cleared")})}catch(p){console.error("Failed to clear shopping list",p),l({type:"error",message:e("shopping.status.updateError")})}finally{d(!1)}},[e,t]),m=h.useCallback(async()=>{if(!t){l({type:"error",message:e("shopping.status.noVault")});return}const p=window.prompt(e("shopping.prompt.title"));if(!p||!p.trim())return;const w=window.prompt(e("shopping.prompt.quantity")),S=w?Number.parseFloat(w.replace(",",".")):null,E=window.prompt(e("shopping.prompt.unit"));d(!0);try{const F=await Kl(t,[{id:crypto.randomUUID(),title:p.trim(),quantity:Number.isFinite(S)?S??null:null,unit:(E==null?void 0:E.trim())||null,completed:!1,source:{kind:"custom"}}]);s(F),l({type:"success",message:e("shopping.status.added")})}catch(F){console.error("Failed to add custom shopping item",F),l({type:"error",message:e("shopping.status.updateError")})}finally{d(!1)}},[e,t]);return i.jsxs("div",{className:Ke.root,children:[i.jsxs("header",{className:Ke.header,children:[i.jsxs("div",{children:[i.jsx("h1",{className:Ke.title,children:e("shopping.title")}),i.jsx("p",{className:Ke.subtitle,children:e("shopping.subtitle")})]}),i.jsxs("div",{className:Ke.headerActions,children:[i.jsx(z,{variant:"outlined",onClick:x,disabled:u,children:e("shopping.changeVault")}),i.jsx(z,{variant:"ghost",onClick:m,disabled:u||!t,children:e("shopping.addCustom")}),i.jsx(z,{variant:"ghost",onClick:g,disabled:!t||!y||u,children:e("shopping.clearAll")})]})]}),i.jsxs("section",{className:Ke.vaultInfo,children:[i.jsx("span",{className:Ke.vaultLabel,children:f}),i.jsx("span",{className:Ke.vaultHint,children:e("shopping.vault.hint")})]}),a&&i.jsx("div",{className:Ke.statusMessage,children:a.message}),o&&i.jsx("div",{className:Ke.statusMessage,children:e("shopping.status.loading")}),i.jsx("section",{className:Ke.listCard,children:y?r==null?void 0:r.items.map(p=>{var w;return i.jsxs("article",{className:Ke.listItem,children:[i.jsxs("div",{className:Ke.itemMain,children:[i.jsx(Jr,{id:`shopping-${p.id}`,label:p.title,checked:!!p.completed,onChange:S=>k(p,S)}),i.jsxs("div",{className:Ke.itemMeta,children:[p.quantity?i.jsxs("span",{children:[p.quantity," ",p.unit??""]}):null,(w=p.source)!=null&&w.recipeTitle?i.jsx("span",{className:Ke.itemSource,children:e("shopping.item.fromRecipe",{title:p.source.recipeTitle})}):null]})]}),i.jsx(z,{variant:"ghost",onClick:()=>D(p),disabled:u,children:e("shopping.remove")})]},p.id)}):i.jsxs("div",{className:Ke.emptyState,children:[i.jsx("h2",{children:e("shopping.empty.title")}),i.jsx("p",{children:e("shopping.empty.hint")})]})})]})}const Ix="_root_1uwy7_1",Rx="_topBar_1uwy7_7",Ax="_title_1uwy7_15",Gx="_subtitle_1uwy7_21",Mx="_actions_1uwy7_28",$x="_autosaveState_1uwy7_35",Ox="_tabBar_1uwy7_40",Vx="_tabButton_1uwy7_46",Ux="_tabButtonActive_1uwy7_57",Hx="_statusBanner_1uwy7_63",zx="_statusSuccess_1uwy7_71",Bx="_statusError_1uwy7_77",Kx="_statusInfo_1uwy7_83",Wx="_loading_1uwy7_89",qx="_tabGrid_1uwy7_95",Yx="_tabStack_1uwy7_101",Qx="_cardLarge_1uwy7_107",Jx="_cardSmall_1uwy7_118",Xx="_formGrid_1uwy7_129",Zx="_field_1uwy7_135",ej="_fieldFull_1uwy7_158",tj="_error_1uwy7_162",nj="_inlineOptions_1uwy7_167",rj="_radio_1uwy7_173",sj="_previewList_1uwy7_180",aj="_subCard_1uwy7_197",ij="_subHeader_1uwy7_207",lj="_pillButton_1uwy7_215",oj="_pillButtonActive_1uwy7_226",cj="_warningList_1uwy7_232",uj="_sortableList_1uwy7_239",dj="_sortableItem_1uwy7_245",fj="_dragOver_1uwy7_255",pj="_sortableHandle_1uwy7_259",mj="_sortableBody_1uwy7_265",gj="_muted_1uwy7_281",hj="_addInline_1uwy7_286",yj="_listHeader_1uwy7_302",vj="_inlineStatus_1uwy7_308",wj="_aiActions_1uwy7_317",_j="_vaultInfoCard_1uwy7_324",xj="_vaultLabel_1uwy7_336",jj="_vaultActions_1uwy7_341",b={root:Ix,topBar:Rx,title:Ax,subtitle:Gx,actions:Mx,autosaveState:$x,tabBar:Ox,tabButton:Vx,tabButtonActive:Ux,statusBanner:Hx,statusSuccess:zx,statusError:Bx,statusInfo:Kx,loading:Wx,tabGrid:qx,tabStack:Yx,cardLarge:Qx,cardSmall:Jx,formGrid:Xx,field:Zx,fieldFull:ej,error:tj,inlineOptions:nj,radio:rj,previewList:sj,subCard:aj,subHeader:ij,pillButton:lj,pillButtonActive:oj,warningList:cj,sortableList:uj,sortableItem:dj,dragOver:fj,sortableHandle:pj,sortableBody:mj,muted:gj,addInline:hj,listHeader:yj,inlineStatus:vj,aiActions:wj,vaultInfoCard:_j,vaultLabel:xj,vaultActions:jj},Sj=650,kj=["profile","macros","meals","shopping","interface","ai","vault"],bj={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9},Nj={balanced:{protein:25,fat:30,carbs:45},high_protein:{protein:30,fat:25,carbs:45},low_fat:{protein:30,fat:20,carbs:50}};function pp(e){if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const n=new Date;let r=n.getFullYear()-t.getFullYear();const s=n.getMonth()-t.getMonth();return(s<0||s===0&&n.getDate()<t.getDate())&&(r-=1),r}function Pj(e,t){const n=e.weightKg,r=e.heightCm,s=pp(e.birthdate);if(!n||!r)return null;switch(t.formula){case"mifflin":{if(s===null)return null;const a=10*n+6.25*r-5*s;return e.sex==="female"?a-161:e.sex==="male"?a+5:a-78}case"harris":{if(s===null)return null;if(e.sex==="female")return 655.1+9.563*n+1.85*r-4.676*s;if(e.sex==="male")return 66.5+13.75*n+5.003*r-6.755*s;const a=655.1+9.563*n+1.85*r-4.676*s,l=66.5+13.75*n+5.003*r-6.755*s;return(a+l)/2}case"katch":return t.bodyFatPercent===null||t.bodyFatPercent<=0||t.bodyFatPercent>=60?null:370+21.6*(n*(1-t.bodyFatPercent/100));default:return null}}function Ki(e,t){const n=Pj(e,t.calc),r=bj[t.calc.pal]??1.4,s=n?n*r:null,a=s?s*(1+t.calc.goalDeltaPercent/100):null;let l=t.targets.kcal,o=t.targets.proteinG,c=t.targets.fatG,u=t.targets.carbsG,d=t.targets.sugarG,y=t.targets.fiberG;const f=[],_=e.weightKg??null;if(t.targets.mode==="auto_percent"){a&&(l=a);const x=t.targets.autoPresets;x.proteinPercent+x.fatPercent+x.carbsPercent!==100&&f.push("percent_sum"),l&&(o=l*x.proteinPercent/100/4,c=l*x.fatPercent/100/9,u=l*x.carbsPercent/100/4,d=t.targets.sugarG??null,y=t.targets.fiberG??null)}else if(t.targets.mode==="auto_per_kg")if(a&&(l=a),!_)f.push("perkg_weight_missing"),o=null,c=null,u=null;else{if(o=_*t.targets.autoPerKg.protein,c=_*t.targets.autoPerKg.fat,l){const x=o*4,k=c*9;u=Math.max(l-(x+k),0)/4}else u=null;d=t.targets.sugarG??null,y=t.targets.fiberG??null}else{l=t.targets.kcal;const x=t.targets.manual;t.targets.manualUnits==="percent"?l&&(o=l*x.protein/100/4,c=l*x.fat/100/9,u=l*x.carbs/100/4,d=l*x.sugar/100/4,y=x.fiber):(o=x.protein,c=x.fat,u=x.carbs,d=x.sugar,y=x.fiber)}return{bmr:n,tdee:s,adjusted:a,targets:{kcal:l?Math.round(l):null,protein:o?Math.round(o):null,fat:c?Math.round(c):null,carbs:u?Math.round(u):null,sugar:d?Math.round(d):null,fiber:y?Math.round(y):null},warnings:f}}function Rr(e){return Object.values(e).some(t=>!!t)}function Cj(e,t,n){return Math.min(Math.max(e,t),n)}function Wi(e,t,n=1){return e===null||t===null?!1:Math.abs(e-t)<=n}function Ej(){const{t:e}=Ye(),{language:t,setLanguage:n}=Uo(),[r,s]=h.useState("profile"),[a,l]=h.useState(null),[o,c]=h.useState(Qr),[u,d]=h.useState(Ne),[y,f]=h.useState(null),[_,x]=h.useState(!0),[k,D]=h.useState(!1),[g,m]=h.useState("idle"),[p,w]=h.useState({}),[S,E]=h.useState({}),[F,L]=h.useState(null),[$,U]=h.useState(null),[M,K]=h.useState([]),[re,ue]=h.useState(null),[Re,Ue]=h.useState(null),[C,P]=h.useState(null),I=h.useRef(null),G=h.useRef(!1),q=h.useRef(o),ae=h.useRef(u);h.useEffect(()=>{q.current=o},[o]),h.useEffect(()=>{ae.current=u},[u]);const R=h.useCallback(v=>{const j={};v.heightCm!==null&&(v.heightCm<120||v.heightCm>230)&&(j.heightCm=e("settings.profile.error.height")),v.weightKg!==null&&(v.weightKg<30||v.weightKg>220)&&(j.weightKg=e("settings.profile.error.weight"));const N=pp(v.birthdate);return N!==null&&(N<14||N>90)&&(j.birthdate=e("settings.profile.error.birthdate")),v.goal.deltaPercent<-25||v.goal.deltaPercent>25?j.goalDelta=e("settings.profile.error.goalDelta"):v.goal.mode==="maintain"&&Math.abs(v.goal.deltaPercent)>3?j.goalDelta=e("settings.profile.error.goalMaintain"):v.goal.mode==="cut"&&v.goal.deltaPercent>0?j.goalDelta=e("settings.profile.error.goalCut"):v.goal.mode==="bulk"&&v.goal.deltaPercent<0&&(j.goalDelta=e("settings.profile.error.goalBulk")),j},[e]),W=h.useCallback((v,j,N)=>{const V={},Te=j.targets.kcal;if((Te<900||Te>4500)&&(V.kcal=e("settings.macros.error.kcal")),j.targets.mode==="auto_percent"){const{proteinPercent:Ae,fatPercent:$t,carbsPercent:Hp}=j.targets.autoPresets,Xo=Ae+$t+Hp;Xo!==100&&(V.percentSum=e("settings.macros.error.percentSum",{value:String(Xo)}))}if(j.targets.mode==="auto_per_kg"&&((!v.weightKg||v.weightKg<=0)&&(V.perKg=e("settings.macros.error.weightMissing")),(j.targets.autoPerKg.protein<.8||j.targets.autoPerKg.protein>3)&&(V.protein=e("settings.macros.error.perKgProtein")),(j.targets.autoPerKg.fat<.5||j.targets.autoPerKg.fat>1.5)&&(V.fat=e("settings.macros.error.perKgFat"))),j.targets.mode==="manual")if(j.targets.manualUnits==="grams")j.targets.manual.protein/Math.max(v.weightKg??1,1)<.8&&(V.protein=e("settings.macros.warning.lowProtein")),j.targets.manual.fat/Math.max(v.weightKg??1,1)<.5&&(V.fat=e("settings.macros.warning.lowFat"));else{const Ae=j.targets.manual.protein+j.targets.manual.fat+j.targets.manual.carbs;Math.abs(Ae-100)>.1&&(V.percentSum=e("settings.macros.error.percentSum",{value:Ae.toFixed(1)}))}return N.targets.fat&&N.targets.kcal&&N.targets.fat*9/N.targets.kcal<.2&&(V.fat=e("settings.macros.warning.lowFat")),V},[e]),O=h.useCallback(v=>{if(!v.meals.sections||v.meals.sections.length===0)return e("settings.meals.error.empty");if(v.meals.sections.length>8)return e("settings.meals.error.tooMany");const j=new Set;for(const N of v.meals.sections){if(!N.id||!/^[a-z0-9_-]+$/.test(N.id))return e("settings.meals.error.invalidId");if(j.has(N.id))return e("settings.meals.error.duplicate");j.add(N.id)}return null},[e]),T=h.useCallback(v=>{if(!v.shopping.categories||v.shopping.categories.length===0)return e("settings.shopping.error.empty");const j=new Set;for(const N of v.shopping.categories){if(!N.id||!/^[a-z0-9_-]+$/.test(N.id))return e("settings.shopping.error.invalidId");if(j.has(N.id))return e("settings.shopping.error.duplicate");j.add(N.id)}return null},[e]),Y=h.useCallback(()=>{a&&(G.current=!0,I.current&&window.clearTimeout(I.current),I.current=window.setTimeout(()=>{ee()},Sj))},[a]),ee=h.useCallback(async()=>{if(!a){f({type:"error",message:e("settings.status.noVault")});return}if(G.current){if(Rr(p)||Rr(S)||F||$){f({type:"error",message:e("settings.status.validationError")}),m("error");return}m("saving"),D(!0);try{await U1(a,q.current),await H1(a,ae.current),G.current=!1,m("saved"),f({type:"success",message:e("settings.status.saved")})}catch(v){console.error("Failed to save settings",v),m("error"),f({type:"error",message:e("settings.status.saveError")})}finally{D(!1)}}},[S,F,p,$,e,a]);h.useEffect(()=>()=>{I.current&&window.clearTimeout(I.current)},[]),h.useEffect(()=>{m("idle")},[r]);const we=h.useCallback(async v=>{if(!v){c(Qr),d(Ne),x(!1);return}try{x(!0);const j=await V1(v),N=await cp(v);c(j),d(N),w(R(j));const V=Ki(j,N);K(V.warnings),E(W(j,N,V)),L(O(N)),U(T(N)),N.ui.language&&N.ui.language!==t&&n(N.ui.language)}catch(j){console.error("Failed to load user settings",j),f({type:"error",message:e("settings.status.loadError")})}finally{x(!1)}},[t,n,e,W,O,R,T]);h.useEffect(()=>{if(typeof window>"u"||!("indexedDB"in window)){x(!1);return}let v=!1;return(async()=>{try{const N=await Ft();if(!N){x(!1);return}if(!await be(N)){await Ze(),x(!1);return}v||(l(N),we(N))}catch(N){console.error("Failed to restore vault handle",N),f({type:"error",message:e("settings.status.loadError")}),x(!1)}})(),()=>{v=!0}},[we,e]),h.useEffect(()=>{u.calc&&u.calc.goalDeltaPercent!==o.goal.deltaPercent&&d(v=>({...v,calc:{...v.calc,goalDeltaPercent:o.goal.deltaPercent}}))},[o.goal.deltaPercent,u.calc]),h.useEffect(()=>{const v=Ki(o,u);K(v.warnings),E(W(o,u,v)),u.targets.mode!=="manual"&&d(j=>{const N=j.targets,V={...N,kcal:v.targets.kcal??N.kcal,proteinG:v.targets.protein??N.proteinG,fatG:v.targets.fat??N.fatG,carbsG:v.targets.carbs??N.carbsG,sugarG:v.targets.sugar??N.sugarG,fiberG:v.targets.fiber??N.fiberG};if(N.kcal===V.kcal&&Wi(N.proteinG,V.proteinG)&&Wi(N.fatG,V.fatG)&&Wi(N.carbsG,V.carbsG))return j;const Te={...j,targets:V};return ae.current=Te,Te}),L(O(u)),U(T(u))},[o,u,W,O,T]);const Z=h.useCallback(async()=>{if(typeof window>"u"||!window.showDirectoryPicker){f({type:"error",message:e("settings.status.browserUnsupported")});return}try{const v=await window.showDirectoryPicker();if(!v)return;if(!await be(v)){f({type:"error",message:e("settings.status.permissionError")});return}l(v),"indexedDB"in window&&await Mt(v),f({type:"success",message:e("settings.status.connected",{folder:v.name})}),we(v)}catch(v){if((v==null?void 0:v.name)==="AbortError")return;console.error("Failed to select vault",v),f({type:"error",message:e("settings.status.genericError")})}},[we,e]),Qe=h.useCallback(v=>{c(j=>{const N=v(j);return w(R(N)),Y(),N})},[Y,R]),se=h.useCallback(v=>{d(j=>{const N=v(j);return Y(),N})},[Y]),_e=h.useMemo(()=>Ki(o,u),[o,u]),_n=v=>j=>{const N=j.target.value;Qe(V=>{if(v==="heightCm"||v==="weightKg"){const Te=N===""?null:Number.parseFloat(N);return{...V,[v]:Number.isFinite(Te)?Te:null}}return v==="birthdate"?{...V,birthdate:N||null}:v==="notes"?{...V,notes:N}:{...V,[v]:N}})},ci=v=>{Qe(j=>({...j,goal:{...j.goal,mode:v,deltaPercent:v==="maintain"?0:Cj(j.goal.deltaPercent,v==="cut"?-25:5,v==="cut"?-5:25)}}))},mp=v=>{const j=Number.parseFloat(v.target.value);Qe(N=>({...N,goal:{...N.goal,deltaPercent:Number.isFinite(j)?j:N.goal.deltaPercent}}))},gp=v=>{const j=v.target.value;Qe(N=>({...N,activityLevel:j})),se(N=>({...N,calc:{...N.calc,pal:j}}))},hp=v=>{se(j=>({...j,targets:{...j.targets,mode:v}}))},yp=v=>{const j=Nj[v];se(N=>({...N,targets:{...N.targets,autoPresets:{name:v,proteinPercent:j.protein,fatPercent:j.fat,carbsPercent:j.carbs}}}))},ui=v=>j=>{const N=Number.parseFloat(j.target.value);Number.isFinite(N)&&se(V=>({...V,targets:{...V.targets,autoPresets:{...V.targets.autoPresets,[v]:N}}}))},Qo=v=>j=>{const N=Number.parseFloat(j.target.value);Number.isFinite(N)&&se(V=>({...V,targets:{...V.targets,autoPerKg:{...V.targets.autoPerKg,[v]:N}}}))},vp=v=>{se(j=>({...j,targets:{...j.targets,manualUnits:v}}))},_r=v=>j=>{const N=Number.parseFloat(j.target.value);se(V=>({...V,targets:{...V.targets,manual:{...V.targets.manual,[v]:Number.isFinite(N)?N:V.targets.manual[v]}}}))},wp=v=>{const j=Number.parseFloat(v.target.value);Number.isFinite(j)&&se(N=>({...N,targets:{...N.targets,kcal:j}}))},_p=v=>{const j=v.target.value;se(N=>({...N,ui:{...N.ui,language:j}})),n(j)},Jo=v=>j=>{const N=j.target.value;se(V=>({...V,ui:{...V.ui,units:{...V.ui.units,[v]:N}}}))},xp=v=>{const j=Number.parseInt(v.target.value,10);se(N=>({...N,ui:{...N.ui,numberDecimals:j}}))},jp=v=>{const j=v.target.value;se(N=>({...N,ui:{...N.ui,dateFormat:j}}))},Sp=(v,j)=>{se(N=>({...N,meals:{...N.meals,sections:N.meals.sections.map(V=>V.id===v?{...V,enabled:j}:V)}}))},kp=(v,j)=>{se(N=>({...N,meals:{...N.meals,sections:N.meals.sections.map(V=>V.id===v?{...V,label:j}:V)}}))},bp=v=>{v.preventDefault();const j=v.currentTarget,N=new FormData(j),V=String(N.get("sectionLabel")??"").trim();if(!V)return;const Te=gs(V)||`section-${Date.now()}`;se(Ae=>({...Ae,meals:{...Ae.meals,sections:[...Ae.meals.sections,{id:Te,label:V,enabled:!0}]}})),j.reset()},Np=v=>{!re||re===v||se(j=>{const N=[...j.meals.sections],V=N.findIndex($t=>$t.id===re),Te=N.findIndex($t=>$t.id===v);if(V===-1||Te===-1)return j;const[Ae]=N.splice(V,1);return N.splice(Te,0,Ae),{...j,meals:{...j.meals,sections:N}}})},Pp=(v,j)=>{se(N=>({...N,shopping:{...N.shopping,categories:N.shopping.categories.map(V=>V.id===v?{...V,name:j}:V)}}))},Cp=v=>{v.preventDefault();const j=v.currentTarget,N=new FormData(j),V=String(N.get("categoryName")??"").trim();if(!V)return;const Te=gs(V)||`category-${Date.now()}`;se(Ae=>({...Ae,shopping:{...Ae.shopping,categories:[...Ae.shopping.categories,{id:Te,name:V,builtin:!1}]}})),j.reset()},Ep=v=>{!Re||Re===v||se(j=>{const N=[...j.shopping.categories],V=N.findIndex($t=>$t.id===Re),Te=N.findIndex($t=>$t.id===v);if(V===-1||Te===-1)return j;const[Ae]=N.splice(V,1);return N.splice(Te,0,Ae),{...j,shopping:{...j.shopping,categories:N}}})},Lp=v=>{se(j=>({...j,shopping:{...j.shopping,categories:j.shopping.categories.filter(N=>N.id!==v)}}))},Fp=v=>{const j=v.target.value;se(N=>({...N,ai:{...N.ai,mode:j}}))},xr=v=>j=>{const N=j.target.value;se(V=>({...V,ai:{...V.ai,[v]:v==="timeoutMs"?Number.parseInt(N,10)||V.ai.timeoutMs:N}}))},Tp=async()=>{P({type:"info",message:e("settings.ai.testing")});const v=u.ai;if(v.mode==="http"&&(!v.baseUrl||!v.modelName)){P({type:"error",message:e("settings.ai.error.missingFields")});return}await new Promise(j=>setTimeout(j,400)),P({type:"success",message:e("settings.ai.success")})},Dp=Rr(p)||Rr(S)||!!F||!!$,Ip=()=>{switch(g){case"saving":return e("settings.autosave.saving");case"saved":return e("settings.autosave.saved");case"error":return e("settings.autosave.error");default:return G.current?e("settings.autosave.pending"):e("settings.autosave.idle")}},Rp=()=>i.jsxs("div",{className:b.tabGrid,children:[i.jsxs("section",{className:b.cardLarge,children:[i.jsx("h2",{children:e("settings.profile.title")}),i.jsxs("div",{className:b.formGrid,children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.name")}),i.jsx("input",{value:o.name,onChange:_n("name")})]}),i.jsxs("div",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.sex")}),i.jsx("div",{className:b.inlineOptions,children:["female","male","unspecified"].map(v=>i.jsxs("label",{className:b.radio,children:[i.jsx("input",{type:"radio",name:"sex",value:v,checked:o.sex===v,onChange:()=>Qe(j=>({...j,sex:v}))}),i.jsx("span",{children:e(`settings.profile.sex.${v}`)})]},v))})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.birthdate")}),i.jsx("input",{type:"date",value:o.birthdate??"",onChange:_n("birthdate")}),p.birthdate&&i.jsx("span",{className:b.error,children:p.birthdate})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.height")}),i.jsx("input",{type:"number",value:o.heightCm??"",onChange:_n("heightCm"),placeholder:"170"}),p.heightCm&&i.jsx("span",{className:b.error,children:p.heightCm})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.weight")}),i.jsx("input",{type:"number",value:o.weightKg??"",onChange:_n("weightKg"),placeholder:"60"}),p.weightKg&&i.jsx("span",{className:b.error,children:p.weightKg})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.activity")}),i.jsx("select",{value:o.activityLevel,onChange:gp,children:["sedentary","light","moderate","active","very_active"].map(v=>i.jsx("option",{value:v,children:e(`settings.profile.activity.${v}`)},v))})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.goal.mode")}),i.jsx("select",{value:o.goal.mode,onChange:v=>ci(v.target.value),children:["cut","maintain","bulk"].map(v=>i.jsx("option",{value:v,children:e(`settings.profile.goal.${v}`)},v))})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.profile.goal.delta")}),i.jsx("input",{type:"number",value:o.goal.deltaPercent,onChange:mp,step:1}),p.goalDelta&&i.jsx("span",{className:b.error,children:p.goalDelta})]}),i.jsxs("label",{className:`${b.field} ${b.fieldFull}`,children:[i.jsx("span",{children:e("settings.profile.notes")}),i.jsx("textarea",{value:o.notes,onChange:_n("notes"),rows:4})]})]})]}),i.jsxs("section",{className:b.cardSmall,children:[i.jsx("h3",{children:e("settings.profile.preview.title")}),i.jsxs("dl",{className:b.previewList,children:[i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.bmr")}),i.jsx("dd",{children:_e.bmr?`${Math.round(_e.bmr)} ${e("settings.common.kcal")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.tdee")}),i.jsx("dd",{children:_e.tdee?`${Math.round(_e.tdee)} ${e("settings.common.kcal")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.adjusted")}),i.jsx("dd",{children:_e.adjusted?`${Math.round(_e.adjusted)} ${e("settings.common.kcal")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.protein")}),i.jsx("dd",{children:_e.targets.protein?`${_e.targets.protein} ${e("settings.common.grams")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.fat")}),i.jsx("dd",{children:_e.targets.fat?`${_e.targets.fat} ${e("settings.common.grams")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.carbs")}),i.jsx("dd",{children:_e.targets.carbs?`${_e.targets.carbs} ${e("settings.common.grams")}`:""})]})]})]})]}),Ap=()=>i.jsxs("div",{className:b.tabStack,children:[i.jsxs("section",{className:b.cardLarge,children:[i.jsx("h2",{children:e("settings.macros.title")}),i.jsxs("div",{className:b.formGrid,children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.formula")}),i.jsx("select",{value:u.calc.formula,onChange:v=>se(j=>({...j,calc:{...j.calc,formula:v.target.value}})),children:["mifflin","katch","harris"].map(v=>i.jsx("option",{value:v,children:e(`settings.macros.formula.${v}`)},v))})]}),u.calc.formula==="katch"&&i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.bodyFat")}),i.jsx("input",{type:"number",value:u.calc.bodyFatPercent??"",onChange:v=>se(j=>({...j,calc:{...j.calc,bodyFatPercent:Number.parseFloat(v.target.value)||null}})),placeholder:"18"})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.pal")}),i.jsx("select",{value:u.calc.pal,onChange:v=>se(j=>({...j,calc:{...j.calc,pal:v.target.value}})),children:["sedentary","light","moderate","active","very_active"].map(v=>i.jsx("option",{value:v,children:e(`settings.profile.activity.${v}`)},v))})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.goalDelta")}),i.jsx("input",{type:"number",value:u.calc.goalDeltaPercent,onChange:v=>se(j=>({...j,calc:{...j.calc,goalDeltaPercent:Number.parseFloat(v.target.value)||0}}))})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.mode")}),i.jsx("select",{value:u.targets.mode,onChange:v=>hp(v.target.value),children:["auto_percent","auto_per_kg","manual"].map(v=>i.jsx("option",{value:v,children:e(`settings.macros.mode.${v}`)},v))})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.kcal")}),i.jsx("input",{type:"number",value:u.targets.kcal,onChange:wp}),S.kcal&&i.jsx("span",{className:b.error,children:S.kcal})]})]}),u.targets.mode==="auto_percent"&&i.jsxs("div",{className:b.subCard,children:[i.jsxs("div",{className:b.subHeader,children:[i.jsx("h3",{children:e("settings.macros.autoPercent.title")}),i.jsx("div",{className:b.inlineOptions,children:["balanced","high_protein","low_fat"].map(v=>i.jsx("button",{type:"button",className:Pt(b.pillButton,u.targets.autoPresets.name===v&&b.pillButtonActive),onClick:()=>yp(v),children:e(`settings.macros.preset.${v}`)},v))})]}),i.jsxs("div",{className:b.formGrid,children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.autoPercent.protein")}),i.jsx("input",{type:"number",value:u.targets.autoPresets.proteinPercent,onChange:ui("proteinPercent")})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.autoPercent.fat")}),i.jsx("input",{type:"number",value:u.targets.autoPresets.fatPercent,onChange:ui("fatPercent")})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.autoPercent.carbs")}),i.jsx("input",{type:"number",value:u.targets.autoPresets.carbsPercent,onChange:ui("carbsPercent")})]})]}),S.percentSum&&i.jsx("div",{className:b.error,children:S.percentSum})]}),u.targets.mode==="auto_per_kg"&&i.jsxs("div",{className:b.subCard,children:[i.jsx("h3",{children:e("settings.macros.autoKg.title")}),i.jsxs("div",{className:b.formGrid,children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.autoKg.protein")}),i.jsx("input",{type:"number",step:"0.1",value:u.targets.autoPerKg.protein,onChange:Qo("protein")}),S.protein&&i.jsx("span",{className:b.error,children:S.protein})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.autoKg.fat")}),i.jsx("input",{type:"number",step:"0.1",value:u.targets.autoPerKg.fat,onChange:Qo("fat")}),S.fat&&i.jsx("span",{className:b.error,children:S.fat})]})]}),S.perKg&&i.jsx("div",{className:b.error,children:S.perKg})]}),u.targets.mode==="manual"&&i.jsxs("div",{className:b.subCard,children:[i.jsx("h3",{children:e("settings.macros.manual.title")}),i.jsx("div",{className:b.inlineOptions,children:["grams","percent"].map(v=>i.jsx("button",{type:"button",className:Pt(b.pillButton,u.targets.manualUnits===v&&b.pillButtonActive),onClick:()=>vp(v),children:e(`settings.macros.manual.units.${v}`)},v))}),i.jsxs("div",{className:b.formGrid,children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.manual.protein")}),i.jsx("input",{type:"number",value:u.targets.manual.protein,onChange:_r("protein")})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.manual.fat")}),i.jsx("input",{type:"number",value:u.targets.manual.fat,onChange:_r("fat")})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.manual.carbs")}),i.jsx("input",{type:"number",value:u.targets.manual.carbs,onChange:_r("carbs")})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.manual.sugar")}),i.jsx("input",{type:"number",value:u.targets.manual.sugar,onChange:_r("sugar")})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.macros.manual.fiber")}),i.jsx("input",{type:"number",value:u.targets.manual.fiber,onChange:_r("fiber")})]})]})]})]}),i.jsxs("section",{className:b.cardSmall,children:[i.jsx("h3",{children:e("settings.macros.preview.title")}),i.jsxs("dl",{className:b.previewList,children:[i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.adjusted")}),i.jsx("dd",{children:_e.adjusted?`${Math.round(_e.adjusted)} ${e("settings.common.kcal")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.protein")}),i.jsx("dd",{children:_e.targets.protein?`${_e.targets.protein} ${e("settings.common.grams")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.fat")}),i.jsx("dd",{children:_e.targets.fat?`${_e.targets.fat} ${e("settings.common.grams")}`:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:e("settings.profile.preview.carbs")}),i.jsx("dd",{children:_e.targets.carbs?`${_e.targets.carbs} ${e("settings.common.grams")}`:""})]})]}),M.length>0&&i.jsx("ul",{className:b.warningList,children:M.map(v=>i.jsx("li",{children:e(`settings.macros.warning.${v}`)},v))}),Rr(S)&&i.jsx("ul",{className:b.warningList,children:Object.entries(S).filter(([,v])=>v).map(([v,j])=>i.jsx("li",{children:j},v))})]})]}),Gp=()=>i.jsx("div",{className:b.tabStack,children:i.jsxs("section",{className:b.cardLarge,children:[i.jsx("h2",{children:e("settings.meals.title")}),i.jsx("div",{className:b.listHeader,children:i.jsx(Jr,{id:"section-totals",label:e("settings.meals.showTotals"),checked:u.meals.showSectionTotals,onChange:v=>se(j=>({...j,meals:{...j.meals,showSectionTotals:v}}))})}),i.jsx("div",{className:b.sortableList,children:u.meals.sections.map(v=>i.jsxs("div",{className:b.sortableItem,draggable:!0,onDragStart:()=>ue(v.id),onDragOver:j=>{j.preventDefault(),re&&re!==v.id&&j.currentTarget.classList.add(b.dragOver)},onDragLeave:j=>{j.currentTarget.classList.remove(b.dragOver)},onDrop:j=>{j.preventDefault(),j.currentTarget.classList.remove(b.dragOver),Np(v.id)},children:[i.jsx("div",{className:b.sortableHandle,children:""}),i.jsx(Jr,{id:`meal-${v.id}`,label:"",checked:v.enabled,onChange:j=>Sp(v.id,j)}),i.jsxs("div",{className:b.sortableBody,children:[i.jsx("input",{value:v.label,onChange:j=>kp(v.id,j.target.value)}),i.jsxs("span",{className:b.muted,children:["/",v.id]})]})]},v.id))}),F&&i.jsx("div",{className:b.error,children:F}),i.jsxs("form",{className:b.addInline,onSubmit:bp,children:[i.jsx("input",{name:"sectionLabel",placeholder:e("settings.meals.addPlaceholder")}),i.jsx(z,{type:"submit",variant:"outlined",children:e("settings.meals.addSection")})]})]})}),Mp=()=>i.jsx("div",{className:b.tabStack,children:i.jsxs("section",{className:b.cardLarge,children:[i.jsx("h2",{children:e("settings.shopping.title")}),i.jsx("div",{className:b.listHeader,children:i.jsx(Jr,{id:"shopping-sort",label:e("settings.shopping.sort"),checked:u.shopping.sortUnpurchasedFirst,onChange:v=>se(j=>({...j,shopping:{...j.shopping,sortUnpurchasedFirst:v}}))})}),i.jsx("div",{className:b.sortableList,children:u.shopping.categories.map(v=>i.jsxs("div",{className:b.sortableItem,draggable:!v.builtin,onDragStart:()=>{v.builtin||Ue(v.id)},onDragOver:j=>{v.builtin||(j.preventDefault(),j.currentTarget.classList.add(b.dragOver))},onDragLeave:j=>j.currentTarget.classList.remove(b.dragOver),onDrop:j=>{j.preventDefault(),j.currentTarget.classList.remove(b.dragOver),Ep(v.id)},children:[i.jsx("div",{className:b.sortableHandle,children:""}),i.jsxs("div",{className:b.sortableBody,children:[i.jsx("input",{value:v.name,onChange:j=>Pp(v.id,j.target.value),disabled:v.builtin}),i.jsxs("span",{className:b.muted,children:["/",v.id]})]}),!v.builtin&&i.jsx(z,{variant:"ghost",onClick:()=>Lp(v.id),children:e("settings.shopping.remove")})]},v.id))}),$&&i.jsx("div",{className:b.error,children:$}),i.jsxs("form",{className:b.addInline,onSubmit:Cp,children:[i.jsx("input",{name:"categoryName",placeholder:e("settings.shopping.addPlaceholder")}),i.jsx(z,{type:"submit",variant:"outlined",children:e("settings.shopping.addCategory")})]})]})}),$p=()=>i.jsx("div",{className:b.tabStack,children:i.jsxs("section",{className:b.cardLarge,children:[i.jsx("h2",{children:e("settings.interface.title")}),i.jsxs("div",{className:b.formGrid,children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.interface.language")}),i.jsxs("select",{value:u.ui.language,onChange:_p,children:[i.jsx("option",{value:"en",children:e("settings.interface.language.en")}),i.jsx("option",{value:"ru",children:e("settings.interface.language.ru")})]})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.interface.mass")}),i.jsxs("select",{value:u.ui.units.mass,onChange:Jo("mass"),children:[i.jsx("option",{value:"g",children:e("settings.interface.mass.g")}),i.jsx("option",{value:"kg",children:e("settings.interface.mass.kg")})]})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.interface.volume")}),i.jsxs("select",{value:u.ui.units.volume,onChange:Jo("volume"),children:[i.jsx("option",{value:"ml",children:e("settings.interface.volume.ml")}),i.jsx("option",{value:"l",children:e("settings.interface.volume.l")})]})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.interface.decimals")}),i.jsxs("select",{value:u.ui.numberDecimals,onChange:xp,children:[i.jsx("option",{value:0,children:"0"}),i.jsx("option",{value:1,children:"0.0"}),i.jsx("option",{value:2,children:"0.00"})]})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.interface.dateFormat")}),i.jsxs("select",{value:u.ui.dateFormat,onChange:jp,children:[i.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),i.jsx("option",{value:"DD.MM.YYYY",children:"DD.MM.YYYY"})]})]})]})]})}),Op=()=>i.jsx("div",{className:b.tabStack,children:i.jsxs("section",{className:b.cardLarge,children:[i.jsx("h2",{children:e("settings.ai.title")}),i.jsxs("div",{className:b.formGrid,children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.ai.mode")}),i.jsxs("select",{value:u.ai.mode,onChange:Fp,children:[i.jsx("option",{value:"local",children:e("settings.ai.mode.local")}),i.jsx("option",{value:"http",children:e("settings.ai.mode.http")}),i.jsx("option",{value:"manual",children:e("settings.ai.mode.manual")})]})]}),u.ai.mode!=="manual"&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.ai.baseUrl")}),i.jsx("input",{value:u.ai.baseUrl,onChange:xr("baseUrl"),placeholder:"https://..."})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.ai.apiKey")}),i.jsx("input",{type:"password",value:u.ai.apiKey,onChange:xr("apiKey"),placeholder:""})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.ai.modelName")}),i.jsx("input",{value:u.ai.modelName,onChange:xr("modelName")})]}),i.jsxs("label",{className:b.field,children:[i.jsx("span",{children:e("settings.ai.timeout")}),i.jsx("input",{type:"number",value:u.ai.timeoutMs,onChange:xr("timeoutMs")})]})]}),i.jsxs("label",{className:`${b.field} ${b.fieldFull}`,children:[i.jsx("span",{children:e("settings.ai.template")}),i.jsx("textarea",{value:u.ai.responseTemplate,onChange:xr("responseTemplate"),rows:6})]})]}),i.jsxs("div",{className:b.aiActions,children:[i.jsx(z,{variant:"outlined",onClick:Tp,children:e("settings.ai.test")}),C&&i.jsx("span",{className:Pt(b.inlineStatus,C.type==="success"&&b.statusSuccess,C.type==="error"&&b.statusError,C.type==="info"&&b.statusInfo),children:C.message})]})]})}),Vp=()=>i.jsx("div",{className:b.tabStack,children:i.jsxs("section",{className:b.cardLarge,children:[i.jsx("h2",{children:e("settings.vault.title")}),i.jsx("p",{className:b.muted,children:e("settings.vault.description")}),i.jsxs("div",{className:b.vaultInfoCard,children:[i.jsx("span",{className:b.vaultLabel,children:a?e("settings.vault.current",{folder:a.name}):e("settings.vault.empty")}),i.jsxs("div",{className:b.vaultActions,children:[i.jsx(z,{variant:"outlined",onClick:Z,children:e("settings.vault.select")}),i.jsx(z,{variant:"ghost",onClick:async()=>{await Ze(),l(null),c(Qr),d(Ne)},children:e("settings.vault.clear")})]})]})]})}),Up=()=>{switch(r){case"profile":return Rp();case"macros":return Ap();case"meals":return Gp();case"shopping":return Mp();case"interface":return $p();case"ai":return Op();case"vault":return Vp();default:return null}};return i.jsxs("div",{className:b.root,children:[i.jsxs("header",{className:b.topBar,children:[i.jsxs("div",{children:[i.jsx("h1",{className:b.title,children:e("settings.title")}),i.jsx("p",{className:b.subtitle,children:e("settings.subtitle")})]}),i.jsxs("div",{className:b.actions,children:[i.jsx("span",{className:b.autosaveState,children:Ip()}),i.jsx(z,{variant:"outlined",onClick:()=>void ee(),disabled:k||!a||Dp,children:e("settings.saveNow")})]})]}),i.jsx("nav",{className:b.tabBar,children:kj.map(v=>i.jsx("button",{type:"button",className:Pt(b.tabButton,v===r&&b.tabButtonActive),onClick:()=>s(v),children:e(`settings.tabs.${v}`)},v))}),y&&i.jsx("div",{className:Pt(b.statusBanner,y.type==="success"&&b.statusSuccess,y.type==="error"&&b.statusError,y.type==="info"&&b.statusInfo),children:y.message}),_?i.jsx("div",{className:b.loading,children:e("settings.loading")}):Up()]})}function Lj(){const{route:e,navigate:t}=Xh(),n=(()=>{switch(e){case"meal-plan":return i.jsx(U0,{onNavigateToAddFood:()=>t("add-recipe-to-day"),onNavigateToProducts:()=>t("products"),onNavigateToRecipes:()=>t("recipes"),onNavigateToRecipe:()=>t("recipe"),onNavigateToProduct:()=>t("product"),onNavigateToSettings:()=>t("settings")});case"add-recipe-to-day":return i.jsx(D1,{onNavigateBack:()=>t("meal-plan"),onNavigateToRecipe:()=>t("recipe")});case"recipes":return i.jsx(yx,{onNavigateAddRecipe:()=>t("add-recipe"),onNavigateViewRecipe:()=>t("recipe")});case"add-recipe":return i.jsx(p1,{onSaved:()=>t("recipes")});case"recipe":return i.jsx(ex,{onNavigateEdit:()=>t("add-recipe"),onNavigateAddToDay:()=>t("add-recipe-to-day"),onNavigateBackToPlan:()=>t("meal-plan")});case"products":return i.jsx(f_,{onNavigateAddProduct:()=>t("add-product"),onNavigateViewProduct:()=>t("product")});case"shopping":return i.jsx(Dx,{});case"settings":return i.jsx(Ej,{});case"product":return i.jsx(b_,{onNavigateEdit:()=>t("add-product"),onNavigateBackToPlan:()=>t("meal-plan")});case"onboarding":return i.jsx(hw,{});case"add-product":default:return i.jsx(gv,{})}})();return i.jsx(jh,{children:i.jsx(Dh,{children:i.jsx(Qh,{currentRoute:e,onNavigate:t,children:n})})})}qi.createRoot(document.getElementById("root")).render(i.jsx(im.StrictMode,{children:i.jsx(Lj,{})}));
